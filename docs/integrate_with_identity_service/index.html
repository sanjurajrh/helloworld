<!DOCTYPE html>
<html lang="en" dir="ltr" prefix="content: http://purl.org/rss/1.0/modules/content/ dc: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/ og: http://ogp.me/ns# rdfs: http://www.w3.org/2000/01/rdf-schema# sioc: http://rdfs.org/sioc/ns# sioct: http://rdfs.org/sioc/types# skos: http://www.w3.org/2004/02/skos/core# xsd: http://www.w3.org/2001/XMLSchema# article: http://ogp.me/ns/article# book: http://ogp.me/ns/book# profile: http://ogp.me/ns/profile# video: http://ogp.me/ns/video#" >

<head profile="http://www.w3.org/1999/xhtml/vocab">
	  <!--[if IE]><![endif]-->
<meta charset="utf-8" />
<meta name="revision" title="0ef8ff95-07d5-4844-b55d-015882bbab97" product="7eff92b4-effc-4326-8604-6f852e3e9747" revision="c2973328ba7082bc1ee91cdd08745139619ae7de:en-us" page="5ffade35-7a2e-4991-9fbf-83684fc0a9fb" />
<meta name="generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/integrate_with_identity_service/index" />
<link rel="shortlink" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/integrate_with_identity_service/index" />
<meta property="og:site_name" content="Red Hat Customer Portal" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/integrate_with_identity_service/index" />
<meta property="og:title" content="Integrate with Identity Service Red Hat OpenStack Platform 16.1 | Red Hat Customer Portal" />
<meta property="og:description" content="Use Active Directory or Red Hat Identity Management as an external authentication back end." />
<meta property="og:image" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:url" content="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/integrate_with_identity_service/index" />
<meta name="twitter:title" content="Integrate with Identity Service Red Hat OpenStack Platform 16.1 | Red Hat Customer Portal" />
<meta name="twitter:description" content="Use Active Directory or Red Hat Identity Management as an external authentication back end." />
<meta name="twitter:image:src" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png" />
  <title>Integrate with Identity Service Red Hat OpenStack Platform 16.1 | Red Hat Customer Portal</title>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<!--[if IEMobile]><meta http-equiv="cleartype" content="on"><![endif]-->

<!-- metaInclude -->
<meta name="avalon-host-info" content="kcs07.web.prod.ext.phx2.redhat.com" />
<meta name="avalon-version" content="fc526cb5" />
<meta name="cp-chrome-build-date" content="2020-10-15T21:45:53.836Z" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<!-- Chrome, Firefox OS and Opera -->
<meta name="theme-color" content="#000000">
<!-- Windows Phone -->
<meta name="msapplication-navbutton-color" content="#000000">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-status-bar-style" content="#000000">
<link rel="manifest" href="https://access.redhat.com/webassets/avalon/j/manifest.json">
<!-- Open Search - Tap to search -->
<link rel="search" type="application/opensearchdescription+xml" title="Red Hat Customer Portal" href="https://access.redhat.com/webassets/avalon/j/opensearch.xml" />

 

<script type="text/javascript">
    window.portal = {
        analytics : {},
        host      : "https://access.redhat.com",
        idp_url   : "https://sso.redhat.com",
        lang      : "en",  
        version   : "fc526cb5",
        builddate : "2020-10-15T21:45:53.836Z",
        fetchdate : "2020-10-19T10:39:25-0400",
        nrid      : "14615289",
        nrlk      : "2a497fa56f"
    };
</script>
<script type="text/javascript">
    if (!/\/logout.*/.test(location.pathname) && portal.host === location.origin && document.cookie.indexOf('rh_sso_session') >= 0 && !(document.cookie.indexOf('rh_jwt') >= 0)) window.location = '/login?redirectTo=' + encodeURIComponent(window.location.href);
</script>
<!-- cssInclude -->

<link rel="shortcut icon" href="favicon.ico" />

<link media="all" rel="stylesheet" type="text/css" href="bootstrap.css%3Fv=fc526cb5.css" />
<link media="all" rel="stylesheet" type="text/css" href="bootstrap-grid.css%3Fv=fc526cb5.css" />
<link media="all" rel="stylesheet" type="text/css" href="main.css%3Fv=fc526cb5.css" />
<link media="all" rel="stylesheet" type="text/css" href="components.css%3Fv=fc526cb5.css" />
<link media="all" rel="stylesheet" type="text/css" href="pages.css%3Fv=fc526cb5.css" />

<link href="chosen.css%3Fv=fc526cb5.css" rel="stylesheet" type="text/css" />

<!--[if lte IE 9]>
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/ie.css" />
<![endif]-->

<noscript>
    <style type="text/css" media="screen"> .primary-nav { display: block; } </style>
</noscript>

<!-- /cssInclude -->
<script type="text/javascript" src="require.js%3Fv=fc526cb5" data-main="/webassets/avalon/j/"></script>

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<script src="https://access.redhat.com/chrome_themes/nimbus/js/ie8.js"></script>
<![endif]-->

  <!-- TrustArc -->
  <script src="https://static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js"></script>

  <link type="text/css" rel="stylesheet" href="css__c2Nkkx_5vYh8rvZbfBAGB4EMzMtH5ouFJDBlDsnhSR8__-ax0_8bam15ZDJT9j7LilCfJrDyEhGGAgc0KC8HYvJg__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="all" />
<link type="text/css" rel="stylesheet" href="css__Jy3BSr8TrxptaufAzQDT1skBUlX2CnL_wm6BizzYuGw__-YZvqB8yuA4kK_iKklbk5HdZCoG2qAgz1l-8Qi2NFH4__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="all" />
<link type="text/css" rel="stylesheet" href="messages.css" media="all" />
<link type="text/css" rel="stylesheet" href="css__m76iIFREtc70Nmw5xe1ZwHbNBlwOP2Zjc3DcacNWnFQ__STEh8aY3w8E_bKzhB4Xke2WOQ9XMDQquHIP5B8SeDIY__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="all" />
<link type="text/css" rel="stylesheet" href="css__4sM4s6XOQ2Nm0pdkrWRLvrgtwpTmHAFzR_LcdesKYj8__vJ0jjVEhoPh3KBeLZfkqg51T3AFxhQCuXg1reipa__k__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="print" />
  <link rel="stylesheet" type="text/css" media="all" href="list.css" />
  <script src="js__ZyeOaiFuDejQQbhUV7yg7atYZnj4WLfH77o0scv4068__MZdWWgUEYpsEWLcU0RqkaXMsEyksbpCgnf4XwXRkqz0__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script src="js__5ysXPc5KIyMmizxqRY68ILfrEGrj0P29WBIifnPTJvQ__Cap0DACEVMsefumg1gS1APLLd8stDkdGfp6c1uswMo4__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script>chrometwo_require(["analytics/attributes"], function(attributes) {
attributes.set('ResourceID',       '0ef8ff95-07d5-4844-b55d-015882bbab97');
attributes.set('ResourceTitle',    'Integrate with Identity Service');
attributes.set('Language',         'en-us');
attributes.set('RevisionId',       'c2973328ba7082bc1ee91cdd08745139619ae7de:en-us');
attributes.set('PublicationState', ['active','published']);
attributes.set('Product',          'Red Hat OpenStack Platform');
attributes.set('ProductVersion',   '16.1');
attributes.set('ProductId',        'Red Hat OpenStack Platform 16.1');
});</script>
<script>breadcrumbs = [ ["Products &amp; Services", "/products/"], ["Product Documentation", "/documentation/"], ["Red Hat OpenStack Platform", "/documentation/en-us/red_hat_openstack_platform/"], ["16.1", "/documentation/en-us/red_hat_openstack_platform/16.1/"], ["Integrate with Identity Service", "/documentation/en-us/red_hat_openstack_platform/16.1/html/integrate_with_identity_service/"] ];</script>
<script>window.siteMapState = "products";</script>
<script src="js__i6ieGBO-OPmIKm_f0srsb6gM7QELIWrBpKh6ub_yj8A__wjRg_duSK4rEZCRV2uwrCIPMl80Z_LJ9ew61H5hE-ZI__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script src="js__vGeEtorfXGI3aPAp71YA74N5p8wfpYVhnoIqwaJrOiQ__8abcou7ybLtGOLy-V9E-NQlDejOMZmdStjlYfyX9W-k__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script>jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"kcs","theme_token":"niY3J_i0XXc5LyCeWHn9kUK-iwQWDe4EGG-eMXILUHo","js":{"misc\/jquery-extend-3.4.0.js":1,"misc\/jquery-html-prefilter-3.5.0-backport.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/all\/libraries\/chosen\/chosen\/chosen.jquery.min.js":1,"modules\/chosen\/chosen.js":1,"sites\/all\/modules\/custom\/rh_doc_fetcher\/js\/prism.js":1,"sites\/all\/modules\/custom\/rh_doc_fetcher\/js\/underscore.js":1,"sites\/all\/themes\/kcs\/js\/kcs_base.js":1,"sites\/all\/themes\/kcs\/js\/showdown.js":1,"sites\/all\/themes\/kcs\/js\/case_links.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/book\/book.css":1,"modules\/comment\/comment.css":1,"modules\/date\/date_api\/date.css":1,"modules\/date\/date_popup\/themes\/datepicker.1.7.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/modules\/contrib\/user_prune\/css\/user_prune.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/libraries\/chosen\/chosen\/chosen.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/contrib\/panels\/css\/panels.css":1,"sites\/all\/modules\/custom\/rate\/rate.css":1,"sites\/all\/modules\/custom\/rh_doc_fetcher\/plugins\/layouts\/docs_page\/docs_page.css":1,"https:\/\/access.redhat.com\/webassets\/avalon\/s\/messages.css":1,"sites\/all\/themes\/zen\/system.base.css":1,"sites\/all\/themes\/zen\/system.menus.css":1,"sites\/all\/themes\/zen\/system.messages.css":1,"sites\/all\/themes\/zen\/system.theme.css":1,"sites\/all\/themes\/zen\/comment.css":1,"sites\/all\/themes\/zen\/node.css":1,"sites\/all\/themes\/kcs\/css\/html-reset.css":1,"sites\/all\/themes\/kcs\/css\/wireframes.css":1,"sites\/all\/themes\/kcs\/css\/layout-fixed.css":1,"sites\/all\/themes\/kcs\/css\/page-backgrounds.css":1,"sites\/all\/themes\/kcs\/css\/tabs.css":1,"sites\/all\/themes\/kcs\/css\/pages.css":1,"sites\/all\/themes\/kcs\/css\/blocks.css":1,"sites\/all\/themes\/kcs\/css\/navigation.css":1,"sites\/all\/themes\/kcs\/css\/views-styles.css":1,"sites\/all\/themes\/kcs\/css\/nodes.css":1,"sites\/all\/themes\/kcs\/css\/comments.css":1,"sites\/all\/themes\/kcs\/css\/forms.css":1,"sites\/all\/themes\/kcs\/css\/fields.css":1,"sites\/all\/themes\/kcs\/css\/kcs.css":1,"sites\/all\/themes\/kcs\/css\/print.css":1}},"chosen":{"selector":"#edit-field-kcs-component-select-und, #edit-field-kcs-sbr-select-und, #edit-field-kcs-product-select-und, #edit-field-kcs-type-select-und, #edit-language, #edit-field-kcs-a-category-select-und, #edit-field-kcs-state-select-und, #edit-field-kcs-tags-select-und, #edit-field-kcs-state-select-value, #edit-field-vid-reference-product-und, #edit-state, #edit-product, #edit-category, #edit-field-kcs-product-select-tid, #edit-field-kcs-type-select-tid, #edit-field-kcs-a-category-select-tid, #edit-sort-bef-combine, #edit-kcs-state, #edit-field-category-tid, #edit-field-product-tid, #edit-field-tags-tid, #edit-field-category-und, #edit-field-product-und, #edit-field-tags-und, #views-exposed-form-questions-list-questions-filter-block #edit-field-category, #edit-field-tags-und, #views-exposed-form-questions-list-questions-filter-block #edit-field-product, #views-exposed-form-questions-list-questions-filter-block #edit-field-tags, #edit-field-mega-menu-tab-und, #edit-field-internal-tags-tid, #edit-tags, #edit-field-kcs-tags-select-tid, #edit-subscriptions-and-choose-field-select, #edit-subscriptions-and-type, #edit-vid-13, #edit-vid-4, #edit-vid-5, #edit-vid-53, #edit-vid-1, #edit-vid-3, #edit-group-blog, #edit-subscriptions-and-choose-field-select-two, #edit-subscriptions-and-type-two, #edit-vid-13-two, #edit-vid-4-two, #edit-vid-5-two, #edit-vid-53-two, #edit-vid-1-two, #edit-vid-3-two, #edit-group-blog-two, #edit-subscriptions-and-edit-choose-field-select, #edit-subscriptions-and-type-edit, #edit-subscriptions-and-edit-type-two, #edit-vid-13-edit-two, #edit-vid-4-edit-two, #edit-vid-5-edit-two, #edit-vid-53-edit-two, #edit-vid-1-edit-two, #edit-vid-3-edit-two, #edit-subscriptions-and-edit-choose-field-select-two, #edit-vid-13-edit, #edit-vid-4-edit, #edit-vid-5-edit, #edit-vid-53-edit, #edit-vid-1-edit, #edit-vid-3-edit, #edit-group-blog-edit, #edit-field-supported-languages-tid, #edit-field-geography-und, #edit-field-supported-products-und, #edit-field-supported-languages-und, #edit-field-vendor-und, #edit-field-errata-type-text-und, #edit-field-errata-severity-text-und, #edit-field-software-partner-level-und, #edit-field-scert-product-category-und, #edit-field-certifications-und-0-field-product-und, #edit-kcs-article-type, #edit-field-eco-industry-tag-select-tid, #edit-field-eco-software-catego-select-tid, #edit-field-ecosystem-tag-select-und, #edit-field-eco-industry-tag-select-und, #edit-field-eco-software-catego-select-und, #edit-field-vendor-tsanet-member-ref-und, #edit-field-og-vendor-ref-und-0-default, #edit-field-eco-products-enabled-col-und-0-field-eco-subscription-model-ref-und, #edit-field-eco-products-enabled-col-und-0-field-eco-support-level-ref-und, #edit-field-eco-products-enabled-col-und-0-field-eco-product-select-und, #edit-field-eco-certifications-select-und-0-field-eco-product-select-und, #edit-field-eco-certifications-select-und-0-field-eco-product-archite-select-und, #edit-field-eco-certifications-select-und-0-field-eco-certificati-lvl-select-und, #edit-field-eco-certifications-select-und-0-field-eco-hypervisor-str-und, #edit-field-eco-supported-language-ref-und, #edit-field-eco-region-ref-und, #edit-field-cs-product-category-str-und, #edit-field-eco-certifications-select-und-0-field-eco-format-ref-und, #edit-field-eco-group-access-ref-und, #edit-field-hw-category-tag-ref-und, #edit-field-profile-industry-und, #edit-field-profile-tech-interests-und, #edit-field-product-page-features-ref-und, #edit-field-eco-product-select-und, #edit-field-base-product-ref-und, #edit-field-eco-product-archite-select-und, #edit-field-eco-format-ref-und, #edit-field-certification-status-ref-und, #edit-field-certification-result-ref-und, #edit-field-og-certified-product-ref-und-0-default, #edit-field-eco-subscription-model-ref-und, #edit-field-eco-support-level-ref-und, #edit-field-eco-certificati-lvl-select-und, #edit-field-eco-hypervisor-str-und, #edit-field-ccp-thirdparty-cert-select-und, .use_, #edit-field-eco-cert-product-tag-und, #edit-field-documentation-location-ref-und, #edit-field-documentation-title-und, #edit-field-accelerator-products-und","minimum":"0"},"rh_doc_fetcher":{"page_type":"single"},"section":"","kcs":{"nodeType":null,"nodeId":null}});</script>
    <!--[if lt IE 9]>
  <script src="https://access.redhat.com/sites/all/themes/kcs/js/html5shiv.js"></script>
  <![endif]-->
  
      


    <!--kcs07-->
<script type="text/javascript">
  Drupal.portal = {"version":{"redhat_portal":"package drupal7-redhat_portal is not installed"}};
  Drupal.portal.currentUser = {};
  </script>

</head>

<body class="portal-page  kcs_external" >
  
  <div id="page-wrap" class="page-wrap">
    <div class="top-page-wrap">

        <!--googleoff: all-->
        <header class="masthead" id="masthead">

            <script>
    chrometwo_require(["wc"], function(wc){    
        wc.include("@cpelements/cp-search-autocomplete/dist/cp-search-autocomplete.umd");
    }); 
</script>

<!-- Accessibility Nav & Header -->
<div class="accessibility-nav sr-only">
    <a href="https://access.redhat.com/">
        <h1>Red Hat <span>Customer </span><span>Portal</span></h1>
    </a>
    <p><a href="index.html#cp-main">Skip to main content</a></p>
    <nav aria-labelledby="accessibility-nav-heading">
        <h2 id="accessibility-nav-heading">Main Navigation</h2>
        <ul>
    <li>
        <a href="index.html#" class="has-subnav"><span>Products &amp; Services</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/products">View All Products</a></li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Infrastructure and Management</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-virtualization/">Red Hat Virtualization</a></li>
                    <li><a href="https://access.redhat.com/products/identity-management/">Red Hat Identity Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|p|im|rhaijan2016&">Red Hat Insights</a></li>
                    <li><a href="https://access.redhat.com/products/ansible-tower-red-hat/">Red Hat Ansible Tower</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ansible-engine/">Red Hat Ansible Engine</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Cloud Computing</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloud-suite/">Red Hat Cloud Suite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-online-red-hat/">Red Hat OpenShift Online</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/">Red Hat Advanced Cluster Management for Kubernetes</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-codeready-workspaces/">Red Hat CodeReady Workspaces</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Storage</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-storage">Red Hat Openshift Container Storage</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Runtimes</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true">
                      <a href="index.html#" class="back">Back</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/thorntail/">Red Hat build of Thorntail</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/eclipse-vertx/">Red Hat build of Eclipse Vert.x</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/openjdk/">Red Hat build of OpenJDK</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/open-liberty/">Open Liberty</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/quarkus/">Red Hat build of Quarkus</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-codeready-studio/">Red Hat CodeReady Studio</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Integration and Automation</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-integration/">Red Hat Integration</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                    </li>
                    <li>
                      <a href="https://access.redhat.com/products/red-hat-process-automation/">Red Hat Process Automation</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                    </li>
                </ul>
            </li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/support/">Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
            <li><a href="https://access.redhat.com/product-life-cycles/">Product Life Cycles</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/documentation/">Documentation</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux">Red Hat Enterprise Linux</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform">Red Hat OpenStack Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/openshift_container_platform">Red Hat OpenShift Container Platform</a></li>

            <li class="heading">Services</li>
            <li><a href="https://www.redhat.com/en/services/consulting">Consulting</a></li>
            <li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
            <li><a href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications</a></li>

            
            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://catalog.redhat.com/">Ecosystem Catalog</a></li>
            <li><a href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources</a></li>
            <li><a href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a></li>
          </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Tools</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|t|c1|rhaidec2015&">Red Hat Insights</a></li>
            <li class="heading">Tools</li>
            <li><a href="https://access.redhat.com/solution-engine">Solution Engine</a></li>
            <li><a href="https://access.redhat.com/downloads/content/package-browser">Packages</a></li>
            <li><a href="https://access.redhat.com/errata/">Errata</a></li>
            <li class="heading">Customer Portal Labs</li>
            <li><a href="https://access.redhat.com/labs/">Explore Labs</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=config">Configuration</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=deploy">Deployment</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=security">Security</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=troubleshoot">Troubleshooting</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Security</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/security/">Product Security Center</a></li>
            <li class="heading">Security Updates</li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs</a></li>
            <li class="heading">Resources</li>
            <li><a href="https://access.redhat.com/security/overview/">Overview</a></li>
            <li><a href="https://access.redhat.com/blogs/product-security">Security Blog</a></li>
            <li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
            <li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
            <li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
            <li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Community</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="heading">Customer Portal Community</li>
            <li><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">Discussions</a></li>
            <li><a href="https://access.redhat.com/blogs/">Blogs</a></li>
            <li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
            <li><a href="https://access.redhat.com/community/">Community Activity</a></li>
            <li class="heading">Customer Events</li>
            <li><a href="https://access.redhat.com/convergence/">Red Hat Convergence</a></li>
            <li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
            <li class="heading">Stories</li>
            <li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value</a></li>
            <li><a href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.</a></li>
            <li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
        </ul>
    </li>
    <li><a href="https://access.redhat.com/management/">Subscriptions</a></li>
    <li><a href="https://access.redhat.com/downloads/">Downloads</a></li>
    <li><a href="https://catalog.redhat.com/software/containers/explore/">Containers</a></li>
    <li><a href="https://access.redhat.com/support/cases/">Support Cases</a></li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Account</span></a>
        <ul class="utility mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://access.redhat.com/login" id="accessibility-accountLogin">Log In</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://www.redhat.com/wapps/ugc/register.html">Register</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated">
                <div class="account-info" id="accessibility-accountUser">
                    <div class="account-name"><strong id="accessibility-userFullName"></strong></div>
                    <div class="account-org"><span id="accessibility-userOrg"></span></div>
                    <div class="account-number mobile-accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
                </div>
            </li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
            <!-- <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li> -->
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html" class="user-management-link">User Management</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user">My Profile</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user" id="accessibility-userNotificationsLink">Notifications</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/help/">Help</a></li>
            <li class="logout mobile-accountLinksLoggedIn authenticated"><a href="https://sso.redhat.com/auth/realms/redhat-external/logout?redirectUrl=https%3A%2F%2Faccess.redhat.com%2Flogout">Log Out</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Language</span></a>
        <ul class="utility mm-hide" id="accessibility-localesMenu">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=en" id="accessibility-en">English</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ko" id="accessibility-ko">한국어</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ja" id="accessibility-ja">日本語</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" id="accessibility-zh_CN">中文 (中国)</a></li>
		</ul>
    </li>
</ul>
    </nav>
</div>

<!-- Mobile Header -->
<nav class="mobile-nav-bar hidden-sm hidden-md hidden-lg" aria-hidden="true">
    <button id="menu-btn" class="menu menu-white" type="button" aria-label="Toggle Navigation">
        <span class="lines"></span>
    </button>
    <a class="logo" href="https://access.redhat.com/">
        <span class="logo-crop">
          <!-- logo -->
          <span class="sr-only">Red Hat Customer Portal</span>
          <svg aria-hidden="true" class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 950 200">
            <defs>
            <style>
              .rh-logo-type {
                fill:#fff;
              }
              .rh-logo-hat {
                fill:#e00;
              }
            </style>
            </defs>
            <g id="Two_lines" data-name="Two lines"><g id="Two_line_logo" data-name="Two line logo"><path class="rh-logo-type" d="M318.62,9.25h25.44c11.13,0,18.64,6.72,18.64,16.56,0,7.36-4.47,13-11.51,15.36l12.48,24.08h-9.29l-11.6-23H327v23h-8.4Zm8.4,7.36V35.33h16.33c6.55,0,10.87-3.76,10.87-9.36s-4.32-9.36-10.87-9.36Z"/><path class="rh-logo-type" d="M387.5,66a21,21,0,0,1-21.36-21.12c0-11.76,9-21,20.4-21,11.2,0,19.68,9.28,19.68,21.28v2.32H374.06a13.74,13.74,0,0,0,13.76,11.68,15.84,15.84,0,0,0,10.32-3.6l5.13,5A24.33,24.33,0,0,1,387.5,66ZM374.14,41.49H398.3c-1.19-6.24-6-10.88-11.92-10.88C380.22,30.61,375.34,35,374.14,41.49Z"/><path class="rh-logo-type" d="M445.18,61.41a19.23,19.23,0,0,1-12.48,4.48c-11.52,0-20.56-9.2-20.56-21a20.72,20.72,0,0,1,33-17V9.25l8-1.76V65.25h-7.92Zm-11.36-2.48a14.67,14.67,0,0,0,11.28-4.88V35.57a14.89,14.89,0,0,0-11.28-4.8,13.63,13.63,0,0,0-13.84,14A13.77,13.77,0,0,0,433.82,58.93Z"/><path class="rh-logo-type" d="M480.22,9.25h8.4v24h29.76v-24h8.4v56h-8.4V40.85H488.62v24.4h-8.4Z"/><path class="rh-logo-type" d="M534.38,53.57c0-7.68,6.24-12.4,16.48-12.4A28.75,28.75,0,0,1,562,43.41V39.09c0-5.76-3.44-8.64-9.92-8.64-3.76,0-7.6,1-12.64,3.44l-3-6c6.08-2.88,11.36-4.16,16.72-4.16,10.56,0,16.64,5.2,16.64,14.56v27H562V61.73A19.32,19.32,0,0,1,549.34,66C540.46,66,534.38,60.93,534.38,53.57Zm16.8,6.48A15.66,15.66,0,0,0,562,56.21v-7a21.15,21.15,0,0,0-10.48-2.48c-5.84,0-9.44,2.64-9.44,6.72C542.06,57.33,545.74,60.05,551.18,60.05Z"/><path class="rh-logo-type" d="M582.7,31.25h-8.64V24.53h8.64V14.13l7.92-1.92V24.53h12v6.72h-12V53.33c0,4.16,1.68,5.68,6,5.68a15.72,15.72,0,0,0,5.84-1v6.72a26.5,26.5,0,0,1-7.6,1.2c-7.92,0-12.16-3.76-12.16-10.8Z"/><path class="rh-logo-type" d="M361,132.21l7.59,7.52a30.76,30.76,0,0,1-23,10.32c-16.88,0-29.84-12.56-29.84-28.8s13-28.88,29.84-28.88c9,0,18.09,4.08,23.28,10.48l-7.83,7.76a19.52,19.52,0,0,0-15.45-7.6c-10.16,0-17.92,7.84-17.92,18.24A17.8,17.8,0,0,0,346,139.33,19.24,19.24,0,0,0,361,132.21Z"/><path class="rh-logo-type" d="M383.74,131.81c0,5.36,3.44,8.8,8.64,8.8a10.05,10.05,0,0,0,8.65-4.16V107.57h11v41.68H401v-3.36a17.79,17.79,0,0,1-11.77,4.16c-9.68,0-16.48-6.88-16.48-16.64V107.57h11Z"/><path class="rh-logo-type" d="M422.46,137c4.88,3.2,9.12,4.72,13.52,4.72,4.88,0,8.08-1.76,8.08-4.4,0-2.16-1.6-3.36-5.2-3.92l-8-1.2c-8.24-1.28-12.64-5.36-12.64-12.08,0-8.08,6.72-13.2,17.36-13.2a30.75,30.75,0,0,1,17.12,5.2l-5.28,7c-4.56-2.72-8.64-4-12.88-4-4,0-6.56,1.6-6.56,4.08,0,2.24,1.6,3.36,5.68,3.92l8,1.2c8.16,1.2,12.72,5.44,12.72,11.92,0,7.84-7.76,13.76-18.24,13.76-7.6,0-14.4-2-19.12-5.76Z"/><path class="rh-logo-type" d="M464.7,116.77h-8.56v-9.2h8.56V96.93l11-2.48v13.12H487.5v9.2H475.66v18.48c0,3.92,1.52,5.36,5.76,5.36a16.86,16.86,0,0,0,5.84-1v9a34,34,0,0,1-8.48,1.28c-9.28,0-14.08-4.24-14.08-12.4Z"/><path class="rh-logo-type" d="M512.86,106.77c12.48,0,22.24,9.52,22.24,21.68s-9.76,21.6-22.24,21.6-22.24-9.44-22.24-21.6S500.38,106.77,512.86,106.77Zm11.52,21.68c0-6.88-5-12.16-11.52-12.16s-11.52,5.28-11.52,12.16c0,6.72,5,12.08,11.52,12.08S524.38,135.17,524.38,128.45Z"/><path class="rh-logo-type" d="M541.82,107.57h11v3.12a16.21,16.21,0,0,1,10.88-3.92A15,15,0,0,1,576.22,113,17.16,17.16,0,0,1,590,106.77c9.36,0,15.91,6.8,15.91,16.56v25.92h-11V124.93c0-5.28-3-8.72-7.83-8.72a9.37,9.37,0,0,0-8,4.16,18.89,18.89,0,0,1,.23,3v25.92h-11V124.93c0-5.28-3-8.72-7.84-8.72a9.3,9.3,0,0,0-7.76,3.76v29.28h-11Z"/><path class="rh-logo-type" d="M634.78,150.05c-12.64,0-22.4-9.44-22.4-21.6a21.28,21.28,0,0,1,21.44-21.6c11.84,0,20.64,9.6,20.64,22.4v2.88h-31a12,12,0,0,0,11.84,8.72,13.12,13.12,0,0,0,9.2-3.36l7.2,6.56A25,25,0,0,1,634.78,150.05Zm-11.44-25.76h20.4c-1.36-5-5.36-8.4-10.16-8.4C628.54,115.89,624.7,119.17,623.34,124.29Z"/><path class="rh-logo-type" d="M661.18,107.57h11v4.56a13.26,13.26,0,0,1,11.12-5.52,9.44,9.44,0,0,1,4.56,1v9.6a14,14,0,0,0-5.6-1.12,11,11,0,0,0-10.08,6.24v27h-11Z"/><path class="rh-logo-type" d="M710.54,93.25h28.08c11,0,18.8,7.28,18.8,17.6,0,10-7.92,17.28-18.8,17.28H722.14v21.12h-11.6Zm11.6,10v15.28h15.2c5,0,8.32-3,8.32-7.6s-3.28-7.68-8.32-7.68Z"/><path class="rh-logo-type" d="M782.14,106.77c12.48,0,22.24,9.52,22.24,21.68s-9.76,21.6-22.24,21.6-22.24-9.44-22.24-21.6S769.66,106.77,782.14,106.77Zm11.52,21.68c0-6.88-5-12.16-11.52-12.16s-11.52,5.28-11.52,12.16c0,6.72,5,12.08,11.52,12.08S793.66,135.17,793.66,128.45Z"/><path class="rh-logo-type" d="M811.1,107.57h11v4.56a13.26,13.26,0,0,1,11.12-5.52,9.44,9.44,0,0,1,4.56,1v9.6a14,14,0,0,0-5.6-1.12,11,11,0,0,0-10.08,6.24v27h-11Z"/><path class="rh-logo-type" d="M850,116.77h-8.56v-9.2H850V96.93l11-2.48v13.12h11.84v9.2H860.94v18.48c0,3.92,1.52,5.36,5.76,5.36a16.86,16.86,0,0,0,5.84-1v9a34,34,0,0,1-8.48,1.28c-9.28,0-14.08-4.24-14.08-12.4Z"/><path class="rh-logo-type" d="M876.22,137.17c0-7.92,6.4-12.64,17.12-12.64a33.71,33.71,0,0,1,10.16,1.6v-3c0-4.8-3-7.28-8.8-7.28-3.52,0-7.44,1.12-12.72,3.44l-4-8.08a43.46,43.46,0,0,1,18.56-4.48c11.28,0,17.76,5.6,17.76,15.44v27H903.5v-2.88a19.81,19.81,0,0,1-12.08,3.6C882.46,150,876.22,144.77,876.22,137.17Zm18.08,5a15.78,15.78,0,0,0,9.2-2.64v-6.24a24.22,24.22,0,0,0-8.8-1.52c-5,0-8,2-8,5.2S889.66,142.13,894.3,142.13Z"/><path class="rh-logo-type" d="M933.58,149.25h-11v-56l11-2.4Z"/><g id="Hat_icon" data-name="Hat icon"><path id="Red_hat" data-name="Red hat" class="rh-logo-hat" d="M129,92.24c12.5,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42L151.82,39c-1.72-7.12-3.23-10.35-15.74-16.6-9.7-5-30.82-13.15-37.07-13.15-5.83,0-7.55,7.54-14.45,7.54-6.68,0-11.64-5.6-17.89-5.6-6,0-9.92,4.1-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,44,52.79C44,62,80.32,92.24,129,92.24Zm32.55-11.42c1.72,8.19,1.72,9.05,1.72,10.13,0,14-15.73,21.77-36.43,21.77-46.77,0-87.73-27.37-87.73-45.48a18.32,18.32,0,0,1,1.51-7.33C23.77,60.77,2,63.79,2,83c0,31.48,74.59,70.28,133.65,70.28,45.27,0,56.7-20.48,56.7-36.65C192.35,103.88,181.35,89.44,161.52,80.82Z"/><path class="rh-logo-band" id="Black_band" data-name="Black band" d="M161.52,80.82c1.72,8.19,1.72,9.05,1.72,10.13,0,14-15.73,21.77-36.43,21.77-46.77,0-87.73-27.37-87.73-45.48a18.32,18.32,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,44,52.79C44,62,80.32,92.24,129,92.24c12.5,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/></g><path id="Dividing_line" data-name="Dividing line" class="rh-logo-type" d="M255.47,160.75a2.25,2.25,0,0,1-2.25-2.25V4.25a2.25,2.25,0,0,1,4.5,0V158.5A2.25,2.25,0,0,1,255.47,160.75Z"/></g></g>
          </svg>
        </span>
            </a>
    <button class="btn btn-search btn-utility" data-target="#site-search">
        <span class="web-icon-search"></span>
        <span class="link-text">Search</span>
    </button>
</nav>

<!-- Mobile Menu Drawer -->
<div class="nav-drawer mobile-nav-drawer hidden-sm hidden-md hidden-lg" aria-hidden="true">
    <nav class="nav-container">
        <ul>
    <li>
        <a href="index.html#" class="has-subnav"><span>Products &amp; Services</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/products">View All Products</a></li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Infrastructure and Management</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-virtualization/">Red Hat Virtualization</a></li>
                    <li><a href="https://access.redhat.com/products/identity-management/">Red Hat Identity Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|p|im|rhaijan2016&">Red Hat Insights</a></li>
                    <li><a href="https://access.redhat.com/products/ansible-tower-red-hat/">Red Hat Ansible Tower</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ansible-engine/">Red Hat Ansible Engine</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Cloud Computing</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloud-suite/">Red Hat Cloud Suite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-online-red-hat/">Red Hat OpenShift Online</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/">Red Hat Advanced Cluster Management for Kubernetes</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-codeready-workspaces/">Red Hat CodeReady Workspaces</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Storage</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-storage">Red Hat Openshift Container Storage</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Runtimes</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true">
                      <a href="index.html#" class="back">Back</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/thorntail/">Red Hat build of Thorntail</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/eclipse-vertx/">Red Hat build of Eclipse Vert.x</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/openjdk/">Red Hat build of OpenJDK</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/open-liberty/">Open Liberty</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/quarkus/">Red Hat build of Quarkus</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-codeready-studio/">Red Hat CodeReady Studio</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Integration and Automation</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-integration/">Red Hat Integration</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                    </li>
                    <li>
                      <a href="https://access.redhat.com/products/red-hat-process-automation/">Red Hat Process Automation</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                    </li>
                </ul>
            </li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/support/">Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
            <li><a href="https://access.redhat.com/product-life-cycles/">Product Life Cycles</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/documentation/">Documentation</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux">Red Hat Enterprise Linux</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform">Red Hat OpenStack Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/openshift_container_platform">Red Hat OpenShift Container Platform</a></li>

            <li class="heading">Services</li>
            <li><a href="https://www.redhat.com/en/services/consulting">Consulting</a></li>
            <li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
            <li><a href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications</a></li>

            
            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://catalog.redhat.com/">Ecosystem Catalog</a></li>
            <li><a href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources</a></li>
            <li><a href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a></li>
          </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Tools</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|t|c1|rhaidec2015&">Red Hat Insights</a></li>
            <li class="heading">Tools</li>
            <li><a href="https://access.redhat.com/solution-engine">Solution Engine</a></li>
            <li><a href="https://access.redhat.com/downloads/content/package-browser">Packages</a></li>
            <li><a href="https://access.redhat.com/errata/">Errata</a></li>
            <li class="heading">Customer Portal Labs</li>
            <li><a href="https://access.redhat.com/labs/">Explore Labs</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=config">Configuration</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=deploy">Deployment</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=security">Security</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=troubleshoot">Troubleshooting</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Security</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/security/">Product Security Center</a></li>
            <li class="heading">Security Updates</li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs</a></li>
            <li class="heading">Resources</li>
            <li><a href="https://access.redhat.com/security/overview/">Overview</a></li>
            <li><a href="https://access.redhat.com/blogs/product-security">Security Blog</a></li>
            <li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
            <li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
            <li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
            <li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Community</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="heading">Customer Portal Community</li>
            <li><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">Discussions</a></li>
            <li><a href="https://access.redhat.com/blogs/">Blogs</a></li>
            <li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
            <li><a href="https://access.redhat.com/community/">Community Activity</a></li>
            <li class="heading">Customer Events</li>
            <li><a href="https://access.redhat.com/convergence/">Red Hat Convergence</a></li>
            <li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
            <li class="heading">Stories</li>
            <li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value</a></li>
            <li><a href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.</a></li>
            <li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
        </ul>
    </li>
    <li><a href="https://access.redhat.com/management/">Subscriptions</a></li>
    <li><a href="https://access.redhat.com/downloads/">Downloads</a></li>
    <li><a href="https://catalog.redhat.com/software/containers/explore/">Containers</a></li>
    <li><a href="https://access.redhat.com/support/cases/">Support Cases</a></li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Account</span></a>
        <ul class="utility mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://access.redhat.com/login" id="mobile-accountLogin">Log In</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://www.redhat.com/wapps/ugc/register.html">Register</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated">
                <div class="account-info" id="mobile-accountUser">
                    <div class="account-name"><strong id="mobile-userFullName"></strong></div>
                    <div class="account-org"><span id="mobile-userOrg"></span></div>
                    <div class="account-number mobile-accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
                </div>
            </li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
            <!-- <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li> -->
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html" class="user-management-link">User Management</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user">My Profile</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user" id="mobile-userNotificationsLink">Notifications</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/help/">Help</a></li>
            <li class="logout mobile-accountLinksLoggedIn authenticated"><a href="https://sso.redhat.com/auth/realms/redhat-external/logout?redirectUrl=https%3A%2F%2Faccess.redhat.com%2Flogout">Log Out</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Language</span></a>
        <ul class="utility mm-hide" id="mobile-localesMenu">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=en" id="mobile-en">English</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ko" id="mobile-ko">한국어</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ja" id="mobile-ja">日本語</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" id="mobile-zh_CN">中文 (中国)</a></li>
		</ul>
    </li>
</ul>
    </nav>
</div>

<!-- White Utility Menu for large screens -->
<div class="utility-wrap" aria-hidden="true">
    <div class="utility-container">
        <div class="utility-bar hidden-xs">
            <div role="navigation" class="top-nav">
                <ul>
                    <li id="nav-subscription" data-portal-tour-1="1"><a class="top-nav-subscriptions" href="https://access.redhat.com/management/">Subscriptions</a></li>
                    <li id="nav-downloads" data-portal-tour-1="2"><a class="top-nav-downloads" href="https://access.redhat.com/downloads/">Downloads</a></li>
                    <li id="nav-containers"><a class="top-nav-containers" href="https://catalog.redhat.com/software/containers/explore/">Containers</a></li>
                    <li id="nav-support" data-portal-tour-1="3"><a class="top-nav-support-cases" href="https://access.redhat.com/support/cases/">Support Cases</a></li>
                </ul>
            </div>

            <div role="navigation" class="utility-nav">
                <ul>
                    <li id="searchABTestHide">
                        <a class="btn-search" data-target="#site-search" title="Search" data-toggle="tooltip" data-placement="bottom">
                            <span class="web-icon-search" aria-label="search"></span>
                            <span class="link-text">Search</span>
                        </a>
                    </li>
                    <!-- AB Test -->
                    <li id="searchABTestShow">
                        <form id="topSearchFormABTest" name="topSearchFormABTest">
                            <label for="topSearchInputABTest" class="sr-only">Search</label>
                            <input id="topSearchInputABTest" name="keyword" placeholder="Search" value="" type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="form-control">
                            <button type="submit" class="btn btn-app btn-sm btn-link"><span class="web-icon-search" aria-label="search"></span></button>
                        </form>
                    </li>
                    <!-- End of AB Test -->
                    <li>
                        <a class="btn-profile" data-target="#account-info" data-portal-tour-1="4a" title="Account" data-toggle="tooltip" data-placement="bottom">
                            <span class="web-icon-user" aria-label="log in"></span>
                            <span class="link-text">Log In</span>
                            <span class="account-user" id="accountUserName"></span>
                        </a>
                    </li>
                    <li>
                        <a class="btn-language" data-target="#language" data-portal-tour-1="6" title="Language" data-toggle="tooltip" data-placement="bottom">
                            <span class="web-icon-globe" aria-label="language"></span>
                            <span class="link-text">Language</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- Utility Tray -->
        <div class="utility-tray-container">
            <div class="utility-tray">
                <div id="site-search" class="utility-link site-search">
                    <div class="content">
                        <form class="ng-pristine ng-valid topSearchForm" id="topSearchForm" name="topSearchForm" action="https://access.redhat.com/search/browse/search/" method="get" enctype="application/x-www-form-urlencoded">
                            <cp-search-autocomplete class="push-bottom" path="/webassets/avalon/j/data.json"></cp-search-autocomplete>
                            <div class="input-group push-bottom">
                                <input class="form-control searchField" id="topSearchInput" name="keyword" value="" placeholder="Enter your search term" type="text">
                                <span class="input-group-btn">
                                    <button type="submit" class="btn btn-primary">Search</button>
                                </span>
                            </div>
                            <div>Or <a href="https://access.redhat.com/support/cases/#/troubleshoot">troubleshoot an issue</a>.</div>
                        </form>
                    </div>
                </div>
                <div id="account-info" class="utility-link account-info">
                    <div class="content">

                        <!-- Account Unauthenticated -->
                        <div id="accountLinksLoggedOut" class="unauthenticated">
                            <h2 class="utility-header">Log in to Your Red Hat Account</h2>
                            <div class="row col-border-row">
                                <div class="col-sm-6 col-border">
                                    <p><a href="https://access.redhat.com/login" id="accountLogin" class="btn btn-primary">Log In</a></p>
                                    <p>Your Red Hat account gives you access to your profile, preferences, and services, depending on your status.</p>
                                </div>
                                <div class="col-sm-6 col-border col-border-left">
                                    <p><a href="https://www.redhat.com/wapps/ugc/register.html" class="btn btn-primary">Register</a></p>
                                    <p>If you are a new customer, register now for access to product evaluations and purchasing capabilities. </p>

                                    <strong>Need access to an account?</strong><p>If your company has an existing Red Hat account, your organization administrator can grant you access.</p>

                                    <p><a href="https://access.redhat.com/support/contact/customerService/">If you have any questions, please contact customer service.</a></p>
                                </div>
                            </div>
                        </div>

                        <!-- Account Authenticated -->
                        <div id="accountLinksLoggedIn" class="authenticated">
                            <h2 class="utility-header"><span id="userFirstName"></span></h2>
                            <div class="row col-border-row">
                                <div class="col-sm-6 col-border col-border-right">
                                    <div class="account-info" id="accountUser">
                                        <div class="avatar"><!-- placeholder--></div>
                                        <div class="account-name"><strong id="userFullName"></strong></div>
                                        <div class="account-org"><span id="userOrg"></span></div>
                                        <div class="account-number accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
                                    </div>

                                    <div class="row account-settings">
                                        <div class="col-md-6" data-portal-tour-1="4">
                                            <h3>Red Hat Account</h3>
                                            <ul class="reset">
                                                <li><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
                                                <!-- <li><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li> -->
                                                <li><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html" class="user-management-link">User Management</a></li>
                                                <li><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
                                                <li><a href="https://access.redhat.com/account-team">Account Team</a></li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6" data-portal-tour-1="5">
                                            <h3>Customer Portal</h3>
                                            <ul class="reset">
                                                <li><a href="https://access.redhat.com/user">My Profile</a></li>
                                                <li><a href="https://access.redhat.com/user" id="userNotificationsLink">Notifications</a></li>
                                                <li><a href="https://access.redhat.com/help/">Help</a></li>
                                            </ul>
                                        </div>
                                    </div>

                                </div>
                                <div class="col-sm-6 col-border">
                                    <p>For your security, if you’re on a public computer and have finished using your Red Hat services, please be sure to log out.</p>
                                    <p><a href="https://sso.redhat.com/auth/realms/redhat-external/logout?redirectUrl=https%3A%2F%2Faccess.redhat.com%2Flogout" id="accountLogout" class="btn btn-primary">Log Out</a></p>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div id="language" class="utility-link language">
                    <div class="content">
                        <h2 class="utility-header">Select Your Language</h2>
                        <div class="row" id="localesMenu">
                            <div class="col-sm-2">
                                <ul class="reset">
                                    <li><a href="https://access.redhat.com/changeLanguage?language=en" data-lang="en" id="en">English</a></li>
                                    <li><a href="https://access.redhat.com/changeLanguage?language=ko" data-lang="ko" id="ko">한국어</a></li>
                                </ul>
                            </div>
                            <div class="col-sm-2">
                                <ul class="reset">
                                    <li><a href="https://access.redhat.com/changeLanguage?language=ja"    data-lang="ja"    id="ja">日本語</a></li>
                                    <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" data-lang="zh_CN" id="zh_CN">中文 (中国)</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="scroll-anchor"></div>

<!-- Main Menu for large screens -->
<div class="header-nav visible-sm visible-md visible-lg" aria-hidden="true">
    <div id="header-nav">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">

                    <a href="https://access.redhat.com/" class="logo">
                      <span class="sr-only">Red Hat Customer Portal</span>
                      <span class="logo-crop">
                        <svg aria-hidden="true" class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 950 200">
                          <defs>
                          <style>
                            .rh-logo-type {
                              fill:#fff;
                            }
                            .rh-logo-hat {
                              fill:#e00;
                            }
                          </style>
                          </defs>
                          <title>Red Hat Customer Portal</title><g id="Two_lines" data-name="Two lines"><g id="Two_line_logo" data-name="Two line logo"><path class="rh-logo-type" d="M318.62,9.25h25.44c11.13,0,18.64,6.72,18.64,16.56,0,7.36-4.47,13-11.51,15.36l12.48,24.08h-9.29l-11.6-23H327v23h-8.4Zm8.4,7.36V35.33h16.33c6.55,0,10.87-3.76,10.87-9.36s-4.32-9.36-10.87-9.36Z"/><path class="rh-logo-type" d="M387.5,66a21,21,0,0,1-21.36-21.12c0-11.76,9-21,20.4-21,11.2,0,19.68,9.28,19.68,21.28v2.32H374.06a13.74,13.74,0,0,0,13.76,11.68,15.84,15.84,0,0,0,10.32-3.6l5.13,5A24.33,24.33,0,0,1,387.5,66ZM374.14,41.49H398.3c-1.19-6.24-6-10.88-11.92-10.88C380.22,30.61,375.34,35,374.14,41.49Z"/><path class="rh-logo-type" d="M445.18,61.41a19.23,19.23,0,0,1-12.48,4.48c-11.52,0-20.56-9.2-20.56-21a20.72,20.72,0,0,1,33-17V9.25l8-1.76V65.25h-7.92Zm-11.36-2.48a14.67,14.67,0,0,0,11.28-4.88V35.57a14.89,14.89,0,0,0-11.28-4.8,13.63,13.63,0,0,0-13.84,14A13.77,13.77,0,0,0,433.82,58.93Z"/><path class="rh-logo-type" d="M480.22,9.25h8.4v24h29.76v-24h8.4v56h-8.4V40.85H488.62v24.4h-8.4Z"/><path class="rh-logo-type" d="M534.38,53.57c0-7.68,6.24-12.4,16.48-12.4A28.75,28.75,0,0,1,562,43.41V39.09c0-5.76-3.44-8.64-9.92-8.64-3.76,0-7.6,1-12.64,3.44l-3-6c6.08-2.88,11.36-4.16,16.72-4.16,10.56,0,16.64,5.2,16.64,14.56v27H562V61.73A19.32,19.32,0,0,1,549.34,66C540.46,66,534.38,60.93,534.38,53.57Zm16.8,6.48A15.66,15.66,0,0,0,562,56.21v-7a21.15,21.15,0,0,0-10.48-2.48c-5.84,0-9.44,2.64-9.44,6.72C542.06,57.33,545.74,60.05,551.18,60.05Z"/><path class="rh-logo-type" d="M582.7,31.25h-8.64V24.53h8.64V14.13l7.92-1.92V24.53h12v6.72h-12V53.33c0,4.16,1.68,5.68,6,5.68a15.72,15.72,0,0,0,5.84-1v6.72a26.5,26.5,0,0,1-7.6,1.2c-7.92,0-12.16-3.76-12.16-10.8Z"/><path class="rh-logo-type" d="M361,132.21l7.59,7.52a30.76,30.76,0,0,1-23,10.32c-16.88,0-29.84-12.56-29.84-28.8s13-28.88,29.84-28.88c9,0,18.09,4.08,23.28,10.48l-7.83,7.76a19.52,19.52,0,0,0-15.45-7.6c-10.16,0-17.92,7.84-17.92,18.24A17.8,17.8,0,0,0,346,139.33,19.24,19.24,0,0,0,361,132.21Z"/><path class="rh-logo-type" d="M383.74,131.81c0,5.36,3.44,8.8,8.64,8.8a10.05,10.05,0,0,0,8.65-4.16V107.57h11v41.68H401v-3.36a17.79,17.79,0,0,1-11.77,4.16c-9.68,0-16.48-6.88-16.48-16.64V107.57h11Z"/><path class="rh-logo-type" d="M422.46,137c4.88,3.2,9.12,4.72,13.52,4.72,4.88,0,8.08-1.76,8.08-4.4,0-2.16-1.6-3.36-5.2-3.92l-8-1.2c-8.24-1.28-12.64-5.36-12.64-12.08,0-8.08,6.72-13.2,17.36-13.2a30.75,30.75,0,0,1,17.12,5.2l-5.28,7c-4.56-2.72-8.64-4-12.88-4-4,0-6.56,1.6-6.56,4.08,0,2.24,1.6,3.36,5.68,3.92l8,1.2c8.16,1.2,12.72,5.44,12.72,11.92,0,7.84-7.76,13.76-18.24,13.76-7.6,0-14.4-2-19.12-5.76Z"/><path class="rh-logo-type" d="M464.7,116.77h-8.56v-9.2h8.56V96.93l11-2.48v13.12H487.5v9.2H475.66v18.48c0,3.92,1.52,5.36,5.76,5.36a16.86,16.86,0,0,0,5.84-1v9a34,34,0,0,1-8.48,1.28c-9.28,0-14.08-4.24-14.08-12.4Z"/><path class="rh-logo-type" d="M512.86,106.77c12.48,0,22.24,9.52,22.24,21.68s-9.76,21.6-22.24,21.6-22.24-9.44-22.24-21.6S500.38,106.77,512.86,106.77Zm11.52,21.68c0-6.88-5-12.16-11.52-12.16s-11.52,5.28-11.52,12.16c0,6.72,5,12.08,11.52,12.08S524.38,135.17,524.38,128.45Z"/><path class="rh-logo-type" d="M541.82,107.57h11v3.12a16.21,16.21,0,0,1,10.88-3.92A15,15,0,0,1,576.22,113,17.16,17.16,0,0,1,590,106.77c9.36,0,15.91,6.8,15.91,16.56v25.92h-11V124.93c0-5.28-3-8.72-7.83-8.72a9.37,9.37,0,0,0-8,4.16,18.89,18.89,0,0,1,.23,3v25.92h-11V124.93c0-5.28-3-8.72-7.84-8.72a9.3,9.3,0,0,0-7.76,3.76v29.28h-11Z"/><path class="rh-logo-type" d="M634.78,150.05c-12.64,0-22.4-9.44-22.4-21.6a21.28,21.28,0,0,1,21.44-21.6c11.84,0,20.64,9.6,20.64,22.4v2.88h-31a12,12,0,0,0,11.84,8.72,13.12,13.12,0,0,0,9.2-3.36l7.2,6.56A25,25,0,0,1,634.78,150.05Zm-11.44-25.76h20.4c-1.36-5-5.36-8.4-10.16-8.4C628.54,115.89,624.7,119.17,623.34,124.29Z"/><path class="rh-logo-type" d="M661.18,107.57h11v4.56a13.26,13.26,0,0,1,11.12-5.52,9.44,9.44,0,0,1,4.56,1v9.6a14,14,0,0,0-5.6-1.12,11,11,0,0,0-10.08,6.24v27h-11Z"/><path class="rh-logo-type" d="M710.54,93.25h28.08c11,0,18.8,7.28,18.8,17.6,0,10-7.92,17.28-18.8,17.28H722.14v21.12h-11.6Zm11.6,10v15.28h15.2c5,0,8.32-3,8.32-7.6s-3.28-7.68-8.32-7.68Z"/><path class="rh-logo-type" d="M782.14,106.77c12.48,0,22.24,9.52,22.24,21.68s-9.76,21.6-22.24,21.6-22.24-9.44-22.24-21.6S769.66,106.77,782.14,106.77Zm11.52,21.68c0-6.88-5-12.16-11.52-12.16s-11.52,5.28-11.52,12.16c0,6.72,5,12.08,11.52,12.08S793.66,135.17,793.66,128.45Z"/><path class="rh-logo-type" d="M811.1,107.57h11v4.56a13.26,13.26,0,0,1,11.12-5.52,9.44,9.44,0,0,1,4.56,1v9.6a14,14,0,0,0-5.6-1.12,11,11,0,0,0-10.08,6.24v27h-11Z"/><path class="rh-logo-type" d="M850,116.77h-8.56v-9.2H850V96.93l11-2.48v13.12h11.84v9.2H860.94v18.48c0,3.92,1.52,5.36,5.76,5.36a16.86,16.86,0,0,0,5.84-1v9a34,34,0,0,1-8.48,1.28c-9.28,0-14.08-4.24-14.08-12.4Z"/><path class="rh-logo-type" d="M876.22,137.17c0-7.92,6.4-12.64,17.12-12.64a33.71,33.71,0,0,1,10.16,1.6v-3c0-4.8-3-7.28-8.8-7.28-3.52,0-7.44,1.12-12.72,3.44l-4-8.08a43.46,43.46,0,0,1,18.56-4.48c11.28,0,17.76,5.6,17.76,15.44v27H903.5v-2.88a19.81,19.81,0,0,1-12.08,3.6C882.46,150,876.22,144.77,876.22,137.17Zm18.08,5a15.78,15.78,0,0,0,9.2-2.64v-6.24a24.22,24.22,0,0,0-8.8-1.52c-5,0-8,2-8,5.2S889.66,142.13,894.3,142.13Z"/><path class="rh-logo-type" d="M933.58,149.25h-11v-56l11-2.4Z"/><g id="Hat_icon" data-name="Hat icon"><path id="Red_hat" data-name="Red hat" class="rh-logo-hat" d="M129,92.24c12.5,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42L151.82,39c-1.72-7.12-3.23-10.35-15.74-16.6-9.7-5-30.82-13.15-37.07-13.15-5.83,0-7.55,7.54-14.45,7.54-6.68,0-11.64-5.6-17.89-5.6-6,0-9.92,4.1-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,44,52.79C44,62,80.32,92.24,129,92.24Zm32.55-11.42c1.72,8.19,1.72,9.05,1.72,10.13,0,14-15.73,21.77-36.43,21.77-46.77,0-87.73-27.37-87.73-45.48a18.32,18.32,0,0,1,1.51-7.33C23.77,60.77,2,63.79,2,83c0,31.48,74.59,70.28,133.65,70.28,45.27,0,56.7-20.48,56.7-36.65C192.35,103.88,181.35,89.44,161.52,80.82Z"/><path class="rh-logo-band" id="Black_band" data-name="Black band" d="M161.52,80.82c1.72,8.19,1.72,9.05,1.72,10.13,0,14-15.73,21.77-36.43,21.77-46.77,0-87.73-27.37-87.73-45.48a18.32,18.32,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,44,52.79C44,62,80.32,92.24,129,92.24c12.5,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/></g><path id="Dividing_line" data-name="Dividing line" class="rh-logo-type" d="M255.47,160.75a2.25,2.25,0,0,1-2.25-2.25V4.25a2.25,2.25,0,0,1,4.5,0V158.5A2.25,2.25,0,0,1,255.47,160.75Z"/></g></g>
                        </svg>
                      </span>
                                            </a>

                    <nav class="primary-nav hidden-sm">
                        <ul>
                            <li id="nav-products"><a class="products" data-link="mega" data-target="products-menu" href="https://access.redhat.com/products/" id="products-menu">Products &amp; Services</a></li>
                            <li id="nav-tools"><a class="tools" data-link="mega" data-target="tools-menu" href="https://access.redhat.com/labs/" id="tools-menu">Tools</a></li>
                            <li id="nav-security"><a class="security" data-link="mega" data-target="security-menu" href="https://access.redhat.com/security/" id="security-menu">Security</a></li>
                            <li id="nav-community"><a class="community" data-link="mega" data-target="community-menu" href="https://access.redhat.com/community/" id="community-menu">Community</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Main Mega Menu for large screens -->
<div class="mega-wrap visible-sm visible-md visible-lg" aria-hidden="true">
    <nav class="mega">
        <div class="container">
            <div class="mega-menu-wrap">

                <!-- Products Menu -->
                <div aria-labelledby="products-menu" class="products-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row">
                        <div class="col-md-6 col-sm-8">
                            <div class="root clearfix" data-portal-tour-1="7">
                                <ul class="subnav subnav-root">
                                    <li data-target="infrastructure-menu" class="active">
                                        <h3>Infrastructure and Management</h3>
                                    </li>
                                    <li data-target="cloud-menu">
                                        <h3>Cloud Computing</h3>
                                    </li>
                                    <li data-target="storage-menu">
                                        <h3>Storage</h3>
                                    </li>
                                    <li data-target="jboss-dev-menu">
                                        <h3>Runtimes</h3>
                                    </li>
                                    <li data-target="jboss-int-menu">
                                        <h3>Integration and Automation</h3>
                                    </li>
                                </ul>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="infrastructure-menu" style="display: block;">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-virtualization/">Red Hat Virtualization</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/identity-management/">Red Hat Identity Management</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-insights/">Red Hat Insights</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/ansible-tower-red-hat/">Red Hat Ansible Tower</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-ansible-engine/">Red Hat Ansible Engine</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="cloud-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-cloud-suite/">Red Hat Cloud Suite</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/openshift-online-red-hat/">Red Hat OpenShift Online</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/">Red Hat Advanced Cluster Management for Kubernetes</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-codeready-workspaces/">Red Hat CodeReady Workspaces</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="storage-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage</a>
                                        </li>
                                        <li>
                                          <a href="https://access.redhat.com/products/red-hat-openshift-container-storage">Red Hat Openshift Container Storage</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="jboss-dev-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/thorntail/">Red Hat build of Thorntail</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/eclipse-vertx/">Red Hat build of Eclipse Vert.x</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/openjdk/">Red Hat build of OpenJDK</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/open-liberty/">Open Liberty</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/quarkus/">Red Hat build of Quarkus</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-codeready-studio/">Red Hat CodeReady Studio</a>
                                        </li>
                                    </ul>
                                </div>
                                <!-- <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="jboss-int-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                                        </li>
                                    </ul>
                                </div> -->
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="jboss-int-menu">
                                    <ul class="border-bottom" id="portal-menu-border-bottom">
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-integration/">Red Hat Integration</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                                      </li>
                                    </ul>
                                    <ul>
                                      <li>
                                        <a href="https://access.redhat.com/products/red-hat-process-automation/">Red Hat Process Automation</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                                      </li>
                                    </ul>
                                </div>
                            </div>
                            <a href="https://access.redhat.com/products" class="btn btn-primary">View All Products</a>
                        </div>

                        <div class="col-md-6 col-sm-4 pull-right" data-portal-tour-1="8">
                            <div class="row">
                                <div class="col-md-6">
                                    <ul>
                                        <li><a href="https://access.redhat.com/support" class="cta-link cta-link-darkbg">Support</a></li>
                                        <li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
                                        <li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
                                        <li><a href="https://access.redhat.com/product-life-cycles/">Product Life Cycles</a></li>
                                    </ul>
                                    <h4 class="nav-title">Services</h4>
                                    <ul>
                                        <li><a href="https://www.redhat.com/en/services/consulting">Consulting</a></li>
                                        <li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
                                        <li><a href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications</a></li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <ul>
                                        <li><a href="https://access.redhat.com/documentation" class="cta-link cta-link-darkbg">Documentation</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/red_hat_enterprise_linux">Red Hat Enterprise Linux</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/red_hat_openstack_platform">Red Hat OpenStack Platform</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/openshift_container_platform">Red Hat OpenShift Container Platform</a></li>
                                    </ul>
                                    <ul>
                                        
                                        <li><a href="https://catalog.redhat.com/" class="cta-link cta-link-darkbg">Ecosystem Catalog</a></li>
                                        <li><a href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a></li>
                                        <li><a href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tools Menu -->
                <div aria-labelledby="tools-menu" class="tools-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row" data-portal-tour-1="9">
                        <div class="col-sm-12">
                            <div class="row">
                                <div class="col-sm-4">
                                    <h3 class="nav-title">Tools</h3>
                                    <ul>
                                        <li><a href="https://access.redhat.com/solution-engine">Solution Engine</a></li>
                                        <li><a href="https://access.redhat.com/downloads/content/package-browser">Packages</a></li>
                                        <li><a href="https://access.redhat.com/errata/">Errata</a></li>
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <ul class="list-flat">
                                        <li><a href="https://access.redhat.com/labs/" class="cta-link cta-link-darkbg">Customer Portal Labs</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=config">Configuration</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=deploy">Deployment</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=security">Security</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=troubleshoot">Troubleshooting</a></li>
                                    </ul>
                                </div>

                                <div class="col-sm-4">
                                    <div class="card card-dark-grey">
                                        <h4 class="card-heading">Red Hat Insights</h4>
                                        <p class="text-white">Increase visibility into IT operations to detect and resolve technical issues before they impact your business.</p>
                                        <ul class="list-flat rh-l-grid rh-m-gutters rh-m-all-6-col-on-md">
                                          <li><a href="https://www.redhat.com/en/technologies/management/insights" class="cta-link cta-link-md cta-link-darkbg">Learn more</a></li>
                                          <li><a href="https://cloud.redhat.com/insights" class="cta-link cta-link-md cta-link-darkbg">Go to Insights</a></li>
                                        </ul>
                                    </div>
                                </div>

                            </div>
                        </div>

                    </div>
                </div>

                <!-- Security Menu -->
                <div aria-labelledby="security-menu" class="security-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row">
                        <div class="col-sm-12 basic" data-portal-tour-1="10">

                            <div class="row">
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Red Hat Product Security Center</h2>
                                    <p class="text-white">Engage with our Red Hat Product Security team, access security updates, and ensure your environments are not exposed to any known security vulnerabilities.</p>
                                    <p><a href="https://access.redhat.com/security/" class="btn btn-primary">Product Security Center</a></p>
                                </div>

                                <div class="col-sm-4">
                                    <h2 class="nav-title">Security Updates</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories</a></li>
                                        <li><a href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database</a></li>
                                        <li><a href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs</a></li>
                                    </ul>
                                    <p class="text-white">Keep your systems secure with Red Hat&#039;s specialized responses for high-priority security vulnerabilities.</p>
                                    <ul>
                                        <li class="more-link"><a href="https://access.redhat.com/security/vulnerability">View Responses</a></li>
                                    </ul>
                                </div>

                                <div class="col-sm-4">
                                    <h2 class="nav-title">Resources</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/security/overview/">Overview</a></li>
                                        <li><a href="https://www.redhat.com/en/blog/channel/security">Security Blog</a></li>
                                        <li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
                                        <li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
                                        <li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
                                        <li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Community Menu -->
                <div aria-labelledby="community-menu" class="community-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row">
                        <div class="col-sm-12 basic" data-portal-tour-1="11">
                            <div class="row">
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Customer Portal Community</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">Discussions</a></li>
                                        <li><a href="https://access.redhat.com/blogs/">Blogs</a></li>
                                        <li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
                                        <p class="push-top"><a href="https://access.redhat.com/community/" class="btn btn-primary">Community Activity</a></p>
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Customer Events</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/convergence/">Red Hat Convergence</a></li>
                                        <li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Stories</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value</a></li>
                                        <li><a href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.</a></li>
                                        <li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!--<a href="https://access.redhat.com/community/" class="btn btn-primary">Explore Community</a>-->
                    </div>
                </div>
            </div>
        </div>
    </nav>
</div>

            <!--[if IE 8]>
            <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                    <span class="icon-warning alert-icon" aria-hidden="true"></span>
                    You are using an unsupported web browser. Update to a supported browser for the best experience. <a href="/announcements/2120951">Read the announcement</a>.
                </div>
            </div>
            <![endif]-->
            <!--[if IE 9]>
            <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                    <span class="icon-warning alert-icon" aria-hidden="true"></span>
                    As of March 1, 2016, the Red Hat Customer Portal will no longer support Internet Explorer 9. See our new <a href="/help/browsers">browser support policy</a> for more information.
                </div>
            </div>
            <![endif]-->
            <div id="site-section"></div>
        </header>
        <!--googleon: all-->

        <main id="cp-main" class="portal-content-area">
            <div id="cp-content" class="main-content">
  <script type="text/javascript">
    chrometwo_require(['jquery-ui']);
  </script>


      <article class="rh_docs">
  <div class="container">
        <!-- Display: Book Page Content -->
    
  

<div class="row">
  <div itemscope="" itemtype="https://schema.org/TechArticle" itemref="techArticle-md1 techArticle-md2 techArticle-md3"></div>
  <div itemscope="" itemtype="https://schema.org/SoftwareApplication" itemref="softwareApplication-md1 softwareApplication-md2 softwareApplication-md3 softwareApplication-md4"></div>
  


<a class="toc-toggle toc-show" data-toggle="collapse" data-target="#toc-main" aria-expanded="false" aria-controls="toc-main">
  <span class="sr-only">Show Table of Contents</span>
  <span class="web-icon-mobile-menu" aria-hidden="true"></span>
</a>
<nav id="toc-main" class="toc-main collapse in">
  <div class="toc-menu affix-top">
    <a class="toc-toggle toc-hide" data-toggle="collapse" data-target="#toc-main" aria-expanded="false" aria-controls="toc-main">
      <span class="sr-only">Hide Table of Contents</span>
      <span class="icon-remove" aria-hidden="true"></span>
    </a>
    <div class="doc-options">
      <div class="doc-language btn-group">
        <button type="button" class="btn btn-app dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
          English <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
                      <li><a href="index.html">English</a></li>
                      <li><a href="https://access.redhat.com/documentation/ja-jp/red_hat_openstack_platform/16.1/html/integrate_with_identity_service/">日本語</a></li>
                  </ul>
      </div>
      <div class="doc-format btn-group">
        <button type="button" class="btn btn-app dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
          Single-page HTML <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
                      <li><a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/integrate_with_identity_service/">Multi-page HTML</a></li>
                                <li><a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/pdf/integrate_with_identity_service/Red_Hat_OpenStack_Platform-16.1-Integrate_with_Identity_Service-en-US.pdf">PDF</a></li>
                      <li><a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/epub/integrate_with_identity_service/Red_Hat_OpenStack_Platform-16.1-Integrate_with_Identity_Service-en-US.epub">ePub</a></li>
                  </ul>
      </div>
    </div>
    <ol class="menu"><li class=" leaf"><a href="index.html">Integrate with Identity Service</a></li><li class=" leaf"><a href="index.html#idm140175039414048">Preface</a></li><li class=" leaf"><a href="index.html#sec-active-directory">1. Active Directory Integration</a><ol class="menu"><li class=" leaf"><a href="index.html#key_terms">1.1. Key terms</a></li><li class=" leaf"><a href="index.html#assumptions">1.2. Assumptions</a></li><li class=" leaf"><a href="index.html#impact_statement">1.3. Impact Statement</a><ol class="menu"><li class=" leaf"><a href="index.html#high_availability_options">1.3.1. High Availability options</a></li><li class=" leaf"><a href="index.html#outage_requirements">1.3.2. Outage requirements</a></li><li class=" leaf"><a href="index.html#firewall_configuration">1.3.3. Firewall configuration</a></li></ol></li><li class=" leaf"><a href="index.html#configure_active_directory_domain_services">1.4. Configure Active Directory Domain Services</a></li><li class=" leaf"><a href="index.html#configure_the_ldaps_certificate">1.5. Configure the LDAPS certificate</a></li><li class=" leaf"><a href="index.html#configure_identity_service">1.6. Configure Identity Service</a><ol class="menu"><li class=" leaf"><a href="index.html#configure_the_controller">1.6.1. Configure the controller</a></li><li class=" leaf"><a href="index.html#allow_active_directory_group_members_to_access_projects">1.6.2. Allow Active Directory group members to access Projects</a></li><li class=" leaf"><a href="index.html#ad-user-accounts">1.6.3. Allow Active Directory users to access Projects</a></li></ol></li><li class=" leaf"><a href="index.html#grant_access_to_the_domain_tab">1.7. Grant access to the Domain tab</a></li><li class=" leaf"><a href="index.html#creating_a_new_project">1.8. Creating a new project</a></li><li class=" leaf"><a href="index.html#changes_to_the_dashboard_log_in_process">1.9. Changes to the dashboard log in process</a></li><li class=" leaf"><a href="index.html#changes_to_the_command_line">1.10. Changes to the command line</a></li><li class=" leaf"><a href="index.html#test_ad_ds_integration">1.11. Test AD DS integration</a></li><li class=" leaf"><a href="index.html#AD-HA">1.12. Configure high availability</a></li><li class=" leaf"><a href="index.html#create_a_rc_file_for_a_non_admin_user">1.13. Create a RC file for a non-admin user</a></li><li class=" leaf"><a href="index.html#Troubleshoot-AD">1.14. Troubleshooting</a><ol class="menu"><li class=" leaf"><a href="index.html#test_ldap_connections">1.14.1. Test LDAP connections</a></li><li class=" leaf"><a href="index.html#test_the_certificate_trust_configuration">1.14.2. Test the Certificate Trust Configuration</a></li><li class=" leaf"><a href="index.html#test_port_access">1.14.3. Test port access</a></li></ol></li></ol></li><li class=" leaf"><a href="index.html#idm">2. Identity Management Integration</a><ol class="menu"><li class=" leaf"><a href="index.html#key_terms_2">2.1. Key terms</a></li><li class=" leaf"><a href="index.html#assumptions_2">2.2. Assumptions</a></li><li class=" leaf"><a href="index.html#impact_statement_2">2.3. Impact Statement</a><ol class="menu"><li class=" leaf"><a href="index.html#high_availability_options_2">2.3.1. High Availability options</a></li><li class=" leaf"><a href="index.html#outage_requirements_2">2.3.2. Outage requirements</a></li><li class=" leaf"><a href="index.html#firewall_configuration_2">2.3.3. Firewall configuration</a></li><li class=" leaf"><a href="index.html#configure_the_idm_server">2.3.4. Configure the IdM server</a></li><li class=" leaf"><a href="index.html#configure_the_ldaps_certificate_2">2.3.5. Configure the LDAPS certificate</a></li></ol></li><li class=" leaf"><a href="index.html#configure_identity_service_2">2.4. Configure Identity Service</a><ol class="menu"><li class=" leaf"><a href="index.html#configure_the_controller_2">2.4.1. Configure the controller</a></li><li class=" leaf"><a href="index.html#idm-groups">2.4.2. Allow IdM group members to access Projects</a></li><li class=" leaf"><a href="index.html#idm-user-accounts">2.4.3. Allow IdM users to access Projects</a></li></ol></li><li class=" leaf"><a href="index.html#grant_access_to_the_domain_tab_2">2.5. Grant access to the Domain tab</a></li><li class=" leaf"><a href="index.html#creating_a_new_project_2">2.6. Creating a new project</a><ol class="menu"><li class=" leaf"><a href="index.html#changes_to_the_dashboard_log_in_process_2">2.6.1. Changes to the dashboard log in process</a></li><li class=" leaf"><a href="index.html#changes_to_the_command_line_2">2.6.2. Changes to the command line</a></li><li class=" leaf"><a href="index.html#test_idm_integration">2.6.3. Test IdM integration</a></li></ol></li><li class=" leaf"><a href="index.html#IdM-HA">2.7. Configure for high availability</a></li><li class=" leaf"><a href="index.html#create_a_rc_file_for_a_non_admin_user_2">2.8. Create a RC file for a non-admin user</a></li><li class=" leaf"><a href="index.html#Troubleshooting-IdM">2.9. Troubleshooting</a><ol class="menu"><li class=" leaf"><a href="index.html#test_ldap_connections_2">2.9.1. Test LDAP connections</a></li><li class=" leaf"><a href="index.html#test_port_access_2">2.9.2. Test port access</a></li></ol></li></ol></li><li class=" leaf"><a href="index.html#idm-novajoin">3. Integrate with IdM using novajoin</a><ol class="menu"><li class=" leaf"><a href="index.html#install_and_configure_novajoin_in_the_undercloud">3.1. Install and configure novajoin in the undercloud</a><ol class="menu"><li class=" leaf"><a href="index.html#add_the_undercloud_to_the_ca">3.1.1. Add the undercloud to the CA</a></li><li class=" leaf"><a href="index.html#add_the_undercloud_to_idm">3.1.2. Add the undercloud to IdM</a></li></ol></li><li class=" leaf"><a href="index.html#install_and_configure_novajoin_in_the_overcloud">3.2. Install and configure novajoin in the overcloud</a><ol class="menu"><li class=" leaf"><a href="index.html#configure_overcloud_dns">3.2.1. Configure overcloud DNS</a></li><li class=" leaf"><a href="index.html#configure_overcloud_to_use_novajoin">3.2.2. Configure overcloud to use novajoin</a></li></ol></li><li class=" leaf"><a href="index.html#validate_a_node_in_idm">3.3. Validate a node in IdM</a></li><li class=" leaf"><a href="index.html#configure_dns_entries_for_novajoin">3.4. Configure DNS entries for Novajoin</a></li></ol></li><li class=" leaf"><a href="index.html#sect-tripleo-ipa">4. Implementing TLS-e with Ansible</a><ol class="menu"><li class=" leaf"><a href="index.html#configuring_tls_e_on_the_undercloud">4.1. Configuring TLS-e on the undercloud</a></li><li class=" leaf"><a href="index.html#configuring_tls_e_on_the_overcloud">4.2. Configuring TLS-e on the overcloud</a></li></ol></li><li class=" leaf"><a href="index.html#ldap-director">5. Using domain-specific LDAP backends with director</a><ol class="menu"><li class=" leaf"><a href="index.html#setting_the_configuration_options">5.1. Setting the configuration options</a></li><li class=" leaf"><a href="index.html#configure_the_director_deployment">5.2. Configure the director deployment</a></li></ol></li><li class=" leaf"><a href="index.html#idm140175036783216">Legal Notice</a></li></ol>  </div>
</nav>


  <div class="doc-wrapper">
    <div class="panel-pane pane-page-title"  >
  
      
  
  <h1 class="title" itemprop="name">Integrate with Identity Service</h1>
  
  </div>
<div class="panel-pane pane-page-body"  >
  
      
  
  <div class="body"><div xml:lang="en-US" class="book" id="idm140175031389376"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat OpenStack Platform</span> <span class="productnumber">16.1</span></div><div><h2 class="subtitle">Use Active Directory or Red Hat Identity Management as an external authentication back end</h2></div><div><div xml:lang="en-US" class="authorgroup"><div class="author"><h3 class="author"><span class="firstname">OpenStack</span> <span class="othername">Documentation</span> <span class="surname">Team</span></h3><code class="email"><a class="email" href="mailto:rhos-docs@redhat.com">rhos-docs@redhat.com</a></code></div></div></div><div><a href="index.html#idm140175036783216">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				Use Active Directory or Red Hat Identity Management as an external authentication back end.
			</div></div></div></div><hr/></div><section class="preface" id="idm140175039414048"><div class="titlepage"><div><div><h1 class="title">Preface</h1></div></div></div><p id="preface">
			Identity Service (codename <span class="emphasis"><em>keystone</em></span>) provides authentication and authorization for Red Hat OpenStack Platform 16.1.
		</p><p>
			This guide describes how to integrate Identity Service with Microsoft Active Directory Domain Service (AD DS), Red Hat Identity Management (IdM), and LDAP.
		</p></section><section class="chapter" id="sec-active-directory"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Active Directory Integration</h1></div></div></div><p>
			This chapter describes how to integrate Identity Service (keystone) with Active Directory Domain Services. In this use case, Identity Service authenticates certain Active Directory Domain Services (AD DS) users, while retaining authorization settings and critical service accounts in the Identity Service database. As a result, Identity Service has read-only access to AD DS for user account authentication, while retaining management over the privileges assigned to authenticated accounts.
		</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				If you are using director, see <a class="xref" href="index.html#ldap-director" title="Chapter 5. Using domain-specific LDAP backends with director">Chapter 5, <em>Using domain-specific LDAP backends with director</em></a>. This is because the configuration files referenced below are managed by Puppet. Consequently, any custom configuration you add might be overwritten whenever you run the <code class="literal">openstack overcloud deploy</code> process.
			</p></div></div><section class="section" id="key_terms"><div class="titlepage"><div><div><h2 class="title">1.1. Key terms</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="emphasis"><em>Authentication</em></span> - The process of using a password to verify that the user is who they claim to be.
					</li><li class="listitem">
						<span class="emphasis"><em>Authorization</em></span> - Validating that authenticated users have proper permissions to the resources they are attempting to access.
					</li><li class="listitem">
						<span class="emphasis"><em>Domain</em></span> - This term is not the same as an AD DS domain, and instead refers to the additional namespaces that are configured in Identity Service for partitioning users, groups, and projects. These separate domains can be configured to authenticate users in different LDAP or AD DS environments.
					</li></ul></div></section><section class="section" id="assumptions"><div class="titlepage"><div><div><h2 class="title">1.2. Assumptions</h2></div></div></div><p>
				This example deployment makes the following assumptions:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Active Directory Domain Services is configured and operational.
					</li><li class="listitem">
						Red Hat OpenStack Platform is configured and operational.
					</li><li class="listitem">
						DNS name resolution is fully functional and all hosts are registered appropriately.
					</li><li class="listitem">
						AD DS authentication traffic is encrypted with LDAPS, using port 636.
					</li></ul></div></section><section class="section" id="impact_statement"><div class="titlepage"><div><div><h2 class="title">1.3. Impact Statement</h2></div></div></div><p>
				These steps allow AD DS users to authenticate to OpenStack and access resources. OpenStack service accounts (such as keystone and glance), and authorization management (permissions, roles, projects) will remain in the Identity Service database. Permissions and roles are assigned to the AD DS accounts using Identity Service management tools.
			</p><section class="section" id="high_availability_options"><div class="titlepage"><div><div><h3 class="title">1.3.1. High Availability options</h3></div></div></div><p>
					This configuration creates a dependency on the availability of a single Active Directory Domain Controller; Project users will be affected if Identity Service is unable to authenticate to the AD Domain Controller. A number of options are available to manage this risk; for example, you might configure Identity Service to query a DNS alias or a load balancing appliance, rather than an individual AD Domain Controller. You can also configure keystone to query a different Domain Controller, should one become unavailable. See <a class="xref" href="index.html#AD-HA" title="1.12. Configure high availability">Section 1.12, “Configure high availability”</a> for more information.
				</p></section><section class="section" id="outage_requirements"><div class="titlepage"><div><div><h3 class="title">1.3.2. Outage requirements</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The Identity Service will need to be restarted to add the AD DS back end.
						</li><li class="listitem">
							The Compute services on all nodes will need to be restarted in order to switch over to keystone v3.
						</li><li class="listitem">
							Users will be unable to access the dashboard until their accounts have been created in AD DS. To reduce downtime, consider pre-staging the AD DS accounts well in advance of this change.
						</li></ul></div></section><section class="section" id="firewall_configuration"><div class="titlepage"><div><div><h3 class="title">1.3.3. Firewall configuration</h3></div></div></div><p>
					If firewalls are filtering traffic between AD DS and OpenStack, you will need to allow access through the following port:
				</p><div class="informaltable"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 25%; " class="col_2"><!--Empty--></col><col style="width: 25%; " class="col_3"><!--Empty--></col><col style="width: 25%; " class="col_4"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140175039815344" scope="col">Source</th><th align="left" valign="top" id="idm140175039814256" scope="col">Destination</th><th align="left" valign="top" id="idm140175039813168" scope="col">Type</th><th align="left" valign="top" id="idm140175039812080" scope="col">Port</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140175039815344"> <p>
									OpenStack Controller Node
								</p>
								 </td><td align="left" valign="top" headers="idm140175039814256"> <p>
									Active Directory Domain Controller
								</p>
								 </td><td align="left" valign="top" headers="idm140175039813168"> <p>
									LDAPS
								</p>
								 </td><td align="left" valign="top" headers="idm140175039812080"> <p>
									TCP 636
								</p>
								 </td></tr></tbody></table></div></section></section><section class="section" id="configure_active_directory_domain_services"><div class="titlepage"><div><div><h2 class="title">1.4. Configure Active Directory Domain Services</h2></div></div></div><p>
				This section describes the tasks that Active Directory administrators will need to complete:
			</p><div class="table" id="idm140175036018624"><p class="title"><strong>Table 1.1. Configuration steps</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><tbody><tr><td align="left" valign="top"> <p>
								<span class="strong strong"><strong>Task</strong></span>
							</p>
							 </td><td align="left" valign="top"> <p>
								<span class="strong strong"><strong>Details</strong></span>
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Create a service account.
							</p>
							 </td><td align="left" valign="top"> <p>
								This can be named according to your naming convention for service accounts, for example: <code class="literal">svc-ldap</code>. This can be a regular domain user account. Administrator privileges are not required.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Create a user group.
							</p>
							 </td><td align="left" valign="top"> <p>
								If a user needs access to OpenStack, they must be a member of this group. This can be named according to your naming convention for user groups, for example: <code class="literal">grp-openstack</code>. Members of this group can be granted access to <span class="emphasis"><em>Projects</em></span> in the dashboard, if they are also members of the Project groups.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Create the Project groups.
							</p>
							 </td><td align="left" valign="top"> <p>
								Each OpenStack Project will require a corresponding AD group. For example, <code class="literal">grp-openstack-demo</code> and <code class="literal">grp-openstack-admin</code> .
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Configure the service account.
							</p>
							 </td><td align="left" valign="top"> <p>
								The service account <code class="literal">svc-ldap</code> must be a member of the <code class="literal">grp-openstack</code> group.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Export the LDAPS public key.
							</p>
							 </td><td align="left" valign="top"> <p>
								Export the public key (not the private key) in the following format: <code class="literal">DER-encoded</code> <code class="literal">x509</code> <code class="literal">.cer</code> file.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Send the key to the OpenStack administrators.
							</p>
							 </td><td align="left" valign="top"> <p>
								The OpenStack administrators will use this key to encrypt LDAPS communications between OpenStack and Active Directory.
							</p>
							 </td></tr><tr><td align="left" valign="top"> <p>
								Retrieve the NetBIOS name of your AD DS domain.
							</p>
							 </td><td align="left" valign="top"> <p>
								The OpenStack administrators will use this name for the Keystone domain, allowing consistent domain naming between the environments.
							</p>
							 </td></tr></tbody></table></div></div><p>
				For example, the procedure below shows the PowerShell commands that would be run on the Active Directory Domain Controller:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create the LDAP lookup account. This account is used by Identity Service to query the AD DS LDAP service:
					</p><pre class="screen">PS C:\&gt; New-ADUser -SamAccountName svc-ldap -Name "svc-ldap" -GivenName LDAP -Surname Lookups -UserPrincipalName svc-ldap@lab.local  -Enabled $false -PasswordNeverExpires $true -Path 'OU=labUsers,DC=lab,DC=local'</pre></li><li class="listitem"><p class="simpara">
						Set a password for this account, and then enable it. You will be prompted to specify a password that complies with your AD domain’s complexity requirements:
					</p><pre class="screen">PS C:\&gt; Set-ADAccountPassword svc-ldap -PassThru | Enable-ADAccount</pre></li><li class="listitem"><p class="simpara">
						Create a group for OpenStack users, called <code class="literal">grp-openstack</code>.
					</p><pre class="screen">PS C:\&gt; NEW-ADGroup -name "grp-openstack" -groupscope Global -path "OU=labUsers,DC=lab,DC=local"</pre></li><li class="listitem"><p class="simpara">
						Create the Project groups:
					</p><pre class="screen">PS C:\&gt; NEW-ADGroup -name "grp-openstack-demo" -groupscope Global -path "OU=labUsers,DC=lab,DC=local"
PS C:\&gt; NEW-ADGroup -name "grp-openstack-admin" -groupscope Global -path "OU=labUsers,DC=lab,DC=local"</pre></li><li class="listitem"><p class="simpara">
						Add the <code class="literal">svc-ldap</code> user to the <code class="literal">grp-openstack</code> group:
					</p><pre class="screen">PS C:\&gt; ADD-ADGroupMember "grp-openstack" -members "svc-ldap"</pre></li><li class="listitem">
						From an AD Domain Controller, use a <code class="literal">Certificates MMC</code> to export your LDAPS certificate’s public key (not the private key) as a DER-encoded <code class="literal">x509</code> .cer file. Send this file to the OpenStack administrators.
					</li><li class="listitem"><p class="simpara">
						Retrieve the NetBIOS name of your AD DS domain.
					</p><pre class="screen">PS C:\&gt; Get-ADDomain | select NetBIOSName
NetBIOSName
-----------
LAB</pre></li></ol></div><p>
				Send this value to the OpenStack administrators.
			</p></section><section class="section" id="configure_the_ldaps_certificate"><div class="titlepage"><div><div><h2 class="title">1.5. Configure the LDAPS certificate</h2></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When using multiple domains for LDAP authentication, you might receive various errors, such as <code class="literal">Unable to retrieve authorized projects</code>, or <code class="literal">Peer's Certificate issuer is not recognized</code>. This can arise if keystone uses the incorrect certificate for a certain domain. As a workaround, merge all of the LDAPS public keys into a single <code class="literal">.crt</code> bundle, and configure all of your keystone domains to use this file.
				</p></div></div><p>
				Keystone uses LDAPS queries to validate user accounts. To encrypt this traffic, keystone uses the certificate file defined by <code class="literal">keystone.conf</code>. This procedure converts the public key received from Active Directory into the <code class="literal">.crt</code> format, and copies to a location where keystone will be able to reference it.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Copy the LDAPS public key to the node running OpenStack Identity (keystone), and convert the <code class="literal">.cer</code> to <code class="literal">.crt</code>. This example uses a source certificate file named <code class="literal">addc.lab.local.cer</code>:
					</p><pre class="screen"># openssl x509 -outform der -in addc.lab.local.pem -out addc.lab.local.crt
# cp addc.lab.local.crt /etc/pki/ca-trust/source/anchors</pre></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Optionally, if you need to run diagnostic commands, such as <code class="literal">ldapsearch</code>, you will also need to add the certificate to the RHEL certificate store:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Convert the <code class="literal">.cer</code> to <code class="literal">.pem</code>. This example uses a source certificate file named <code class="literal">addc.lab.local.cer</code>:
						</p><pre class="screen"># openssl x509 -inform der -in addc.lab.local.cer -out addc.lab.local.pem</pre></li><li class="listitem"><p class="simpara">
							Install the <code class="literal">.pem</code> on your OpenStack controller. For example, in Red Hat Enterprise Linux:
						</p><pre class="screen"># cp addc.lab.local.pem /etc/pki/ca-trust/source/anchors/
# update-ca-trust</pre></li></ol></div></div></div></section><section class="section" id="configure_identity_service"><div class="titlepage"><div><div><h2 class="title">1.6. Configure Identity Service</h2></div></div></div><p>
				These steps prepare Identity Service (keystone) for integration with AD DS.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If you are using director, note that the configuration files referenced below are managed by Puppet. Consequently, any custom configuration you add might be overwritten whenever you run the <code class="literal">openstack overcloud deploy</code> process. To apply these settings to director-based deployments, see <a class="xref" href="index.html#ldap-director" title="Chapter 5. Using domain-specific LDAP backends with director">Chapter 5, <em>Using domain-specific LDAP backends with director</em></a>.
				</p></div></div><section class="section" id="configure_the_controller"><div class="titlepage"><div><div><h3 class="title">1.6.1. Configure the controller</h3></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If you intend to update any configuration files, you need to be aware that certain OpenStack services now run within containers; this applies to keystone, nova, and cinder, among others. As a result, there are certain administration practices to consider:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Do not update any configuration file you might find on the physical node’s host operating system, for example, <code class="literal">/etc/cinder/cinder.conf</code>. This is because the containerized service does not reference this file.
							</li><li class="listitem"><p class="simpara">
								Do not update the configuration file running within the container. This is because any changes are lost once you restart the container.
							</p><p class="simpara">
								Instead, if you need to add any changes to containerized services, you will need to update the configuration file that is used to generate the container. These are stored within <code class="literal">/var/lib/config-data/puppet-generated/</code>
							</p><p class="simpara">
								For example:
							</p></li><li class="listitem">
								keystone: <code class="literal">/var/lib/config-data/puppet-generated/keystone/etc/keystone/keystone.conf</code>
							</li><li class="listitem">
								cinder: <code class="literal">/var/lib/config-data/puppet-generated/cinder/etc/cinder/cinder.conf</code>
							</li><li class="listitem"><p class="simpara">
								nova: <code class="literal">/var/lib/config-data/puppet-generated/nova/etc/nova/nova.conf</code>
							</p><p class="simpara">
								Any changes will then be applied once you restart the service. For example: <code class="literal">sudo systemctl restart tripleo_keystone</code>
							</p></li></ul></div></div></div><p>
					Perform this procedure on each OpenStack node running the keystone service:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Configure SELinux:
						</p><pre class="screen"># setsebool -P authlogin_nsswitch_use_ldap=on</pre><p class="simpara">
							The output might include messages similar to this. They can be ignored:
						</p><pre class="screen">Full path required for exclude: net:[4026532245].</pre></li><li class="listitem"><p class="simpara">
							Create the <code class="literal">domains</code> directory:
						</p><pre class="screen"># mkdir /var/lib/config-data/puppet-generated/keystone/etc/keystone/domains/
# chown 42425:42425 /var/lib/config-data/puppet-generated/keystone/etc/keystone/domains/</pre></li><li class="listitem"><p class="simpara">
							Configure keystone to use multiple back ends:
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								You might need to install <code class="literal">crudini</code> using <code class="literal">dnf install crudini</code>.
							</p></div></div><pre class="screen"># crudini --set /var/lib/config-data/puppet-generated/keystone/etc/keystone/keystone.conf identity domain_specific_drivers_enabled true
# crudini --set /var/lib/config-data/puppet-generated/keystone/etc/keystone/keystone.conf identity domain_config_dir /etc/keystone/domains
# crudini --set /var/lib/config-data/puppet-generated/keystone/etc/keystone/keystone.conf assignment driver sql</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								If you are using director, note that <code class="literal">/var/lib/config-data/puppet-generated/keystone/etc/keystone/keystone.conf</code> is managed by Puppet. Consequently, any custom configuration you add might be overwritten whenever you run the <code class="literal">openstack overcloud deploy</code> process. As a result, you might need to re-add this configuration manually each time. For director-based deployments, see <a class="xref" href="index.html#ldap-director" title="Chapter 5. Using domain-specific LDAP backends with director">Chapter 5, <em>Using domain-specific LDAP backends with director</em></a>.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Enable multiple domains in dashboard. Add these lines to <code class="literal">/var/lib/config-data/puppet-generated/horizon/etc/openstack-dashboard/local_settings</code>:
						</p><pre class="screen">OPENSTACK_API_VERSIONS = {
    "identity": 3
}
OPENSTACK_KEYSTONE_MULTIDOMAIN_SUPPORT = True
OPENSTACK_KEYSTONE_DEFAULT_DOMAIN = 'Default'</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								If you are using director, note that <code class="literal">/var/lib/config-data/puppet-generated/horizon/etc/openstack-dashboard/local_settings</code> is managed by Puppet. Consequently, any custom configuration you add might be overwritten whenever you run the <code class="literal">openstack overcloud deploy</code> process. As a result, you might need to re-add this configuration manually each time.
							</p></div></div><p class="simpara">
							Restart the horizon container to apply the settings:
						</p><pre class="screen">$ sudo systemctl restart tripleo_horizon</pre></li><li class="listitem"><p class="simpara">
							Configure an additional back end:
						</p><p class="simpara">
							In this example, <code class="literal">LAB</code> is the NetBIOS name to use as the Identity Service domain.
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Create the keystone domain for AD DS integration.
								</p><p class="simpara">
									Use the NetBIOS name value retrieved previously as the domain name. This approach allows you to present a consistent domain name to users during the login process. For example, if the NetBIOS name is <code class="literal">LAB</code>:
								</p><pre class="screen">$ openstack domain create LAB</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										If this command is not available, check that you have enabled keystone v3 for your command line session by running <code class="literal"># source overcloudrc-v3</code>.
									</p></div></div></li><li class="listitem"><p class="simpara">
									Create the configuration file:
								</p><p class="simpara">
									To add the AD DS back end, enter the LDAP settings in a new file called <code class="literal">/var/lib/config-data/puppet-generated/keystone/etc/keystone/domains/keystone.LAB.conf</code> (where <code class="literal">LAB</code> is the NetBIOS name retrieved previously). You will need to edit the sample settings below to suit your AD DS deployment:
								</p><pre class="screen">[ldap]
url                  = ldaps://addc.lab.local:636
user                  = CN=svc-ldap,OU=labUsers,DC=lab,DC=local
password                 = RedactedComplexPassword
suffix                   = DC=lab,DC=local
user_tree_dn             = OU=labUsers,DC=lab,DC=local
user_objectclass         = person
user_filter                  = (|(memberOf=cn=grp-openstack,OU=labUsers,DC=lab,DC=local)(memberOf=cn=grp-openstack-admin,OU=labUsers,DC=lab,DC=local)(memberOf=memberOf=cn=grp-openstack-demo,OU=labUsers,DC=lab,DC=local))
user_id_attribute        = sAMAccountName
user_name_attribute      = sAMAccountName
user_mail_attribute      = mail
user_pass_attribute      =
user_enabled_attribute   = userAccountControl
user_enabled_mask        = 2
user_enabled_default     = 512
user_attribute_ignore    = password,tenant_id,tenants
group_objectclass        = group
group_tree_dn            = OU=labUsers,DC=lab,DC=local
group_filter             = (CN=grp-openstack*)
group_id_attribute       = cn
group_name_attribute     = name
use_tls                  = False
tls_cacertfile                  =/etc/pki/ca-trust/source/anchors/anchorsaddc.lab.local.pem

query_scope                  = sub
chase_referrals                  = false

[identity]
driver = ldap</pre><p class="simpara">
									Explanation of each setting:
								</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140175031316272" scope="col">Setting</th><th align="left" valign="top" id="idm140175031315184" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">url</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													The AD Domain Controller to use for authentication. Uses LDAPS port <code class="literal">636</code>.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">user</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													The <span class="emphasis"><em>Distinguished Name</em></span> of an AD account to use for LDAP queries. For example, you can locate the <span class="emphasis"><em>Distinguished Name</em></span> value of the <span class="emphasis"><em>svc-ldap</em></span> account in AD using <code class="literal">Get-ADuser svc-ldap | select DistinguishedName</code>
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">password</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													The plaintext password of the AD account used above.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">suffix</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													The <span class="emphasis"><em>Distinguished Name</em></span> of your AD domain. You can locate this value using <code class="literal">Get-ADDomain | select DistinguishedName</code>
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">user_tree_dn</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													The <span class="emphasis"><em>Organizational Unit</em></span> (OU) that contains the OpenStack accounts.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">user_objectclass</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													Defines the type of LDAP user. For AD, use the <code class="literal">person</code> type.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">user_filter</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													Filters the users presented to Identity Service. As a result, only members of the <span class="strong strong"><strong>grp-openstack</strong></span> group can have permissions defined in Identity Service. This value requires the full <span class="emphasis"><em>Distinguished Name</em></span> of the group: <code class="literal">Get-ADGroup grp-openstack | select DistinguishedName</code>
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">user_id_attribute</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													Maps the AD value to use for user IDs.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">user_name_attribute</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													Maps the AD value to use for <span class="emphasis"><em>names</em></span>.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">user_mail_attribute</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													Maps the AD value to use for user email addresses.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">user_pass_attribute</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													Leave this value blank.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">user_enabled_attribute</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													The AD setting that validates whether the account is enabled.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">user_enabled_mask</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													Defines the value to check to determine whether an account is enabled. Used when booleans are not returned.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">user_enabled_default</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													The AD value that indicates that an account is enabled.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">user_attribute_ignore</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													Defines user attributes that Identity Service should disregard.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">group_objectclass</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													Maps the AD value to use for <span class="emphasis"><em>groups</em></span>.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">group_tree_dn</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													The <span class="emphasis"><em>Organizational Unit</em></span> (OU) that contains the user groups.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">group_filter</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													Filters the groups presented to Identity Service.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">group_id_attribute</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													Maps the AD value to use for group IDs.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">group_name_attribute</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													Maps the AD value to use for group names.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">use_tls</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													Defines whether TLS is to be used. This needs to be disabled if you are encrypting with LDAPS rather than STARTTLS.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">tls_cacertfile</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													Specifies the path to the <span class="emphasis"><em>.crt</em></span> certificate file.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">query_scope</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													Configures Identity Service to also search within nested child OUs, when locating users that are members of the <code class="literal">grp-openstack</code> group.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175031316272"> <p>
													<code class="literal">chase_referrals</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175031315184"> <p>
													Set to <code class="literal">false</code>, this setting prevents <code class="literal">python-ldap</code> from chasing all referrals with anonymous access.
												</p>
												 </td></tr></tbody></table></div></li></ol></div></li><li class="listitem"><p class="simpara">
							Change ownership of the configuration file to the keystone user:
						</p><pre class="screen"># chown 42425:42425 /var/lib/config-data/puppet-generated/keystone/etc/keystone/domains/keystone.LAB.conf</pre></li><li class="listitem"><p class="simpara">
							Restart the keystone service to apply the changes:
						</p><pre class="screen"># sudo podman exec -it keystone pkill -HUP -f keystone</pre></li><li class="listitem"><p class="simpara">
							Grant the <code class="literal">admin</code> user access to the domain:
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								This does not grant the OpenStack admin account any permissions on the actual AD DS domain. In this case, the term <span class="emphasis"><em>domain</em></span> refers to OpenStack’s usage of the keystone domain.
							</p></div></div><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Get the <code class="literal">ID</code> of the <code class="literal">LAB</code> domain:
								</p><pre class="screen"># openstack domain show LAB
+---------+----------------------------------+
| Field   | Value                            |
+---------+----------------------------------+
| enabled | True                             |
| id      | 6800b0496429431ab1c4efbb3fe810d4 |
| name    | LAB                              |
+---------+----------------------------------+</pre></li><li class="listitem"><p class="simpara">
									Get the <code class="literal">ID</code> value of the <span class="emphasis"><em>admin</em></span> user:
								</p><pre class="screen"># openstack user list --domain default | grep admin
| 3d75388d351846c6a880e53b2508172a | admin      |</pre></li><li class="listitem"><p class="simpara">
									Get the <code class="literal">ID</code> value of the <span class="emphasis"><em>admin</em></span> role:
								</p><pre class="screen"># openstack role list
+----------------------------------+---------------+
| ID                               | Name          |
+----------------------------------+---------------+
| 544d48aaffde48f1b3c31a52c35f01f9 | SwiftOperator |
| 6d005d783bf0436e882c55c62457d33d | ResellerAdmin |
| 785c70b150ee4c778fe4de088070b4cf | admin         |
| 9fe2ff9ee4384b1894a90878d3e92bab | _member_      |
+----------------------------------+---------------+</pre></li><li class="listitem"><p class="simpara">
									Use the returned domain and admin IDs to construct the command that adds the <code class="literal">admin</code> user to the <code class="literal">admin</code> role of the keystone <code class="literal">LAB</code> domain:
								</p><pre class="screen"># openstack role add --domain 6800b0496429431ab1c4efbb3fe810d4 --user 3d75388d351846c6a880e53b2508172a 785c70b150ee4c778fe4de088070b4cf</pre></li><li class="listitem"><p class="simpara">
									View the list of users in the AD DS domain by adding the NetBIOS name to the command:
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										It might take some time for the LDAP to become queryable after a reboot or service restart.
									</p></div></div><pre class="screen"># openstack user list --domain LAB</pre></li><li class="listitem"><p class="simpara">
									View the service accounts in the local Identity Service database:
								</p><pre class="screen"># openstack user list --domain default</pre></li></ol></div></li></ol></div></section><section class="section" id="allow_active_directory_group_members_to_access_projects"><div class="titlepage"><div><div><h3 class="title">1.6.2. Allow Active Directory group members to access Projects</h3></div></div></div><p>
					To allow authenticated users access to OpenStack resources, the recommended method is to authorize certain Active Directory groups to grant access to Projects. This saves the OpenStack administrators from having to allocate each user to a role in a Project. Instead, the Active Directory groups are granted roles in Projects. As a result, Active Directory users that are members of these Active Directory groups will be able to access pre-determined Projects.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If you would prefer to manually manage the authorization of individual Active Directory users, see <a class="xref" href="index.html#ad-user-accounts" title="1.6.3. Allow Active Directory users to access Projects">Section 1.6.3, “Allow Active Directory users to access Projects”</a>.
					</p></div></div><p>
					This section presumes that the Active Directory administrator has already completed these steps:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Create a group named <code class="literal">grp-openstack-admin</code> in Active Directory.
						</li><li class="listitem">
							Create a group named <code class="literal">grp-openstack-demo</code> in Active Directory.
						</li><li class="listitem">
							Add your Active Directory users to one of the above groups, as needed.
						</li><li class="listitem">
							Add your Active Directory users to the <code class="literal">grp-openstack</code> group.
						</li><li class="listitem">
							Have a designated project in mind. This example uses a project called <code class="literal">demo</code>, created using <code class="literal">openstack project create --domain default --description "Demo Project" demo</code>.
						</li></ul></div><p>
					These steps assign a role to an AD group. Group members will then have permission to access OpenStack resources.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Retrieve a list of AD groups:
						</p><pre class="screen"># openstack group list --domain LAB
+------------------------------------------------------------------+---------------------+
| ID                                                               | Name                |
+------------------------------------------------------------------+---------------------+
| 185277be62ae17e498a69f98a59b66934fb1d6b7f745f14f5f68953a665b8851 | grp-openstack       |
| a8d17f19f464c4548c18b97e4aa331820f9d3be52654aa8094e698a9182cbb88 | grp-openstack-admin |
| d971bb3bd5e64a454cbd0cc7af4c0773e78d61b5f81321809f8323216938cae8 | grp-openstack-demo  |
+------------------------------------------------------------------+---------------------+</pre></li><li class="listitem"><p class="simpara">
							Retrieve a list of roles:
						</p><pre class="screen"># openstack role list
+----------------------------------+---------------+
| ID                               | Name          |
+----------------------------------+---------------+
| 0969957bce5e4f678ca6cef00e1abf8a | ResellerAdmin |
| 1fcb3c9b50aa46ee8196aaaecc2b76b7 | admin         |
| 9fe2ff9ee4384b1894a90878d3e92bab | _member_      |
| d3570730eb4b4780a7fed97eba197e1b | SwiftOperator |
+----------------------------------+---------------+</pre></li><li class="listitem"><p class="simpara">
							Grant the Active Directory groups access to Projects by adding them to one or more of these roles. For example, if you want users in the <code class="literal">grp-openstack-demo</code> group to be general users of the <code class="literal">demo</code> project, you must add the group to the <code class="literal">_member_</code> role:
						</p><pre class="screen"># openstack role add --project demo --group d971bb3bd5e64a454cbd0cc7af4c0773e78d61b5f81321809f8323216938cae8  _member_</pre></li></ol></div><p>
					As a result, members of <code class="literal">grp-openstack-demo</code> are able to log in to the dashboard by entering their AD DS username and password, when also entering <code class="literal">LAB</code> in the Domain field:
				</p><div class="informalfigure"><div class="mediaobject"><img src="domain.png" alt="domain"/></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If users receive the error <code class="literal">Error: Unable to retrieve container list.</code>, and expect to be able to manage containers, then they must be added to the <code class="literal">SwiftOperator</code> role.
					</p></div></div></section><section class="section" id="ad-user-accounts"><div class="titlepage"><div><div><h3 class="title">1.6.3. Allow Active Directory users to access Projects</h3></div></div></div><p>
					AD DS users that are members of the <code class="literal">grp-openstack</code> AD group can be granted permission to log in to a <span class="emphasis"><em>Project</em></span> in the dashboard:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Retrieve a list of AD users:
						</p><pre class="screen"># openstack user list --domain LAB
 +------------------------------------------------------------------+----------------+
| ID                                                               | Name           |
+------------------------------------------------------------------+----------------+
| 1f24ec1f11aeb90520079c29f70afa060d22e2ce92b2eba7784c841ac418091e | user1          |
| 12c062faddc5f8b065434d9ff6fce03eb9259537c93b411224588686e9a38bf1 | user2          |
| afaf48031eb54c3e44e4cb0353f5b612084033ff70f63c22873d181fdae2e73c | user3          |
| e47fc21dcf0d9716d2663766023e2d8dc15a6d9b01453854a898cabb2396826e | user4          |
+------------------------------------------------------------------+----------------+</pre></li><li class="listitem"><p class="simpara">
							Retrieve a list of roles:
						</p><pre class="screen"># openstack role list
+----------------------------------+---------------+
| ID                               | Name          |
+----------------------------------+---------------+
| 544d48aaffde48f1b3c31a52c35f01f9 | SwiftOperator |
| 6d005d783bf0436e882c55c62457d33d | ResellerAdmin |
| 785c70b150ee4c778fe4de088070b4cf | admin         |
| 9fe2ff9ee4384b1894a90878d3e92bab | _member_      |
+----------------------------------+---------------+</pre></li><li class="listitem"><p class="simpara">
							Grant users access to Projects by adding them to one or more of these roles. For example, if you want <code class="literal">user1</code> to be a general user of the <code class="literal">demo</code> project, you add them to the <code class="literal">member</code> role:
						</p><pre class="screen"># openstack role add --project demo --user 1f24ec1f11aeb90520079c29f70afa060d22e2ce92b2eba7784c841ac418091e _member_</pre><p class="simpara">
							Or, if you want <code class="literal">user1</code> to be an administrative user of the <code class="literal">demo</code> project, you add them to the <code class="literal">admin</code> role:
						</p><pre class="screen"># openstack role add --project demo --user 1f24ec1f11aeb90520079c29f70afa060d22e2ce92b2eba7784c841ac418091e admin</pre><p class="simpara">
							As a result, <code class="literal">user1</code> is able to log in to the dashboard by entering their AD DS username and password, when also entering <code class="literal">LAB</code> in the <code class="literal">Domain</code> field:
						</p></li></ol></div><div class="informalfigure"><div class="mediaobject"><img src="domain.png" alt="domain"/></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If users receive the error <code class="literal">Error: Unable to retrieve container list.</code>, and expect to be able to manage containers, then they must be added to the <code class="literal">SwiftOperator</code> role.
					</p></div></div></section></section><section class="section" id="grant_access_to_the_domain_tab"><div class="titlepage"><div><div><h2 class="title">1.7. Grant access to the Domain tab</h2></div></div></div><p>
				To allow the <code class="literal">admin</code> user to see the <code class="literal">Domain</code> tab, you will need to assign it the <code class="literal">admin</code> role in the <code class="literal">default</code> domain:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Find the <code class="literal">admin</code> user’s UUID:
					</p><pre class="screen">$ openstack user list | grep admin
| a6a8adb6356f4a879f079485dad1321b | admin      |</pre></li><li class="listitem"><p class="simpara">
						Add the <code class="literal">admin</code> role in the <code class="literal">default</code> domain to the <code class="literal">admin</code> user:
					</p><pre class="screen">$ openstack role add --domain default --user a6a8adb6356f4a879f079485dad1321b admin</pre><p class="simpara">
						As a result, the <code class="literal">admin</code> user can now see the <code class="literal">Domain</code> tab.
					</p></li></ol></div></section><section class="section" id="creating_a_new_project"><div class="titlepage"><div><div><h2 class="title">1.8. Creating a new project</h2></div></div></div><p>
				After you have completed these integration steps, when you create a new project you will need to decide whether to create it in the <code class="literal">Default</code> domain, or in the keystone domain you’ve just created. This decision can be reached by considering your workflow, and how you administer user accounts. The <span class="emphasis"><em>Default</em></span> domain can be be thought of as an internal domain, used to manage service accounts and the <span class="emphasis"><em>admin</em></span> project. For separation purposes, you might want to keep your AD-backed users in a separate keystone domain.
			</p></section><section class="section" id="changes_to_the_dashboard_log_in_process"><div class="titlepage"><div><div><h2 class="title">1.9. Changes to the dashboard log in process</h2></div></div></div><p>
				Configuring multiple domains in Identity Service enables a new <span class="emphasis"><em>Domain</em></span> field in the dashboard login page.<br/> Users are expected to enter the domain that matches their login credentials. This field must be manually filled with one of the domains present in keystone. Use the <span class="emphasis"><em>openstack</em></span> command to list the available entries.<br/>
			</p><p>
				In this example, AD DS accounts will need to specify the <code class="literal">LAB</code> domain. The built-in keystone accounts, such as <span class="emphasis"><em>admin</em></span>, must specify <code class="literal">Default</code> as their domain:
			</p><pre class="screen"># openstack domain list
+----------------------------------+---------+---------+----------------------------------------------------------------------+
| ID                               | Name    | Enabled | Description                                                          |
+----------------------------------+---------+---------+----------------------------------------------------------------------+
| 6800b0496429431ab1c4efbb3fe810d4 | LAB     | True    |                                                                      |
| default                          | Default | True    | Owns users and tenants (i.e. projects) available on Identity API v2. |
+----------------------------------+---------+---------+----------------------------------------------------------------------+</pre></section><section class="section" id="changes_to_the_command_line"><div class="titlepage"><div><div><h2 class="title">1.10. Changes to the command line</h2></div></div></div><p>
				For certain commands, you might need to specify the applicable domain. For example, appending <code class="literal">--domain LAB</code> in this command returns users in the LAB domain (that are members of the <span class="emphasis"><em>grp-openstack</em></span> group):
			</p><pre class="screen"># openstack user list --domain LAB</pre><p>
				Appending <code class="literal">--domain Default</code> returns the built-in keystone accounts:
			</p><pre class="screen"># openstack user list --domain Default</pre></section><section class="section" id="test_ad_ds_integration"><div class="titlepage"><div><div><h2 class="title">1.11. Test AD DS integration</h2></div></div></div><p>
				This procedure validates AD DS integration by testing user access to dashboard features:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Create a test user in AD, and add the user to the <code class="literal">grp-openstack</code> AD DS group.
					</li><li class="listitem">
						Add the user to the <code class="literal">_member_</code> role of the <code class="literal">demo</code> tenant.
					</li><li class="listitem">
						Log in to the dashboard using the credentials of the AD test user.
					</li><li class="listitem">
						Click on each of the tabs to confirm that they are presented successfully without error messages.
					</li><li class="listitem">
						Use the dashboard to build a test instance.
					</li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If you experience issues with these steps, perform steps 3-5 with the built-in <span class="emphasis"><em>admin</em></span> account. If successful, this demonstrates that OpenStack is still working as expected, and that an issue exists somewhere within the AD ←→ Identity integration settings. See <a class="xref" href="index.html#Troubleshoot-AD" title="1.14. Troubleshooting">Section 1.14, “Troubleshooting”</a>.
				</p></div></div></section><section class="section" id="AD-HA"><div class="titlepage"><div><div><h2 class="title">1.12. Configure high availability</h2></div></div></div><p>
				With keystone v3 enabled, you can make this configuration highly available by listing multiple AD Domain Controllers in the configuration file for that domain.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Add a second server to the <code class="literal">url</code> entry. For example, updating the <code class="literal">url</code> setting in the <code class="literal">keystone.LAB.conf</code> file will have keystone send all query traffic to the first Domain Controller in the list, <code class="literal">addc.lab.local</code>:
					</p><pre class="screen">url =  ldaps://addc.lab.local,ldaps://addc2.lab.local</pre><p class="simpara">
						If a query to <span class="emphasis"><em>addc.lab.local</em></span> fails due to it being unavailable, Identity Service will attempt to query the next server in the list: <code class="literal">addc2.lab.local</code>. Note that this configuration does not perform queries in a round-robin fashion, so cannot be considered a load-balancing solution.
					</p></li><li class="listitem"><p class="simpara">
						Set the network timeout in <code class="literal">/etc/openldap/ldap.conf</code>:
					</p><pre class="screen">NETWORK_TIMEOUT 2</pre></li></ol></div><p>
				In addition, if you have firewalls configured between the controller and the domain controllers, then you should not configure the domain controllers to silently drop packets from the controller. This will allow <code class="literal">python-keystoneclient</code> to properly detect outages and redirect the request to the next domain controller in the list.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					There might be connection delays while queries are being redirected to the second LDAP server in the list. This is because the connection to the first server must first time out before the second is attempted.
				</p></div></div></section><section class="section" id="create_a_rc_file_for_a_non_admin_user"><div class="titlepage"><div><div><h2 class="title">1.13. Create a RC file for a non-admin user</h2></div></div></div><p>
				You might need to create a RC file for a non-admin user. For example:
			</p><pre class="screen">$ cat overcloudrc-v3-user1
# Clear any old environment that may conflict.
for key in $( set | awk '{FS="="}  /^OS_/ {print $1}' ); do unset $key ; done
export OS_USERNAME=user1
export NOVA_VERSION=1.1
export OS_PROJECT_NAME=demo
export OS_PASSWORD=RedactedComplexPassword
export OS_NO_CACHE=True
export COMPUTE_API_VERSION=1.1
export no_proxy=,10.0.0.5,192.168.2.11
export OS_CLOUDNAME=overcloud
export OS_AUTH_URL=https://10.0.0.5:5000/v3
export OS_AUTH_TYPE=password
export PYTHONWARNINGS="ignore:Certificate has no, ignore:A true
SSLContext object is not available"
export OS_IDENTITY_API_VERSION=3
export OS_PROJECT_DOMAIN_NAME=Default
export OS_USER_DOMAIN_NAME=LAB</pre></section><section class="section" id="Troubleshoot-AD"><div class="titlepage"><div><div><h2 class="title">1.14. Troubleshooting</h2></div></div></div><section class="section" id="test_ldap_connections"><div class="titlepage"><div><div><h3 class="title">1.14.1. Test LDAP connections</h3></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						This command expects to find the necessary certificate in your host operating system. See the <span class="emphasis"><em>Configure the LDAPS certificate</em></span> section for more information.
					</p></div></div><p>
					Use <code class="literal">ldapsearch</code> to remotely perform test queries against the Active Directory Domain Controller. A successful result here indicates that network connectivity is working, and the AD DS services are up. In this example, a test query is performed against the server <code class="literal">addc.lab.local</code> on port <code class="literal">636</code>:
				</p><pre class="screen"># ldapsearch -Z -x -H ldaps://addc.lab.local:636 -D "svc-ldap@lab.local" -W -b "OU=labUsers,DC=lab,DC=local" -s sub "(cn=*)" cn</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						<code class="literal">ldapsearch</code> is a part of the <code class="literal">openldap-clients</code> package. You can install this using <code class="literal"># dnf install openldap-clients</code>
					</p></div></div></section><section class="section" id="test_the_certificate_trust_configuration"><div class="titlepage"><div><div><h3 class="title">1.14.2. Test the Certificate Trust Configuration</h3></div></div></div><p>
					If you receive the error <code class="literal">Peer's Certificate issuer is not recognized.</code> while testing with <span class="emphasis"><em>ldapsearch</em></span>, confirm that your <code class="literal">TLS_CACERTDIR</code> path is correctly set. For example:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<span class="emphasis"><em>/etc/openldap/ldap.conf</em></span>
						</li></ul></div><pre class="screen">TLS_CACERTDIR /etc/openldap/certs</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						As a temporary workaround, you may want to consider disabling certificate validation.
					</p><p>
						<span class="strong strong"><strong>This setting must not be permanently configured</strong></span>:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">/etc/openldap/ldap.conf</code>
							</li></ul></div><pre class="screen">TLS_REQCERT allow</pre><p>
						If the <code class="literal">ldapsearch</code> query works after setting this value, you might need to review whether your certificate trusts are correctly configured.
					</p></div></div></section><section class="section" id="test_port_access"><div class="titlepage"><div><div><h3 class="title">1.14.3. Test port access</h3></div></div></div><p>
					Use <code class="literal">nc</code> to check that LDAPS port <code class="literal">636</code> is remotely accessible. In this example, a probe is performed against the server <code class="literal">addc.lab.local</code>. Press ctrl-c to exit the prompt.
				</p><pre class="screen"># nc -v addc.lab.local 636
Ncat: Version 6.40 ( http://nmap.org/ncat )
Ncat: Connected to 192.168.200.10:636.
^C</pre><p>
					Failure to establish a connection could indicate a firewall configuration issue.
				</p></section></section></section><section class="chapter" id="idm"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Identity Management Integration</h1></div></div></div><p>
			This chapter describes how to integrate Identity Service (keystone) with Red Hat Identity Management.
		</p><p>
			In this use case, Identity Service authenticates certain Red Hat Identity Management (IdM) users, while retaining authorization settings and critical service accounts in the Identity Service database.<br/> As a result, Identity Service has read-only access to IdM for user account authentication, while retaining management over the privileges assigned to authenticated accounts.
		</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				If you are using director, see <a class="xref" href="index.html#ldap-director" title="Chapter 5. Using domain-specific LDAP backends with director">Chapter 5, <em>Using domain-specific LDAP backends with director</em></a>. This is because the configuration files referenced below are managed by Puppet. Consequently, any custom configuration you add might be overwritten whenever you run the <code class="literal">openstack overcloud deploy</code> process.
			</p></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				For additional integration options using <span class="emphasis"><em>novajoin</em></span>, see <a class="xref" href="index.html#idm-novajoin" title="Chapter 3. Integrate with IdM using novajoin">Chapter 3, <em>Integrate with IdM using novajoin</em></a>.
			</p></div></div><section class="section" id="key_terms_2"><div class="titlepage"><div><div><h2 class="title">2.1. Key terms</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="strong strong"><strong>Authentication</strong></span> - The process of using a password to verify that the user is who they claim to be.
					</li><li class="listitem">
						<span class="strong strong"><strong>Authorization</strong></span> - Validating that authenticated users have proper permissions to the systems they’re attempting to access.
					</li><li class="listitem">
						<span class="strong strong"><strong>Domain</strong></span> - Refers to the additional back ends configured in Identity Service. For example, Identity Service can be configured to authenticate users from external IdM environments. The resulting collection of users can be thought of as a <span class="emphasis"><em>domain</em></span>.
					</li></ul></div></section><section class="section" id="assumptions_2"><div class="titlepage"><div><div><h2 class="title">2.2. Assumptions</h2></div></div></div><p>
				This example deployment makes the following assumptions:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Red Hat Identity Management is configured and operational.
					</li><li class="listitem">
						Red Hat OpenStack Platform is configured and operational.
					</li><li class="listitem">
						DNS name resolution is fully functional and all hosts are registered appropriately.
					</li></ul></div></section><section class="section" id="impact_statement_2"><div class="titlepage"><div><div><h2 class="title">2.3. Impact Statement</h2></div></div></div><p>
				These steps allow IdM users to authenticate to OpenStack and access resources. OpenStack service accounts (such as keystone and glance), and authorization management (permissions and roles) will remain in the Identity Service database. Permissions and roles are assigned to the IdM accounts using Identity Service management tools.
			</p><section class="section" id="high_availability_options_2"><div class="titlepage"><div><div><h3 class="title">2.3.1. High Availability options</h3></div></div></div><p>
					This configuration creates a dependency on the availability of a single IdM server: Project users will be affected if Identity Service is unable to authenticate to the IdM Server. There are a number of options available to manage this risk, for example: you might configure keystone to query a DNS alias or a load balancing appliance, rather than an individual IdM server. You can also configure keystone to query a different IdM server, should one become unavailable. See <a class="xref" href="index.html#IdM-HA" title="2.7. Configure for high availability">Section 2.7, “Configure for high availability”</a> for more information.
				</p></section><section class="section" id="outage_requirements_2"><div class="titlepage"><div><div><h3 class="title">2.3.2. Outage requirements</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The Identity Service will need to be restarted in order to add the IdM back end.
						</li><li class="listitem">
							Users will be unable to access the dashboard until their accounts have been created in IdM. To reduce downtime, consider pre-staging the IdM accounts well in advance of this change.
						</li></ul></div></section><section class="section" id="firewall_configuration_2"><div class="titlepage"><div><div><h3 class="title">2.3.3. Firewall configuration</h3></div></div></div><p>
					If firewalls are filtering traffic between IdM and OpenStack, you will need to allow access through the following port:
				</p><div class="informaltable"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"><!--Empty--></col><col style="width: 25%; " class="col_2"><!--Empty--></col><col style="width: 25%; " class="col_3"><!--Empty--></col><col style="width: 25%; " class="col_4"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140175036233072" scope="col">Source</th><th align="left" valign="top" id="idm140175036231984" scope="col">Destination</th><th align="left" valign="top" id="idm140175036230896" scope="col">Type</th><th align="left" valign="top" id="idm140175036229808" scope="col">Port</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140175036233072"> <p>
									OpenStack Controller Node
								</p>
								 </td><td align="left" valign="top" headers="idm140175036231984"> <p>
									Red Hat Identity Management
								</p>
								 </td><td align="left" valign="top" headers="idm140175036230896"> <p>
									LDAPS
								</p>
								 </td><td align="left" valign="top" headers="idm140175036229808"> <p>
									TCP 636
								</p>
								 </td></tr></tbody></table></div></section><section class="section" id="configure_the_idm_server"><div class="titlepage"><div><div><h3 class="title">2.3.4. Configure the IdM server</h3></div></div></div><p>
					Run these commands on the IdM server:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Create the LDAP lookup account. This account is used by Identity Service to query the IdM LDAP service:
						</p><pre class="screen"># kinit admin
# ipa user-add
First name: OpenStack
Last name: LDAP
User  [radministrator]: svc-ldap</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								Review the password expiration settings of this account, once created.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Create a group for OpenStack users, called <span class="emphasis"><em>grp-openstack</em></span>. Only members of this group can have permissions assigned in OpenStack Identity.
						</p><pre class="screen"># ipa group-add --desc="OpenStack Users" grp-openstack</pre></li><li class="listitem"><p class="simpara">
							Set the <span class="emphasis"><em>svc-ldap</em></span> account password, and add it to the <span class="emphasis"><em>grp-openstack</em></span> group:
						</p><pre class="screen"># ipa passwd svc-ldap
# ipa group-add-member --users=svc-ldap grp-openstack</pre></li><li class="listitem"><p class="simpara">
							Login as <span class="emphasis"><em>svc-ldap</em></span> user and perform the password change when prompted:
						</p><pre class="screen"># kinit svc-ldap</pre></li></ol></div></section><section class="section" id="configure_the_ldaps_certificate_2"><div class="titlepage"><div><div><h3 class="title">2.3.5. Configure the LDAPS certificate</h3></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						When using multiple domains for LDAP authentication, you might receive various errors, such as <code class="literal">Unable to retrieve authorized projects</code>, or <code class="literal">Peer's Certificate issuer is not recognized</code>. This can arise if keystone uses the incorrect certificate for a certain domain. As a workaround, merge all of the LDAPS public keys into a single <code class="literal">.crt</code> bundle, and configure all of your keystone domains to use this file.
					</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							In your IdM environment, locate the LDAPS certificate. This file can be located using <span class="emphasis"><em>/etc/openldap/ldap.conf</em></span>:
						</p><pre class="screen">TLS_CACERT /etc/ipa/ca.crt</pre></li><li class="listitem"><p class="simpara">
							Copy the file to the OpenStack node that runs the keystone service. For example, this command uses <span class="emphasis"><em>scp</em></span> to copy ca.crt to the node named <span class="emphasis"><em>node.lab.local</em></span>:
						</p><pre class="screen"># scp /etc/ipa/ca.crt root@node.lab.local:/root/</pre></li><li class="listitem"><p class="simpara">
							On the OpenStack node, convert the .crt to .pem:
						</p><pre class="screen"># openssl x509 -in ca.crt -out ca.pem -outform PEM</pre></li><li class="listitem"><p class="simpara">
							Copy the .crt to the certificate directory. This is the location that the keystone service will use to access the certificate:
						</p><pre class="screen"># cp ca.crt/etc/pki/ca-trust/source/anchors</pre></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Optionally, if you need to run diagnostic commands, such as <code class="literal">ldapsearch</code>, you will also need to add the certificate to the RHEL certificate store. For example:
					</p><pre class="screen"># cp ca.pem /etc/pki/ca-trust/source/anchors/
# update-ca-trust</pre></div></div></section></section><section class="section" id="configure_identity_service_2"><div class="titlepage"><div><div><h2 class="title">2.4. Configure Identity Service</h2></div></div></div><p>
				These steps prepare Identity Service for integration with IdM.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If you are using director, note that the configuration files referenced below are managed by Puppet. Consequently, any custom configuration you add might be overwritten whenever you run the <code class="literal">openstack overcloud deploy</code> process. To apply these settings to director-based deployments, see <a class="xref" href="index.html#ldap-director" title="Chapter 5. Using domain-specific LDAP backends with director">Chapter 5, <em>Using domain-specific LDAP backends with director</em></a>.
				</p></div></div><section class="section" id="configure_the_controller_2"><div class="titlepage"><div><div><h3 class="title">2.4.1. Configure the controller</h3></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If you intend to update any configuration files, you need to be aware that certain OpenStack services now run within containers; this applies to keystone, nova, and cinder, among others. As a result, there are certain administration practices to consider:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Do not update any configuration file you might find on the physical node’s host operating system, for example, <code class="literal">/etc/cinder/cinder.conf</code>. This is because the containerized service does not reference this file.
							</li><li class="listitem"><p class="simpara">
								Do not update the configuration file running within the container. This is because any changes are lost once you restart the container.
							</p><p class="simpara">
								Instead, if you need to add any changes to containerized services, you will need to update the configuration file that is used to generate the container. These are stored within <code class="literal">/var/lib/config-data/puppet-generated/</code>
							</p><p class="simpara">
								For example:
							</p></li><li class="listitem">
								keystone: <code class="literal">/var/lib/config-data/puppet-generated/keystone/etc/keystone/keystone.conf</code>
							</li><li class="listitem">
								cinder: <code class="literal">/var/lib/config-data/puppet-generated/cinder/etc/cinder/cinder.conf</code>
							</li><li class="listitem"><p class="simpara">
								nova: <code class="literal">/var/lib/config-data/puppet-generated/nova/etc/nova/nova.conf</code>
							</p><p class="simpara">
								Any changes will then be applied once you restart the container. For example: <code class="literal">sudo systemctl restart tripleo_keystone</code>
							</p></li></ul></div></div></div><p>
					Perform this procedure on the controller running the keystone service:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Configure SELinux:
						</p><pre class="screen"># setsebool -P authlogin_nsswitch_use_ldap=on</pre><p class="simpara">
							The output might include messages similar to this. They can be ignored:
						</p><pre class="screen">Full path required for exclude: net:[4026532245].</pre></li><li class="listitem"><p class="simpara">
							Create the <span class="emphasis"><em>domains</em></span> directory:
						</p><pre class="screen"># mkdir /var/lib/config-data/puppet-generated/keystone/etc/keystone/domains/
# chown 42425:42425 /var/lib/config-data/puppet-generated/keystone/etc/keystone/domains/</pre></li><li class="listitem"><p class="simpara">
							Configure Identity Service to use multiple back ends:
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								You might need to install <code class="literal">crudini</code> using <code class="literal">dnf install crudini</code>.
							</p></div></div><pre class="screen"># crudini --set /var/lib/config-data/puppet-generated/keystone/etc/keystone/keystone.conf identity domain_specific_drivers_enabled true
# crudini --set /var/lib/config-data/puppet-generated/keystone/etc/keystone/keystone.conf identity domain_config_dir /etc/keystone/domains
# crudini --set /var/lib/config-data/puppet-generated/keystone/etc/keystone/keystone.conf assignment driver sql</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								If you are using director, note that <code class="literal">/var/lib/config-data/puppet-generated/keystone/etc/keystone/keystone.conf</code> is managed by Puppet. Consequently, any custom configuration you add might be overwritten whenever you run the <code class="literal">openstack overcloud deploy</code> process. As a result, you might need to re-add this configuration manually each time. For director-based deployments, see <a class="xref" href="index.html#ldap-director" title="Chapter 5. Using domain-specific LDAP backends with director">Chapter 5, <em>Using domain-specific LDAP backends with director</em></a>.
							</p></div></div></li><li class="listitem"><p class="simpara">
							Enable multiple domains in dashboard. Add these lines to <span class="emphasis"><em>/var/lib/config-data/puppet-generated/horizon/etc/openstack-dashboard/local_settings</em></span>:
						</p><pre class="screen">OPENSTACK_API_VERSIONS = {
    "identity": 3
}
OPENSTACK_KEYSTONE_MULTIDOMAIN_SUPPORT = True
OPENSTACK_KEYSTONE_DEFAULT_DOMAIN = 'Default'</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								If you are using director, note that <code class="literal">/var/lib/config-data/puppet-generated/horizon/etc/openstack-dashboard/local_settings</code> is managed by Puppet. Consequently, any custom configuration you add might be overwritten whenever you run the <code class="literal">openstack overcloud deploy</code> process. As a result, you might need to re-add this configuration manually each time.
							</p></div></div><p class="simpara">
							Restart the horizon container to apply the settings:
						</p><pre class="screen">$ sudo systemctl restart tripleo_horizon</pre></li><li class="listitem"><p class="simpara">
							Configure an additional back end:
						</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Create the keystone domain for IdM integration. You will need to decide on a name to use for your new keystone domain, and then create the domain. For example, this command creates a keystone domain named <code class="literal">LAB</code>:
								</p><pre class="screen">$ openstack domain create LAB</pre></li><li class="listitem"><p class="simpara">
									Create the configuration file:
								</p><p class="simpara">
									To add the IdM back end, enter the LDAP settings in a new file called <code class="literal">/var/lib/config-data/puppet-generated/keystone/etc/keystone/domains/keystone.LAB.conf</code> (where <code class="literal">LAB</code> is the domain name created previously). You will need to edit the sample settings below to suit your IdM deployment:
								</p><pre class="screen">[ldap]
url =  ldaps://idm.lab.local
user = uid=svc-ldap,cn=users,cn=accounts,dc=lab,dc=local
user_filter = (memberOf=cn=grp-openstack,cn=groups,cn=accounts,dc=lab,dc=local)
password = RedactedComplexPassword
user_tree_dn = cn=users,cn=accounts,dc=lab,dc=local
user_objectclass = inetUser
user_id_attribute = uid
user_name_attribute = uid
user_mail_attribute = mail
user_pass_attribute =
group_tree_dn               = cn=groups,cn=accounts,dc=lab,dc=local
group_objectclass              = groupOfNames
group_id_attribute            = cn
group_name_attribute       =  cn
group_member_attribute  = member
group_desc_attribute        = description
use_tls                  = False
query_scope                  = sub
chase_referrals                  = false
tls_cacertfile =/etc/pki/ca-trust/source/anchors/anchorsca.crt

[identity]
driver = ldap</pre><p class="simpara">
									Explanation of each setting:
								</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 50%; " class="col_1"><!--Empty--></col><col style="width: 50%; " class="col_2"><!--Empty--></col></colgroup><thead><tr><th align="left" valign="top" id="idm140175036147840" scope="col">Setting</th><th align="left" valign="top" id="idm140175036146752" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm140175036147840"> <p>
													<code class="literal">url</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175036146752"> <p>
													The IdM server to use for authentication. Uses LDAPS port <code class="literal">636</code>.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175036147840"> <p>
													<code class="literal">user</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175036146752"> <p>
													The account in IdM to use for LDAP queries.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175036147840"> <p>
													<code class="literal">password</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175036146752"> <p>
													The plaintext password of the IdM account used above.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175036147840"> <p>
													<code class="literal">user_filter</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175036146752"> <p>
													Filters the users presented to Identity Service. As a result, only members of the <span class="strong strong"><strong>grp-openstack</strong></span> group can have permissions defined in Identity Service.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175036147840"> <p>
													<code class="literal">user_tree_dn</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175036146752"> <p>
													The path to the OpenStack accounts in IdM.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175036147840"> <p>
													<code class="literal">user_objectclass</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175036146752"> <p>
													Defines the type of LDAP user. For IdM, use the <code class="literal">inetUser</code> type.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175036147840"> <p>
													<code class="literal">user_id_attribute</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175036146752"> <p>
													Maps the IdM value to use for user IDs.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175036147840"> <p>
													<code class="literal">user_name_attribute</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175036146752"> <p>
													Maps the IdM value to use for <span class="emphasis"><em>names</em></span>.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175036147840"> <p>
													<code class="literal">user_mail_attribute</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175036146752"> <p>
													Maps the IdM value to use for user email addresses.
												</p>
												 </td></tr><tr><td align="left" valign="top" headers="idm140175036147840"> <p>
													<code class="literal">user_pass_attribute</code>
												</p>
												 </td><td align="left" valign="top" headers="idm140175036146752"> <p>
													Leave this value blank.
												</p>
												 </td></tr></tbody></table></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										Integration with an IdM group will only return direct members, and not nested groups. As a result, queries that rely on <code class="literal">LDAP_MATCHING_RULE_IN_CHAIN</code> or <code class="literal">memberof:1.2.840.113556.1.4.1941:</code> will not currently work with IdM.
									</p></div></div></li></ol></div></li><li class="listitem"><p class="simpara">
							Change ownership of the config file to the keystone user:
						</p><pre class="screen"># chown 42425:42425 /var/lib/config-data/puppet-generated/keystone/etc/keystone/domains/keystone.LAB.conf</pre></li><li class="listitem"><p class="simpara">
							Grant the admin user access to the domain:
						</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
								This does not grant the OpenStack admin account any permissions in IdM. In this case, the term domain refers to OpenStack’s usage of the keystone domain.
							</p></div></div><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
									Get the <code class="literal">ID</code> of the <span class="emphasis"><em>LAB</em></span> domain:
								</p><pre class="screen">$ openstack domain show LAB
+---------+----------------------------------+
| Field   | Value                            |
+---------+----------------------------------+
| enabled | True                             |
| id      | 6800b0496429431ab1c4efbb3fe810d4 |
| name    | LAB                              |
+---------+----------------------------------+</pre></li><li class="listitem"><p class="simpara">
									Get the <code class="literal">ID</code> value of the <span class="emphasis"><em>admin</em></span> user:
								</p><pre class="screen">$ openstack user list --domain default | grep admin

| 3d75388d351846c6a880e53b2508172a | admin      |</pre></li><li class="listitem"><p class="simpara">
									Get the <code class="literal">ID</code> value of the <span class="emphasis"><em>admin</em></span> role:
								</p><pre class="screen"># openstack role list
+----------------------------------+---------------+
| ID                               | Name          |
+----------------------------------+---------------+
| 544d48aaffde48f1b3c31a52c35f01f9 | SwiftOperator |
| 6d005d783bf0436e882c55c62457d33d | ResellerAdmin |
| 785c70b150ee4c778fe4de088070b4cf | admin         |
| 9fe2ff9ee4384b1894a90878d3e92bab | _member_      |
+----------------------------------+---------------+</pre></li><li class="listitem"><p class="simpara">
									Use the returned domain and admin IDs to construct the command that adds the <span class="emphasis"><em>admin</em></span> user to the <span class="emphasis"><em>admin</em></span> role of the keystone LAB domain:
								</p><pre class="screen">$ openstack role add --domain 6800b0496429431ab1c4efbb3fe810d4 --user 3d75388d351846c6a880e53b2508172a 785c70b150ee4c778fe4de088070b4cf</pre></li></ol></div></li><li class="listitem"><p class="simpara">
							Restart the keystone service to apply the changes:
						</p><pre class="screen">$ sudo podman restart keystone</pre></li><li class="listitem"><p class="simpara">
							View the list of users in the IdM domain by adding the keystone domain name to the command:
						</p><pre class="screen">$ openstack user list --domain LAB</pre></li><li class="listitem"><p class="simpara">
							View the service accounts in the local keystone database:
						</p><pre class="screen">$ openstack user list --domain default</pre></li></ol></div></section><section class="section" id="idm-groups"><div class="titlepage"><div><div><h3 class="title">2.4.2. Allow IdM group members to access Projects</h3></div></div></div><p>
					To allow authenticated users access to OpenStack resources, the recommended method is to authorize certain IdM groups to grant access to Projects. This saves the OpenStack administrators from having to allocate each user to a role in a Project. Instead, the IdM groups are granted roles in Projects. As a result, IdM users that are members of these IdM groups will be able to access pre-determined Projects.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If you would prefer to manually manage the authorization of individual IdM users, see the <a class="xref" href="index.html#idm-user-accounts" title="2.4.3. Allow IdM users to access Projects">Section 2.4.3, “Allow IdM users to access Projects”</a>.
					</p></div></div><p>
					This section presumes that the IdM administrator has already completed these steps:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Create a group named <code class="literal">grp-openstack-admin</code> in IdM.
						</li><li class="listitem">
							Create a group named <code class="literal">grp-openstack-demo</code> in IdM.
						</li><li class="listitem">
							Add your IdM users to one of the above groups, as needed.
						</li><li class="listitem">
							Add your IdM users to the <code class="literal">grp-openstack</code> group.
						</li><li class="listitem">
							Have a designated project in mind. This example uses a project called <code class="literal">demo</code>, created using <code class="literal">openstack project create --domain default --description "Demo Project" demo</code>.
						</li></ul></div><p>
					These steps assign a role to an IdM group. Group members will then have permission to access OpenStack resources.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Retrieve a list of IdM groups:
						</p><pre class="screen">$ openstack group list --domain LAB
+------------------------------------------------------------------+---------------------+
| ID                                                               | Name                |
+------------------------------------------------------------------+---------------------+
| 185277be62ae17e498a69f98a59b66934fb1d6b7f745f14f5f68953a665b8851 | grp-openstack       |
| a8d17f19f464c4548c18b97e4aa331820f9d3be52654aa8094e698a9182cbb88 | grp-openstack-admin |
| d971bb3bd5e64a454cbd0cc7af4c0773e78d61b5f81321809f8323216938cae8 | grp-openstack-demo  |
+------------------------------------------------------------------+---------------------+</pre></li><li class="listitem"><p class="simpara">
							Retrieve a list of roles:
						</p><pre class="screen">$ openstack role list
+----------------------------------+---------------+
| ID                               | Name          |
+----------------------------------+---------------+
| 0969957bce5e4f678ca6cef00e1abf8a | ResellerAdmin |
| 1fcb3c9b50aa46ee8196aaaecc2b76b7 | admin         |
| 9fe2ff9ee4384b1894a90878d3e92bab | _member_      |
| d3570730eb4b4780a7fed97eba197e1b | SwiftOperator |
+----------------------------------+---------------+</pre></li><li class="listitem"><p class="simpara">
							Grant the IdM groups access to Projects by adding them to one or more of these roles. For example, if you want users in the <code class="literal">grp-openstack-demo</code> group to be general users of the <code class="literal">demo</code> project, you must add the group to the <code class="literal">_member_</code> role:
						</p><pre class="screen">$ openstack role add --project demo --group d971bb3bd5e64a454cbd0cc7af4c0773e78d61b5f81321809f8323216938cae8  _member_</pre></li></ol></div><p>
					As a result, members of <code class="literal">grp-openstack-demo</code> are able to log in to the dashboard by entering their IdM username and password, when also entering <code class="literal">LAB</code> in the Domain field:
				</p><div class="informalfigure"><div class="mediaobject"><img src="domain.png" alt="domain"/></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If users receive the error <code class="literal">Error: Unable to retrieve container list.</code>, and expect to be able to manage containers, then they must be added to the <code class="literal">SwiftOperator</code> role.
					</p></div></div></section><section class="section" id="idm-user-accounts"><div class="titlepage"><div><div><h3 class="title">2.4.3. Allow IdM users to access Projects</h3></div></div></div><p>
					IdM users that are members of the <code class="literal">grp-openstack</code> IdM group can be granted permission to log in to a <span class="emphasis"><em>Project</em></span> in the dashboard:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Retrieve a list of IdM users:
						</p><pre class="screen"># openstack user list --domain LAB
 +------------------------------------------------------------------+----------------+
| ID                                                               | Name           |
+------------------------------------------------------------------+----------------+
| 1f24ec1f11aeb90520079c29f70afa060d22e2ce92b2eba7784c841ac418091e | user1          |
| 12c062faddc5f8b065434d9ff6fce03eb9259537c93b411224588686e9a38bf1 | user2          |
| afaf48031eb54c3e44e4cb0353f5b612084033ff70f63c22873d181fdae2e73c | user3          |
| e47fc21dcf0d9716d2663766023e2d8dc15a6d9b01453854a898cabb2396826e | user4          |
+------------------------------------------------------------------+----------------+</pre></li><li class="listitem"><p class="simpara">
							Retrieve a list of roles:
						</p><pre class="screen"># openstack role list
+----------------------------------+---------------+
| ID                               | Name          |
+----------------------------------+---------------+
| 544d48aaffde48f1b3c31a52c35f01f9 | SwiftOperator |
| 6d005d783bf0436e882c55c62457d33d | ResellerAdmin |
| 785c70b150ee4c778fe4de088070b4cf | admin         |
| 9fe2ff9ee4384b1894a90878d3e92bab | _member_      |
+----------------------------------+---------------+</pre></li><li class="listitem"><p class="simpara">
							Grant users access to Projects by adding them to one or more of these roles. For example, if you want <code class="literal">user1</code> to be a general user of the <code class="literal">demo</code> project, you add them to the <code class="literal">member</code> role:
						</p><pre class="screen"># openstack role add --project demo --user 1f24ec1f11aeb90520079c29f70afa060d22e2ce92b2eba7784c841ac418091e _member_</pre><p class="simpara">
							Or, if you want <code class="literal">user1</code> to be an administrative user of the <code class="literal">demo</code> project, you add them to the <code class="literal">admin</code> role:
						</p><pre class="screen"># openstack role add --project demo --user 1f24ec1f11aeb90520079c29f70afa060d22e2ce92b2eba7784c841ac418091e admin</pre><p class="simpara">
							As a result, <code class="literal">user1</code> is able to log in to the dashboard by entering their IdM username and password, when also entering <code class="literal">LAB</code> in the <code class="literal">Domain</code> field:
						</p></li></ol></div><div class="informalfigure"><div class="mediaobject"><img src="domain.png" alt="domain"/></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If users receive the error <code class="literal">Error: Unable to retrieve container list.</code>, and expect to be able to manage containers, then they must be added to the <code class="literal">SwiftOperator</code> role.
					</p></div></div></section></section><section class="section" id="grant_access_to_the_domain_tab_2"><div class="titlepage"><div><div><h2 class="title">2.5. Grant access to the Domain tab</h2></div></div></div><p>
				To allow the <code class="literal">admin</code> user to see the <code class="literal">Domain</code> tab, you will need to assign it the <code class="literal">admin</code> role in the <code class="literal">default</code> domain:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Find the <code class="literal">admin</code> user’s UUID:
					</p><pre class="screen">$ openstack user list | grep admin
| a6a8adb6356f4a879f079485dad1321b | admin      |</pre></li><li class="listitem"><p class="simpara">
						Add the <code class="literal">admin</code> role in the <code class="literal">default</code> domain to the <code class="literal">admin</code> user:
					</p><pre class="screen">$ openstack role add --domain default --user a6a8adb6356f4a879f079485dad1321b admin</pre><p class="simpara">
						As a result, the <code class="literal">admin</code> user can now see the <code class="literal">Domain</code> tab.
					</p></li></ol></div></section><section class="section" id="creating_a_new_project_2"><div class="titlepage"><div><div><h2 class="title">2.6. Creating a new project</h2></div></div></div><p>
				After you have completed these integration steps, when you create a new project you will need to decide whether to create it in the <code class="literal">Default</code> domain, or in the keystone domain you’ve just created. This decision can be reached by considering your workflow, and how you administer user accounts. The <code class="literal">Default</code> domain can be be thought of as an internal domain, used for service accounts and the <code class="literal">admin</code> project, so it might make sense for your AD-backed users to be placed within a different keystone domain; this does not strictly need to be the same keystone domain as the IdM users are in, and for separation purposes, there might be multiple keystone domains.
			</p><section class="section" id="changes_to_the_dashboard_log_in_process_2"><div class="titlepage"><div><div><h3 class="title">2.6.1. Changes to the dashboard log in process</h3></div></div></div><p>
					Configuring multiple domains in Identity Service enables a new <span class="emphasis"><em>Domain</em></span> field in the dashboard login page.<br/> Users are expected to enter the domain that matches their login credentials. This field must be manually filled with one of the domains present in keystone. Use the <span class="emphasis"><em>openstack</em></span> command to list the available entries.<br/>
				</p><p>
					In this example, IdM accounts will need to specify the <code class="literal">LAB</code> domain. The built-in keystone accounts, such as <span class="emphasis"><em>admin</em></span>, must specify <code class="literal">Default</code> as their domain:
				</p><pre class="screen">$ openstack domain list
+----------------------------------+---------+---------+----------------------------------------------------------------------+
| ID                               | Name    | Enabled | Description                                                          |
+----------------------------------+---------+---------+----------------------------------------------------------------------+
| 6800b0496429431ab1c4efbb3fe810d4 | LAB     | True    |                                                                      |
| default                          | Default | True    | Owns users and tenants (i.e. projects) available on Identity API v2. |
+----------------------------------+---------+---------+----------------------------------------------------------------------+</pre></section><section class="section" id="changes_to_the_command_line_2"><div class="titlepage"><div><div><h3 class="title">2.6.2. Changes to the command line</h3></div></div></div><p>
					For certain commands, you might need to specify the applicable domain. For example, appending <code class="literal">--domain LAB</code> in this command returns users in the LAB domain (that are members of the <span class="emphasis"><em>grp-openstack</em></span> group):
				</p><pre class="screen">$ openstack user list --domain LAB</pre><p>
					Appending <code class="literal">--domain Default</code> returns the built-in keystone accounts:
				</p><pre class="screen">$ openstack user list --domain Default</pre></section><section class="section" id="test_idm_integration"><div class="titlepage"><div><div><h3 class="title">2.6.3. Test IdM integration</h3></div></div></div><p>
					This procedure validates IdM integration by testing user access to dashboard features:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							Create a test user in IdM, and add the user to the <code class="literal">grp-openstack</code> IdM group.
						</li><li class="listitem">
							Add the user to the <code class="literal">_member_</code> role of the <code class="literal">demo</code> tenant.
						</li><li class="listitem">
							Log in to the dashboard using the credentials of the IdM test user.
						</li><li class="listitem">
							Click on each of the tabs to confirm that they are presented successfully without error messages.
						</li><li class="listitem">
							Use the dashboard to build a test instance.
						</li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If you experience issues with these steps, perform steps 3-5 with the built-in <span class="emphasis"><em>admin</em></span> account. If successful, this demonstrates that OpenStack is still working as expected, and that an issue exists somewhere within the IdM ←→ Identity integration settings. See <a class="xref" href="index.html#Troubleshooting-IdM" title="2.9. Troubleshooting">Section 2.9, “Troubleshooting”</a>.
					</p></div></div></section></section><section class="section" id="IdM-HA"><div class="titlepage"><div><div><h2 class="title">2.7. Configure for high availability</h2></div></div></div><p>
				You can make this configuration highly available by listing multiple IdM servers in the configuration file for that domain.
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Add a second server to the <code class="literal">url</code> entry. For example, updating the <code class="literal">url</code> setting in the <span class="emphasis"><em>keystone.LAB.conf</em></span> file will have Identity Service send all query traffic to the first IdM server in the list, <span class="emphasis"><em>idm.lab.local</em></span>:
					</p><pre class="screen">url =  ldaps://idm.lab.local,ldaps://idm2.lab.local</pre><p class="simpara">
						If a query to <span class="emphasis"><em>idm.lab.local</em></span> fails due to it being unavailable, Identity Service will attempt to query the next server in the list: <span class="emphasis"><em>idm2.lab.local</em></span>. Note that this configuration does not perform queries in a round-robin fashion, so cannot be considered a load-balancing solution.
					</p></li><li class="listitem"><p class="simpara">
						Set the network timeout in <span class="emphasis"><em>/etc/openldap/ldap.conf</em></span>:
					</p><pre class="screen">NETWORK_TIMEOUT 2</pre></li></ol></div><p>
				In addition, if you have firewalls configured between the controller and the IdM servers, then you should not configure the IdM servers to silently drop packets from the controller. This will allow <span class="emphasis"><em>python-keystoneclient</em></span> to properly detect outages and redirect the request to the next IdM server in the list.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					There might be connection delays while queries are being redirected to the second IdM server in the list. This is because the connection to the first server must first time out before the second is attempted.
				</p></div></div></section><section class="section" id="create_a_rc_file_for_a_non_admin_user_2"><div class="titlepage"><div><div><h2 class="title">2.8. Create a RC file for a non-admin user</h2></div></div></div><p>
				You might need to create a RC file for a non-admin user. For example:
			</p><pre class="screen">$ cat overcloudrc-v3-user1
# Clear any old environment that may conflict.
for key in $( set | awk '{FS="="}  /^OS_/ {print $1}' ); do unset $key ; done
export OS_USERNAME=user1
export NOVA_VERSION=1.1
export OS_PROJECT_NAME=demo
export OS_PASSWORD=RedactedComplexPassword
export OS_NO_CACHE=True
export COMPUTE_API_VERSION=1.1
export no_proxy=,10.0.0.5,192.168.2.11
export OS_CLOUDNAME=overcloud
export OS_AUTH_URL=https://10.0.0.5:5000/v3
export OS_AUTH_TYPE=password
export PYTHONWARNINGS="ignore:Certificate has no, ignore:A true
SSLContext object is not available"
export OS_IDENTITY_API_VERSION=3
export OS_PROJECT_DOMAIN_NAME=Default
export OS_USER_DOMAIN_NAME=LAB</pre></section><section class="section" id="Troubleshooting-IdM"><div class="titlepage"><div><div><h2 class="title">2.9. Troubleshooting</h2></div></div></div><section class="section" id="test_ldap_connections_2"><div class="titlepage"><div><div><h3 class="title">2.9.1. Test LDAP connections</h3></div></div></div><p>
					Use <span class="emphasis"><em>ldapsearch</em></span> to remotely perform test queries against the IdM server. A successful result here indicates that network connectivity is working, and the IdM services are up. In this example, a test query is performed against the server <span class="emphasis"><em>idm.lab.local</em></span> on port 636:
				</p><pre class="screen"># ldapsearch -D "cn=directory manager" -H ldaps://idm.lab.local:636 -b "dc=lab,dc=local" -s sub "(objectclass=*)" -w RedactedComplexPassword</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						<span class="emphasis"><em>ldapsearch</em></span> is a part of the <span class="emphasis"><em>openldap-clients</em></span> package. You can install this using <code class="literal"># dnf install openldap-clients</code>.
					</p></div></div></section><section class="section" id="test_port_access_2"><div class="titlepage"><div><div><h3 class="title">2.9.2. Test port access</h3></div></div></div><p>
					Use <span class="emphasis"><em>nc</em></span> to check that the LDAPS port (636) is remotely accessible. In this example, a probe is performed against the server <span class="emphasis"><em>idm.lab.local</em></span>. Press ctrl-c to exit the prompt.
				</p><pre class="screen"># nc -v idm.lab.local 636
Ncat: Version 6.40 ( http://nmap.org/ncat )
Ncat: Connected to 192.168.200.10:636.
^C</pre><p>
					Failure to establish a connection could indicate a firewall configuration issue.
				</p></section></section></section><section class="chapter" id="idm-novajoin"><div class="titlepage"><div><div><h1 class="title">Chapter 3. Integrate with IdM using novajoin</h1></div></div></div><p>
			Novajoin allows you to enroll your nodes with Red Hat Identity Manager (IdM) as part of the deployment process. As a result, you can integrate IdM features with your OpenStack deployment, including identities, kerberos credentials, and access controls.
		</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				IdM enrollment through novajoin is currently only available for the undercloud and overcloud nodes. Novajoin integration for overcloud instances is expected to be supported in a later release.
			</p></div></div><section class="section" id="install_and_configure_novajoin_in_the_undercloud"><div class="titlepage"><div><div><h2 class="title">3.1. Install and configure novajoin in the undercloud</h2></div></div></div><section class="section" id="add_the_undercloud_to_the_ca"><div class="titlepage"><div><div><h3 class="title">3.1.1. Add the undercloud to the CA</h3></div></div></div><p>
					Before deploying the overcloud, you must add the undercloud to the Certificate Authority (CA):
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							On the undercloud node, install the <code class="literal">python3-novajoin</code> package:
						</p><pre class="screen">$ sudo dnf install python3-novajoin</pre></li><li class="listitem"><p class="simpara">
							On the undercloud node, run the <code class="literal">novajoin-ipa-setup</code> script, adjusting the values to suit your deployment:
						</p><pre class="screen">$ sudo /usr/libexec/novajoin-ipa-setup \
    --principal admin \
    --password &lt;IdM admin password&gt; \
    --server &lt;IdM server hostname&gt; \
    --realm &lt;overcloud cloud domain (in upper case)&gt; \
    --domain &lt;overcloud cloud domain&gt; \
    --hostname &lt;undercloud hostname&gt; \
    --precreate</pre><p class="simpara">
							In the following section, you will use the resulting One-Time Password (OTP) to enroll the undercloud.
						</p></li></ol></div></section><section class="section" id="add_the_undercloud_to_idm"><div class="titlepage"><div><div><h3 class="title">3.1.2. Add the undercloud to IdM</h3></div></div></div><p>
					This procedure registers the undercloud with IdM and configures novajoin. Configure the following settings in <code class="literal">undercloud.conf</code> (within the <code class="literal">[DEFAULT]</code> section):
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							The novajoin service is disabled by default. To enable it:
						</p><pre class="screen">[DEFAULT]
enable_novajoin = true</pre></li><li class="listitem"><p class="simpara">
							You need set a One-Time Password (OTP) to register the undercloud node with IdM:
						</p><pre class="screen">ipa_otp = &lt;otp&gt;</pre></li><li class="listitem"><p class="simpara">
							Set the overcloud’s domain name to be served by neutron’s DHCP server:
						</p><pre class="screen">overcloud_domain_name = &lt;domain&gt;</pre></li><li class="listitem"><p class="simpara">
							Set the appropriate hostname for the undercloud:
						</p><pre class="screen">undercloud_hostname = &lt;undercloud FQDN&gt;</pre></li><li class="listitem"><p class="simpara">
							Set IdM as the nameserver for the undercloud:
						</p><pre class="screen">undercloud_nameservers = &lt;IdM IP&gt;</pre></li><li class="listitem"><p class="simpara">
							For larger environments, you will need to review the novajoin connection timeout values. In <code class="literal">undercloud.conf</code>, add a reference to a new file called <code class="literal">undercloud-timeout.yaml</code>:
						</p><pre class="screen">hieradata_override = /home/stack/undercloud-timeout.yaml</pre><p class="simpara">
							Add the following options to <code class="literal">undercloud-timeout.yaml</code>. You can specify the timeout value in seconds, for example, <code class="literal">5</code>:
						</p><pre class="screen">nova::api::vendordata_dynamic_connect_timeout: &lt;timeout value&gt;
nova::api::vendordata_dynamic_read_timeout: &lt;timeout value&gt;</pre></li><li class="listitem">
							Save the <code class="literal">undercloud.conf</code> file.
						</li><li class="listitem"><p class="simpara">
							Run the undercloud deployment command to apply the changes to your existing undercloud:
						</p><pre class="screen">$ openstack undercloud install</pre></li></ol></div></section></section><section class="section" id="install_and_configure_novajoin_in_the_overcloud"><div class="titlepage"><div><div><h2 class="title">3.2. Install and configure novajoin in the overcloud</h2></div></div></div><p>
				These sections describe how to register an overcloud node with IdM.
			</p><section class="section" id="configure_overcloud_dns"><div class="titlepage"><div><div><h3 class="title">3.2.1. Configure overcloud DNS</h3></div></div></div><p>
					For automatic detection of your IdM environment, and easier enrollment, consider using IdM as your DNS server:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Connect to your undercloud:
						</p><pre class="screen">$ source ~/stackrc</pre></li><li class="listitem"><p class="simpara">
							Configure the control plane subnet to use IdM as the DNS name server:
						</p><pre class="screen">$ openstack subnet set ctlplane-subnet --dns-nameserver  &lt;idm_server_address&gt;</pre></li><li class="listitem"><p class="simpara">
							Set the <code class="literal">DnsServers</code> parameter in an environment file to use your IdM server:
						</p><pre class="screen">parameter_defaults:
  DnsServers: ["&lt;idm_server_address&gt;"]</pre><p class="simpara">
							This parameter is usually defined in a custom <code class="literal">network-environment.yaml</code> file.
						</p></li></ol></div></section><section class="section" id="configure_overcloud_to_use_novajoin"><div class="titlepage"><div><div><h3 class="title">3.2.2. Configure overcloud to use novajoin</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							To enable IdM integration, create a copy of the <code class="literal">/usr/share/openstack-tripleo-heat-templates/environments/predictable-placement/custom-domain.yaml</code> environment file:
						</p><pre class="screen">$ cp /usr/share/openstack-tripleo-heat-templates/environments/predictable-placement/custom-domain.yaml \
  /home/stack/templates/custom-domain.yaml</pre></li><li class="listitem"><p class="simpara">
							Edit the <code class="literal">/home/stack/templates/custom-domain.yaml</code> environment file and set the <code class="literal">CloudDomain</code> and <code class="literal">CloudName*</code> values to suit your deployment. For example:
						</p><pre class="screen">parameter_defaults:
  CloudDomain: lab.local
  CloudName: overcloud.lab.local
  CloudNameInternal: overcloud.internalapi.lab.local
  CloudNameStorage: overcloud.storage.lab.local
  CloudNameStorageManagement: overcloud.storagemgmt.lab.local
  CloudNameCtlplane: overcloud.ctlplane.lab.local</pre></li><li class="listitem"><p class="simpara">
							Include the following environment files in the overcloud deployment process:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">/usr/share/openstack-tripleo-heat-templates/environments/ssl/enable-internal-tls.yaml</code>
								</li><li class="listitem">
									<code class="literal">/usr/share/openstack-tripleo-heat-templates/environments/ssl/tls-everywhere-endpoints-dns.yaml</code>
								</li><li class="listitem"><p class="simpara">
									<code class="literal">/home/stack/templates/custom-domain.yaml</code>
								</p><p class="simpara">
									For example:
								</p><pre class="screen">openstack overcloud deploy \
  --templates \
   -e /usr/share/openstack-tripleo-heat-templates/environments/ssl/enable-internal-tls.yaml \
   -e /usr/share/openstack-tripleo-heat-templates/environments/ssl/tls-everywhere-endpoints-dns.yaml \
   -e /home/stack/templates/custom-domain.yaml \</pre><p class="simpara">
									As a result, the deployed overcloud nodes will be automatically enrolled with IdM.
								</p></li></ul></div></li><li class="listitem"><p class="simpara">
							This only sets TLS for the internal endpoints. For the external endpoints you can use the normal means of adding TLS with the <code class="literal">/usr/share/openstack-tripleo-heat-templates/environments/ssl/enable-tls.yaml</code> environment file (which must be modified to add your custom certificate and key). Consequently, your <code class="literal">openstack deploy</code> command would be similar to this:
						</p><pre class="screen">openstack overcloud deploy \
  --templates \
  -e /usr/share/openstack-tripleo-heat-templates/environments/ssl/enable-internal-tls.yaml \
  -e /usr/share/openstack-tripleo-heat-templates/environments/ssl/tls-everywhere-endpoints-dns.yaml \
  -e /home/stack/templates/custom-domain.yaml \
  -e /home/stack/templates/enable-tls.yaml</pre></li><li class="listitem"><p class="simpara">
							Alternatively, you can also use IdM to issue your public certificates. In that case, you need to use the <code class="literal">/usr/share/openstack-tripleo-heat-templates/environments/services/haproxy-public-tls-certmonger.yaml</code> environment file. For example:
						</p><pre class="screen">openstack overcloud deploy \
  --templates \
   -e /usr/share/openstack-tripleo-heat-templates/environments/ssl/enable-internal-tls.yaml \
   -e /usr/share/openstack-tripleo-heat-templates/environments/ssl/tls-everywhere-endpoints-dns.yaml \
   -e /home/stack/templates/custom-domain.yaml \
   -e /usr/share/openstack-tripleo-heat-templates/environments/services/haproxy-public-tls-certmonger.yaml</pre></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						You can no longer use novajoin to implement TLS everywhere (TLS-e) on a pre-existing deployment. For information on hardening an existing deployment of Red Hat OpenStack Platform using TLS-e, see <a class="xref" href="index.html#sect-tripleo-ipa" title="Chapter 4. Implementing TLS-e with Ansible">Chapter 4, <em>Implementing TLS-e with Ansible</em></a>.
					</p></div></div></section></section><section class="section" id="validate_a_node_in_idm"><div class="titlepage"><div><div><h2 class="title">3.3. Validate a node in IdM</h2></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Locate an overcloud node in IdM and confirm that the host entry includes <code class="literal">Keytab:True</code>:
					</p><pre class="screen">$ ipa host-show overcloud-node-01
  Host name: overcloud-node-01.lab.local
  Principal name: host/overcloud-node-01.lab.local@LAB.LOCAL
  Principal alias: host/overcloud-node-01.lab.local@LAB.LOCAL
  SSH public key fingerprint: &lt;snip&gt;
  Password: False
  Keytab: True
  Managed by: overcloud-node-01.lab.local</pre></li><li class="listitem"><p class="simpara">
						SSH to the node and confirm that <span class="emphasis"><em>sssd</em></span> can query IdM users. For example, to query an IdM user named <code class="literal">susan</code>:
					</p><pre class="screen">$ getent passwd susan
uid=1108400007(susan) gid=1108400007(bob) groups=1108400007(susan)</pre></li></ol></div></section><section class="section" id="configure_dns_entries_for_novajoin"><div class="titlepage"><div><div><h2 class="title">3.4. Configure DNS entries for Novajoin</h2></div></div></div><p>
				If you use the <code class="literal">haproxy-public-tls-certmonger.yaml</code> template to issue public certificates for endpoints, then you will need to manually create DNS entries for the VIP endpoints used by Novajoin:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Identify the overcloud networks. You can expect to locate these in <code class="literal">/home/stack/virt/network/network-environment.yaml</code>:
					</p><pre class="screen">parameter_defaults:
    ControlPlaneDefaultRoute: 192.168.24.1
    ExternalAllocationPools:
    -   end: 10.0.0.149
        start: 10.0.0.101
    InternalApiAllocationPools:
    -   end: 172.17.1.149
        start: 172.17.1.10
    StorageAllocationPools:
    -   end: 172.17.3.149
        start: 172.17.3.10
    StorageMgmtAllocationPools:
    -   end: 172.17.4.149
        start: 172.17.4.10</pre></li><li class="listitem"><p class="simpara">
						Create a list of virtual IP addresses (VIP) for each overcloud network. For example: /home/stack/virt/public_vip.yaml
					</p><pre class="screen">parameter_defaults:
    ControlFixedIPs: [{'ip_address':'192.168.24.101'}]
    PublicVirtualFixedIPs: [{'ip_address':'10.0.0.101'}]
    InternalApiVirtualFixedIPs: [{'ip_address':'172.17.1.101'}]
    StorageVirtualFixedIPs: [{'ip_address':'172.17.3.101'}]
    StorageMgmtVirtualFixedIPs: [{'ip_address':'172.17.4.101'}]
    RedisVirtualFixedIPs: [{'ip_address':'172.17.1.102'}]</pre></li><li class="listitem"><p class="simpara">
						Add DNS entries to IdM for each of the VIPs. You may also need to create new zones. The following example demonstrates DNS record and zone creation for IdM:
					</p><pre class="screen">ipa dnsrecord-add lab.local overcloud --a-rec 10.0.0.101
ipa dnszone-add ctlplane.lab.local
ipa dnsrecord-add ctlplane.lab.local overcloud --a-rec 192.168.24.101
ipa dnszone-add internalapi.lab.local
ipa dnsrecord-add internalapi.lab.local overcloud --a-rec 172.17.1.101
ipa dnszone-add storage.lab.local
ipa dnsrecord-add storage.lab.local overcloud --a-rec 172.17.3.101
ipa dnszone-add storagemgmt.lab.local
ipa dnsrecord-add storagemgmt.lab.local overcloud --a-rec 172.17.4.101</pre></li></ol></div></section></section><section class="chapter" id="sect-tripleo-ipa"><div class="titlepage"><div><div><h1 class="title">Chapter 4. Implementing TLS-e with Ansible</h1></div></div></div><p>
			Red Hat recommends the new ansible-based <code class="literal">tripleo-ipa</code> method over the default <code class="literal">novajoin</code> method to configure your undercloud and overcloud with TLS-e. You can use the following procedure to implement TLSe on either a new installation of Red Hat OpenStack Platform, or an existing deployment you wish to configure with TLS-e. You must use this method if you deploy Red Hat OpenStack Platform with TLS-e on pre-provisioned nodes.
		</p><section class="section" id="configuring_tls_e_on_the_undercloud"><div class="titlepage"><div><div><h2 class="title">4.1. Configuring TLS-e on the undercloud</h2></div></div></div><div class="formalpara"><p class="title"><strong>Prerequisites</strong></p><p>
					Ensure that all configuration steps for the undercloud, such as the creation of the stack user, are complete. For more details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/director_installation_and_usage/index">Director Installation and Usage</a> for more details
				</p></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Configure the hosts file
					</p><p class="simpara">
						Set the appropriate search domains and the nameserver on the undercloud in <code class="literal">/etc/resolv.conf</code>. For example, if the deployment domain is <code class="literal">example.com</code>, and the domain of the FreeIPA server is <code class="literal">bigcorp.com</code>, then add the following lines to /etc/resolv.conf:
					</p><pre class="screen">search example.com bigcorp.com
nameserver $IDM_SERVER_IP_ADDR</pre></li><li class="listitem"><p class="simpara">
						Install required software:
					</p><pre class="screen">sudo yum install -y python3-ipalib python3-ipaclient krb5-devel</pre></li><li class="listitem"><p class="simpara">
						Export environmental variables with values specific to your environment.:
					</p><pre class="screen">export IPA_DOMAIN=bigcorp.com
export IPA_REALM=BIGCORP.COM
export IPA_ADMIN_USER=$IPA_USER
export IPA_ADMIN_PASSWORD=$IPA_PASSWORD
export IPA_SERVER_HOSTNAME=ipa.bigcorp.com
export UNDERCLOUD_FQDN=undercloud.example.com
export USER=stack
export CLOUD_DOMAIN=example.com</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							The IdM user credentials must be an administrative user that can add new hosts and services.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Run the <code class="literal">undercloud-ipa-install.yaml</code> ansible playbook on the undercloud:
					</p><pre class="screen">ansible-playbook \
--ssh-extra-args "-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null" \
/usr/share/ansible/tripleo-playbooks/undercloud-ipa-install.yaml</pre></li><li class="listitem"><p class="simpara">
						Add the following parameters to undercloud.conf
					</p><pre class="screen">undercloud_nameservers = $IDM_SERVER_IP_ADDR
overcloud_domain_name = example.com</pre></li><li class="listitem"><p class="simpara">
						Deploy the undercloud:
					</p><pre class="screen">openstack undercloud install</pre></li></ol></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					Verify that the undercloud was enrolled correctly by completing the following steps:
				</p></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						List the hosts in IdM:
					</p><pre class="screen">$ kinit
$ ipa host-find</pre></li><li class="listitem"><p class="simpara">
						Confirm that <code class="literal">/etc/novajoin/krb5.keytab</code> exists on the undercloud.
					</p><pre class="screen">ls /etc/novajoin/krb5.keytab</pre></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The <code class="literal">novajoin</code> directory name is for legacy naming purposes only.
				</p></div></div></section><section class="section" id="configuring_tls_e_on_the_overcloud"><div class="titlepage"><div><div><h2 class="title">4.2. Configuring TLS-e on the overcloud</h2></div></div></div><p>
				When you deploy the overcloud with TLS everywhere (TLS-e), IP addresses from the Undercloud and Overcloud will automatically be registered with IdM. This feature is provided as a technology preview. This feature is available in this release as a <span class="emphasis"><em>Technology Preview</em></span>, and therefore is not fully supported by Red Hat. It should only be used for testing, and should not be deployed in a production environment. For more information about Technology Preview features, see <a class="link" href="https://access.redhat.com/support/offerings/production/scope_moredetail">Scope of Coverage Details</a>.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					To disable automatic IP address registration, set the <code class="literal">IDMModifyDNS</code> heat parameter to false:
				</p><pre class="screen">parameter_defaults:
    ....
    IdMModifyDNS: false</pre></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Before deploying the overcloud, create a YAML file <code class="literal">tls-parameters.yaml</code> with contents similar to the following. The values you select will be specific for your environment:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								The <code class="literal">DnsServers</code> parameter should have a value that reflects the IP address of the IdM server.
							</li><li class="listitem">
								If the domain of the IdM server is different than the cloud domain, include it in the <code class="literal">DnsSearchDomains</code> parameter. For example: <code class="literal">DnsSearchDomains: ["example.com", "bigcorp.com"]</code>
							</li><li class="listitem">
								The shown value of the <code class="literal">OS::TripleO::Services::IpaClient</code> parameter overrides the default setting in the <code class="literal">enable-internal-tls.yaml</code> file. You must ensure the <code class="literal">tls-parameters.yaml</code> file follows <code class="literal">enable-internal-tls.yaml</code> in the <code class="literal">openstack overcloud deploy</code> command.
							</li><li class="listitem"><p class="simpara">
								If you are running a distributed compute node (DCN) architecture with cinder configured as active-active, you must set the <code class="literal">EnableEtcdInternalTLS</code> parameter to <code class="literal">true</code>.
							</p><pre class="screen">parameter_defaults:
    DnsSearchDomains: ["example.com"]
    DnsServers: ["192.168.1.13"]
    CloudDomain: example.com
    CloudName: overcloud.example.com
    CloudNameInternal: overcloud.internalapi.example.com
    CloudNameStorage: overcloud.storage.example.com
    CloudNameStorageManagement: overcloud.storagemgmt.example.com
    CloudNameCtlplane: overcloud.ctlplane.example.com
resource_registry:
      OS::TripleO::Services::IpaClient: /usr/share/openstack-tripleo-heat-templates/deployment/ipa/ipaservices-baremetal-ansible.yaml</pre></li></ul></div></li><li class="listitem"><p class="simpara">
						Deploy the overcloud. You will need to include the tls-parameters.yaml in the deployment command:
					</p><pre class="screen">DEFAULT_TEMPLATES=/usr/share/openstack-tripleo-heat-templates/
CUSTOM_TEMPLATES=/home/stack/templates

openstack overcloud deploy \
-e ${DEFAULT_TEMPLATES}/environments/ssl/tls-everywhere-endpoints-dns.yaml \
-e ${DEFAULT_TEMPLATES}/environments/services/haproxy-public-tls-certmonger.yaml \
-e ${DEFAULT_TEMPLATES}/environments/ssl/enable-internal-tls.yaml \
-e ${CUSTOM_TEMPLATES}/tls-parameters.yaml \
...</pre></li><li class="listitem"><p class="simpara">
						Confirm each endpoint is using HTTPS by querying keystone for a list of endpoints:
					</p><pre class="screen">openstack overcloud endpoint list</pre></li></ol></div></section></section><section class="chapter" id="ldap-director"><div class="titlepage"><div><div><h1 class="title">Chapter 5. Using domain-specific LDAP backends with director</h1></div></div></div><p>
			Red Hat OpenStack Platform director can configure keystone to use one or more LDAP backends. This approach results in the creation of a separate LDAP backend for each keystone domain.
		</p><section class="section" id="setting_the_configuration_options"><div class="titlepage"><div><div><h2 class="title">5.1. Setting the configuration options</h2></div></div></div><p>
				For deployments using Red Hat OpenStack Platform director, you need to set the <code class="literal">KeystoneLDAPDomainEnable</code> flag to <code class="literal">true</code> in your heat templates; as a result, this will configure the <code class="literal">domain_specific_drivers_enabled</code> option in keystone (within the <code class="literal">identity</code> configuration group).
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The default directory for domain configuration files is set to <code class="literal">/etc/keystone/domains/</code>. You can override this by setting the required path using the <code class="literal">keystone::domain_config_directory</code> hiera key and adding it as an <code class="literal">ExtraConfig</code> parameter within an environment file.
				</p></div></div><p>
				You must also add a specification of the LDAP backend configuration. This is done using the <code class="literal">KeystoneLDAPBackendConfigs</code> parameter in <code class="literal">tripleo-heat-templates</code>, where you can then specify your required LDAP options.
			</p></section><section class="section" id="configure_the_director_deployment"><div class="titlepage"><div><div><h2 class="title">5.2. Configure the director deployment</h2></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a copy of the <code class="literal">keystone_domain_specific_ldap_backend.yaml</code> environment file:
					</p><pre class="screen">$ cp /usr/share/openstack-tripleo-heat-templates/environments/services/keystone_domain_specific_ldap_backend.yaml /home/stack/templates/</pre></li><li class="listitem"><p class="simpara">
						Edit the <code class="literal">/home/stack/templates/keystone_domain_specific_ldap_backend.yaml</code> environment file and set the values to suit your deployment. For example, these entries create a LDAP configuration for a keystone domain named <code class="literal">testdomain</code>:
					</p><pre class="screen">    parameter_defaults:
      KeystoneLDAPDomainEnable: true
      KeystoneLDAPBackendConfigs:
        testdomain:
          url: ldaps://192.0.2.250
          user: cn=openstack,ou=Users,dc=director,dc=example,dc=com
          password: RedactedComplexPassword
          suffix: dc=director,dc=example,dc=com
          user_tree_dn: ou=Users,dc=director,dc=example,dc=com
          user_filter: "(memberOf=cn=OSuser,ou=Groups,dc=director,dc=example,dc=com)"
          user_objectclass: person
          user_id_attribute: cn</pre></li><li class="listitem"><p class="simpara">
						You can also configure the environment file to specify multiple domains. For example:
					</p><pre class="screen">    KeystoneLDAPBackendConfigs:
      domain1:
        url: ldaps://domain1.example.com
        user: cn=openstack,ou=Users,dc=director,dc=example,dc=com
        password: RedactedComplexPassword
        ...
      domain2:
        url: ldaps://domain2.example.com
        user: cn=openstack,ou=Users,dc=director,dc=example,dc=com
        password: RedactedComplexPassword
        ...</pre><p class="simpara">
						This will result in two domains named <code class="literal">domain1</code> and <code class="literal">domain2</code>; each will have a different LDAP domain with its own configuration.
					</p></li></ol></div></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm140175036783216"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"><!--Empty--></span>© 2020 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></div>
  
  </div>
  </div>
</div>
<div id="comments-footer" class="book-comments">
  </div>
<meta itemscope="" itemref="md1">

    <!-- Display: Next/Previous Nav -->
          
      </div>
</article>


  

            </div>
        </main>
    </div>
    <!--googleoff: all-->
    <div id="to-top"><a class="btn_slideto" href="index.html#masthead" aria-label="Back to Top"><span class="web-icon-upload"></span></a></div>
    <footer class="footer-main">
        <div class="footer-top">
            <div class="container">

              <div class="brand">
                <a href="https://redhat.com">
                  <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
                    <defs>
                      <style>
                        .rh-logo-hat {
                          fill: #e00;
                        }
                        .rh-logo-type {
                          fill: #fff;
                        }
                      </style>
                    </defs>
                    <title>Red Hat</title>
                    <path
                      class="rh-logo-hat"
                      d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"/>
                      <path class="rh-logo-band"
                      d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/>
                      <path
                      class="rh-logo-type"
                      d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"/>
                  </svg>
                </a>
              </div>

            <div role="navigation">
                <h3>Quick Links</h3>
                <ul>
                    <li><a class="download-software" href="https://access.redhat.com/downloads/">Downloads</a></li>
                    <li><a class="manage-subscriptions" href="https://access.redhat.com/management/subscriptions/#active">Subscriptions</a></li>
                    <li><a class="support-cases" href="https://access.redhat.com/support">Support Cases</a></li>
                    <li><a class="customer-service" href="https://access.redhat.com/support/customer-service">Customer Service</a></li>
                    <li><a class="quick-docs" href="https://access.redhat.com/documentation">Product Documentation</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>Help</h3>
                <ul>
                    <li><a class="contact-us" href="https://access.redhat.com/support/contact/">Contact Us</a></li>
                    <li><a class="cp-faqs" href="https://access.redhat.com/articles/33844">Customer Portal FAQ</a></li>
                    <li><a class="login-problems" href="https://access.redhat.com/help/login_assistance">Log-in Assistance</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>Site Info</h3>
                <ul>
                  <li><a class="trust-red-hat" href="https://www.redhat.com/en/trust">Trust Red Hat</a></li>
                  <li><a class="browser-support-policy" href="https://access.redhat.com/help/browsers/">Browser Support Policy</a></li>
                  <li><a class="accessibility" href="https://access.redhat.com/help/accessibility/">Accessibility</a></li>
                  <li><a class="recognition" href="https://access.redhat.com/recognition/">Awards and Recognition</a></li>
                  <li><a class="colophon" href="https://access.redhat.com/help/colophon/">Colophon</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>Related Sites</h3>
                <ul>
                    <li><a href="https://www.redhat.com/" class="red-hat-com">redhat.com</a></li>
                    <li><a href="https://www.openshift.com" class="openshift-com">openshift.com</a></li>
                    <li><a href="http://developers.redhat.com/" class="red-hat-developers">developers.redhat.com</a></li>
                    <li><a href="https://connect.redhat.com/" class="partner-connect">connect.redhat.com</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>About</h3>
                <ul>
                    <li><a href="https://access.redhat.com/subscription-value" class="subscription-value">Red Hat Subscription Value</a></li>
                    <li><a href="https://www.redhat.com/about/" class="about-red-hat">About Red Hat</a></li>
                    <li><a href="http://jobs.redhat.com" class="about-jobs">Red Hat Jobs</a></li>
                </ul>
            </div>

            </div>
        </div>

        <div class="anchor">
            <div class="container">
                <div class="status-legal">
                    <a hidden href="https://status.redhat.com" class="status-page-widget">
                          <span class="status-description"></span>
                          <span class="status-dot shape-circle"></span>
                    </a>
                    <div class="legal-copyright">
                        <div class="copyright">Copyright © 2020 Red Hat, Inc.</div>

                        <div role="navigation" class="legal">
                            <ul>
                                <li><a href="http://www.redhat.com/en/about/privacy-policy" class="privacy-policy">Privacy Statement</a></li>
                                <li><a href="https://access.redhat.com/help/terms/" class="terms-of-use">Customer Portal Terms of Use</a></li>
                                <li><a href="http://www.redhat.com/en/about/all-policies-guidelines" class="all-policies">All Policies and Guidelines</a></li>
                                <li><a id="teconsent"></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="social">
                    <a href="http://www.redhat.com/summit/" class="summit">
                      <img src="rh-summit-red-a.svg" alt="Red Hat Summit" />
                    </a>

                    <div class="social-media">
                        <a href="https://twitter.com/RedHatSupport" class="sm-icon twitter"><span class="nicon-twitter"></span><span class="offscreen">Twitter</span></a>
                        <a href="https://www.facebook.com/RedHatSupport" class="sm-icon facebook"><span class="nicon-facebook"></span><span class="offscreen">Facebook</span></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- TrustArc -->
    <div id="consent_blackbar"></div> 
    <!--googleon: all-->
</div>
  
  <div id="formatHelp" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="formatTitle" aria-hidden="true"><div class="modal-dialog"><div class="modal-content">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
      <h3 id="formatTitle">Formatting Tips</h3>
    </div>
    <div class="modal-body">
      <p>Here are the common uses of Markdown.</p><dl class="formatting-help">
        <dt class="codeblock">Code blocks</dt><dd class="codeblock"><pre><code>~~~
Code surrounded in tildes is easier to read
~~~</code></pre></dd>
        <dt class="urls">Links/URLs</dt><dd class="urls"><code>[Red Hat Customer Portal](https://access.redhat.com)</code></dd>
       </dl>
    </div>
    <div class="modal-footer">
      <a target="_blank" href="https://access.redhat.com/help/markdown" class="btn btn-primary">Learn more</a>
      <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
    </div>
  </div></div></div></body>
</html>
