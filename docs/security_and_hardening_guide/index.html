<!DOCTYPE html>
<html lang="en" dir="ltr" prefix="content: http://purl.org/rss/1.0/modules/content/ dc: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/ og: http://ogp.me/ns# rdfs: http://www.w3.org/2000/01/rdf-schema# sioc: http://rdfs.org/sioc/ns# sioct: http://rdfs.org/sioc/types# skos: http://www.w3.org/2004/02/skos/core# xsd: http://www.w3.org/2001/XMLSchema# article: http://ogp.me/ns/article# book: http://ogp.me/ns/book# profile: http://ogp.me/ns/profile# video: http://ogp.me/ns/video#" >

<head profile="http://www.w3.org/1999/xhtml/vocab">
	  <!--[if IE]><![endif]-->
<meta charset="utf-8" />
<meta name="revision" title="636cf87f-2ad5-4004-b175-642006e8707f" product="7eff92b4-effc-4326-8604-6f852e3e9747" revision="c2973328ba7082bc1ee91cdd08745139619ae7de:en-us" page="bd98974d-4882-4be0-91b8-68978fa75686" />
<meta name="generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/security_and_hardening_guide/index" />
<link rel="shortlink" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/security_and_hardening_guide/index" />
<meta property="og:site_name" content="Red Hat Customer Portal" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/security_and_hardening_guide/index" />
<meta property="og:title" content="Security and Hardening Guide Red Hat OpenStack Platform 16.1 | Red Hat Customer Portal" />
<meta property="og:description" content="This guide provides good practice advice and conceptual information about hardening the security of a Red Hat OpenStack Platform environment." />
<meta property="og:image" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:url" content="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/security_and_hardening_guide/index" />
<meta name="twitter:title" content="Security and Hardening Guide Red Hat OpenStack Platform 16.1 | Red Hat Customer Portal" />
<meta name="twitter:description" content="This guide provides good practice advice and conceptual information about hardening the security of a Red Hat OpenStack Platform environment." />
<meta name="twitter:image:src" content="https://access.redhat.com/webassets/avalon/g/shadowman-200.png" />
  <title>Security and Hardening Guide Red Hat OpenStack Platform 16.1 | Red Hat Customer Portal</title>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<!--[if IEMobile]><meta http-equiv="cleartype" content="on"><![endif]-->

<!-- metaInclude -->
<meta name="avalon-host-info" content="kcs06.web.prod.ext.phx2.redhat.com" />
<meta name="avalon-version" content="fc526cb5" />
<meta name="cp-chrome-build-date" content="2020-10-15T21:45:53.836Z" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<!-- Chrome, Firefox OS and Opera -->
<meta name="theme-color" content="#000000">
<!-- Windows Phone -->
<meta name="msapplication-navbutton-color" content="#000000">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-status-bar-style" content="#000000">
<link rel="manifest" href="https://access.redhat.com/webassets/avalon/j/manifest.json">
<!-- Open Search - Tap to search -->
<link rel="search" type="application/opensearchdescription+xml" title="Red Hat Customer Portal" href="https://access.redhat.com/webassets/avalon/j/opensearch.xml" />

 

<script type="text/javascript">
    window.portal = {
        analytics : {},
        host      : "https://access.redhat.com",
        idp_url   : "https://sso.redhat.com",
        lang      : "en",  
        version   : "fc526cb5",
        builddate : "2020-10-15T21:45:53.836Z",
        fetchdate : "2020-10-19T10:37:35-0400",
        nrid      : "14615289",
        nrlk      : "2a497fa56f"
    };
</script>
<script type="text/javascript">
    if (!/\/logout.*/.test(location.pathname) && portal.host === location.origin && document.cookie.indexOf('rh_sso_session') >= 0 && !(document.cookie.indexOf('rh_jwt') >= 0)) window.location = '/login?redirectTo=' + encodeURIComponent(window.location.href);
</script>
<!-- cssInclude -->

<link rel="shortcut icon" href="favicon.ico" />

<link media="all" rel="stylesheet" type="text/css" href="bootstrap.css%3Fv=fc526cb5.css" />
<link media="all" rel="stylesheet" type="text/css" href="bootstrap-grid.css%3Fv=fc526cb5.css" />
<link media="all" rel="stylesheet" type="text/css" href="main.css%3Fv=fc526cb5.css" />
<link media="all" rel="stylesheet" type="text/css" href="components.css%3Fv=fc526cb5.css" />
<link media="all" rel="stylesheet" type="text/css" href="pages.css%3Fv=fc526cb5.css" />

<link href="chosen.css%3Fv=fc526cb5.css" rel="stylesheet" type="text/css" />

<!--[if lte IE 9]>
<link media="all" rel="stylesheet" type="text/css" href="https://access.redhat.com/chrome_themes/nimbus/css/ie.css" />
<![endif]-->

<noscript>
    <style type="text/css" media="screen"> .primary-nav { display: block; } </style>
</noscript>

<!-- /cssInclude -->
<script type="text/javascript" src="require.js%3Fv=fc526cb5" data-main="/webassets/avalon/j/"></script>

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<script src="https://access.redhat.com/chrome_themes/nimbus/js/ie8.js"></script>
<![endif]-->

  <!-- TrustArc -->
  <script src="https://static.redhat.com/libs/redhat/marketing/latest/trustarc/trustarc.js"></script>

  <link type="text/css" rel="stylesheet" href="css__c2Nkkx_5vYh8rvZbfBAGB4EMzMtH5ouFJDBlDsnhSR8__-ax0_8bam15ZDJT9j7LilCfJrDyEhGGAgc0KC8HYvJg__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="all" />
<link type="text/css" rel="stylesheet" href="css__Jy3BSr8TrxptaufAzQDT1skBUlX2CnL_wm6BizzYuGw__-YZvqB8yuA4kK_iKklbk5HdZCoG2qAgz1l-8Qi2NFH4__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="all" />
<link type="text/css" rel="stylesheet" href="messages.css" media="all" />
<link type="text/css" rel="stylesheet" href="css__m76iIFREtc70Nmw5xe1ZwHbNBlwOP2Zjc3DcacNWnFQ__STEh8aY3w8E_bKzhB4Xke2WOQ9XMDQquHIP5B8SeDIY__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="all" />
<link type="text/css" rel="stylesheet" href="css__4sM4s6XOQ2Nm0pdkrWRLvrgtwpTmHAFzR_LcdesKYj8__vJ0jjVEhoPh3KBeLZfkqg51T3AFxhQCuXg1reipa__k__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.css" media="print" />
  <link rel="stylesheet" type="text/css" media="all" href="list.css" />
  <script src="js__ZyeOaiFuDejQQbhUV7yg7atYZnj4WLfH77o0scv4068__MZdWWgUEYpsEWLcU0RqkaXMsEyksbpCgnf4XwXRkqz0__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script src="js__5ysXPc5KIyMmizxqRY68ILfrEGrj0P29WBIifnPTJvQ__Cap0DACEVMsefumg1gS1APLLd8stDkdGfp6c1uswMo4__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script>chrometwo_require(["analytics/attributes"], function(attributes) {
attributes.set('ResourceID',       '636cf87f-2ad5-4004-b175-642006e8707f');
attributes.set('ResourceTitle',    'Security and Hardening Guide');
attributes.set('Language',         'en-us');
attributes.set('RevisionId',       'c2973328ba7082bc1ee91cdd08745139619ae7de:en-us');
attributes.set('PublicationState', ['active','published']);
attributes.set('Product',          'Red Hat OpenStack Platform');
attributes.set('ProductVersion',   '16.1');
attributes.set('ProductId',        'Red Hat OpenStack Platform 16.1');
});</script>
<script>breadcrumbs = [ ["Products &amp; Services", "/products/"], ["Product Documentation", "/documentation/"], ["Red Hat OpenStack Platform", "/documentation/en-us/red_hat_openstack_platform/"], ["16.1", "/documentation/en-us/red_hat_openstack_platform/16.1/"], ["Security and Hardening Guide", "/documentation/en-us/red_hat_openstack_platform/16.1/html/security_and_hardening_guide/"] ];</script>
<script>window.siteMapState = "products";</script>
<script src="js__i6ieGBO-OPmIKm_f0srsb6gM7QELIWrBpKh6ub_yj8A__wjRg_duSK4rEZCRV2uwrCIPMl80Z_LJ9ew61H5hE-ZI__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script src="js__vGeEtorfXGI3aPAp71YA74N5p8wfpYVhnoIqwaJrOiQ__8abcou7ybLtGOLy-V9E-NQlDejOMZmdStjlYfyX9W-k__7oVp6UW_380R7g-dHXPK35SfMqy4yUfhIx8G4wh5Zdk.js"></script>
<script>jQuery.extend(Drupal.settings, {"basePath":"\/","pathPrefix":"","ajaxPageState":{"theme":"kcs","theme_token":"8WvK8GgpnNvMkifvNKgTjr6zwFsMTCXXOzyRHT8Y2GA","js":{"misc\/jquery-extend-3.4.0.js":1,"misc\/jquery-html-prefilter-3.5.0-backport.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/all\/libraries\/chosen\/chosen\/chosen.jquery.min.js":1,"modules\/chosen\/chosen.js":1,"sites\/all\/modules\/custom\/rh_doc_fetcher\/js\/prism.js":1,"sites\/all\/modules\/custom\/rh_doc_fetcher\/js\/underscore.js":1,"sites\/all\/themes\/kcs\/js\/kcs_base.js":1,"sites\/all\/themes\/kcs\/js\/showdown.js":1,"sites\/all\/themes\/kcs\/js\/case_links.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/book\/book.css":1,"modules\/comment\/comment.css":1,"modules\/date\/date_api\/date.css":1,"modules\/date\/date_popup\/themes\/datepicker.1.7.css":1,"modules\/field\/theme\/field.css":1,"modules\/node\/node.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/modules\/contrib\/user_prune\/css\/user_prune.css":1,"modules\/views\/css\/views.css":1,"sites\/all\/libraries\/chosen\/chosen\/chosen.css":1,"modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/contrib\/panels\/css\/panels.css":1,"sites\/all\/modules\/custom\/rate\/rate.css":1,"sites\/all\/modules\/custom\/rh_doc_fetcher\/plugins\/layouts\/docs_page\/docs_page.css":1,"https:\/\/access.redhat.com\/webassets\/avalon\/s\/messages.css":1,"sites\/all\/themes\/zen\/system.base.css":1,"sites\/all\/themes\/zen\/system.menus.css":1,"sites\/all\/themes\/zen\/system.messages.css":1,"sites\/all\/themes\/zen\/system.theme.css":1,"sites\/all\/themes\/zen\/comment.css":1,"sites\/all\/themes\/zen\/node.css":1,"sites\/all\/themes\/kcs\/css\/html-reset.css":1,"sites\/all\/themes\/kcs\/css\/wireframes.css":1,"sites\/all\/themes\/kcs\/css\/layout-fixed.css":1,"sites\/all\/themes\/kcs\/css\/page-backgrounds.css":1,"sites\/all\/themes\/kcs\/css\/tabs.css":1,"sites\/all\/themes\/kcs\/css\/pages.css":1,"sites\/all\/themes\/kcs\/css\/blocks.css":1,"sites\/all\/themes\/kcs\/css\/navigation.css":1,"sites\/all\/themes\/kcs\/css\/views-styles.css":1,"sites\/all\/themes\/kcs\/css\/nodes.css":1,"sites\/all\/themes\/kcs\/css\/comments.css":1,"sites\/all\/themes\/kcs\/css\/forms.css":1,"sites\/all\/themes\/kcs\/css\/fields.css":1,"sites\/all\/themes\/kcs\/css\/kcs.css":1,"sites\/all\/themes\/kcs\/css\/print.css":1}},"chosen":{"selector":"#edit-field-kcs-component-select-und, #edit-field-kcs-sbr-select-und, #edit-field-kcs-product-select-und, #edit-field-kcs-type-select-und, #edit-language, #edit-field-kcs-a-category-select-und, #edit-field-kcs-state-select-und, #edit-field-kcs-tags-select-und, #edit-field-kcs-state-select-value, #edit-field-vid-reference-product-und, #edit-state, #edit-product, #edit-category, #edit-field-kcs-product-select-tid, #edit-field-kcs-type-select-tid, #edit-field-kcs-a-category-select-tid, #edit-sort-bef-combine, #edit-kcs-state, #edit-field-category-tid, #edit-field-product-tid, #edit-field-tags-tid, #edit-field-category-und, #edit-field-product-und, #edit-field-tags-und, #views-exposed-form-questions-list-questions-filter-block #edit-field-category, #edit-field-tags-und, #views-exposed-form-questions-list-questions-filter-block #edit-field-product, #views-exposed-form-questions-list-questions-filter-block #edit-field-tags, #edit-field-mega-menu-tab-und, #edit-field-internal-tags-tid, #edit-tags, #edit-field-kcs-tags-select-tid, #edit-subscriptions-and-choose-field-select, #edit-subscriptions-and-type, #edit-vid-13, #edit-vid-4, #edit-vid-5, #edit-vid-53, #edit-vid-1, #edit-vid-3, #edit-group-blog, #edit-subscriptions-and-choose-field-select-two, #edit-subscriptions-and-type-two, #edit-vid-13-two, #edit-vid-4-two, #edit-vid-5-two, #edit-vid-53-two, #edit-vid-1-two, #edit-vid-3-two, #edit-group-blog-two, #edit-subscriptions-and-edit-choose-field-select, #edit-subscriptions-and-type-edit, #edit-subscriptions-and-edit-type-two, #edit-vid-13-edit-two, #edit-vid-4-edit-two, #edit-vid-5-edit-two, #edit-vid-53-edit-two, #edit-vid-1-edit-two, #edit-vid-3-edit-two, #edit-subscriptions-and-edit-choose-field-select-two, #edit-vid-13-edit, #edit-vid-4-edit, #edit-vid-5-edit, #edit-vid-53-edit, #edit-vid-1-edit, #edit-vid-3-edit, #edit-group-blog-edit, #edit-field-supported-languages-tid, #edit-field-geography-und, #edit-field-supported-products-und, #edit-field-supported-languages-und, #edit-field-vendor-und, #edit-field-errata-type-text-und, #edit-field-errata-severity-text-und, #edit-field-software-partner-level-und, #edit-field-scert-product-category-und, #edit-field-certifications-und-0-field-product-und, #edit-kcs-article-type, #edit-field-eco-industry-tag-select-tid, #edit-field-eco-software-catego-select-tid, #edit-field-ecosystem-tag-select-und, #edit-field-eco-industry-tag-select-und, #edit-field-eco-software-catego-select-und, #edit-field-vendor-tsanet-member-ref-und, #edit-field-og-vendor-ref-und-0-default, #edit-field-eco-products-enabled-col-und-0-field-eco-subscription-model-ref-und, #edit-field-eco-products-enabled-col-und-0-field-eco-support-level-ref-und, #edit-field-eco-products-enabled-col-und-0-field-eco-product-select-und, #edit-field-eco-certifications-select-und-0-field-eco-product-select-und, #edit-field-eco-certifications-select-und-0-field-eco-product-archite-select-und, #edit-field-eco-certifications-select-und-0-field-eco-certificati-lvl-select-und, #edit-field-eco-certifications-select-und-0-field-eco-hypervisor-str-und, #edit-field-eco-supported-language-ref-und, #edit-field-eco-region-ref-und, #edit-field-cs-product-category-str-und, #edit-field-eco-certifications-select-und-0-field-eco-format-ref-und, #edit-field-eco-group-access-ref-und, #edit-field-hw-category-tag-ref-und, #edit-field-profile-industry-und, #edit-field-profile-tech-interests-und, #edit-field-product-page-features-ref-und, #edit-field-eco-product-select-und, #edit-field-base-product-ref-und, #edit-field-eco-product-archite-select-und, #edit-field-eco-format-ref-und, #edit-field-certification-status-ref-und, #edit-field-certification-result-ref-und, #edit-field-og-certified-product-ref-und-0-default, #edit-field-eco-subscription-model-ref-und, #edit-field-eco-support-level-ref-und, #edit-field-eco-certificati-lvl-select-und, #edit-field-eco-hypervisor-str-und, #edit-field-ccp-thirdparty-cert-select-und, .use_, #edit-field-eco-cert-product-tag-und, #edit-field-documentation-location-ref-und, #edit-field-documentation-title-und, #edit-field-accelerator-products-und","minimum":"0"},"rh_doc_fetcher":{"page_type":"single"},"section":"","kcs":{"nodeType":null,"nodeId":null}});</script>
    <!--[if lt IE 9]>
  <script src="https://access.redhat.com/sites/all/themes/kcs/js/html5shiv.js"></script>
  <![endif]-->
  
      


    <!--kcs05-->
<script type="text/javascript">
  Drupal.portal = {"version":{"redhat_portal":"package drupal7-redhat_portal is not installed"}};
  Drupal.portal.currentUser = {};
  </script>

</head>

<body class="portal-page  kcs_external" >
  
  <div id="page-wrap" class="page-wrap">
    <div class="top-page-wrap">

        <!--googleoff: all-->
        <header class="masthead" id="masthead">

            <script>
    chrometwo_require(["wc"], function(wc){    
        wc.include("@cpelements/cp-search-autocomplete/dist/cp-search-autocomplete.umd");
    }); 
</script>

<!-- Accessibility Nav & Header -->
<div class="accessibility-nav sr-only">
    <a href="https://access.redhat.com/">
        <h1>Red Hat <span>Customer </span><span>Portal</span></h1>
    </a>
    <p><a href="index.html#cp-main">Skip to main content</a></p>
    <nav aria-labelledby="accessibility-nav-heading">
        <h2 id="accessibility-nav-heading">Main Navigation</h2>
        <ul>
    <li>
        <a href="index.html#" class="has-subnav"><span>Products &amp; Services</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/products">View All Products</a></li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Infrastructure and Management</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-virtualization/">Red Hat Virtualization</a></li>
                    <li><a href="https://access.redhat.com/products/identity-management/">Red Hat Identity Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|p|im|rhaijan2016&">Red Hat Insights</a></li>
                    <li><a href="https://access.redhat.com/products/ansible-tower-red-hat/">Red Hat Ansible Tower</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ansible-engine/">Red Hat Ansible Engine</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Cloud Computing</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloud-suite/">Red Hat Cloud Suite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-online-red-hat/">Red Hat OpenShift Online</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/">Red Hat Advanced Cluster Management for Kubernetes</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-codeready-workspaces/">Red Hat CodeReady Workspaces</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Storage</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-storage">Red Hat Openshift Container Storage</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Runtimes</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true">
                      <a href="index.html#" class="back">Back</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/thorntail/">Red Hat build of Thorntail</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/eclipse-vertx/">Red Hat build of Eclipse Vert.x</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/openjdk/">Red Hat build of OpenJDK</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/open-liberty/">Open Liberty</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/quarkus/">Red Hat build of Quarkus</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-codeready-studio/">Red Hat CodeReady Studio</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Integration and Automation</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-integration/">Red Hat Integration</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                    </li>
                    <li>
                      <a href="https://access.redhat.com/products/red-hat-process-automation/">Red Hat Process Automation</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                    </li>
                </ul>
            </li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/support/">Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
            <li><a href="https://access.redhat.com/product-life-cycles/">Product Life Cycles</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/documentation/">Documentation</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux">Red Hat Enterprise Linux</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform">Red Hat OpenStack Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/openshift_container_platform">Red Hat OpenShift Container Platform</a></li>

            <li class="heading">Services</li>
            <li><a href="https://www.redhat.com/en/services/consulting">Consulting</a></li>
            <li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
            <li><a href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications</a></li>

            
            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://catalog.redhat.com/">Ecosystem Catalog</a></li>
            <li><a href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources</a></li>
            <li><a href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a></li>
          </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Tools</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|t|c1|rhaidec2015&">Red Hat Insights</a></li>
            <li class="heading">Tools</li>
            <li><a href="https://access.redhat.com/solution-engine">Solution Engine</a></li>
            <li><a href="https://access.redhat.com/downloads/content/package-browser">Packages</a></li>
            <li><a href="https://access.redhat.com/errata/">Errata</a></li>
            <li class="heading">Customer Portal Labs</li>
            <li><a href="https://access.redhat.com/labs/">Explore Labs</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=config">Configuration</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=deploy">Deployment</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=security">Security</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=troubleshoot">Troubleshooting</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Security</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/security/">Product Security Center</a></li>
            <li class="heading">Security Updates</li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs</a></li>
            <li class="heading">Resources</li>
            <li><a href="https://access.redhat.com/security/overview/">Overview</a></li>
            <li><a href="https://access.redhat.com/blogs/product-security">Security Blog</a></li>
            <li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
            <li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
            <li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
            <li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Community</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="heading">Customer Portal Community</li>
            <li><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">Discussions</a></li>
            <li><a href="https://access.redhat.com/blogs/">Blogs</a></li>
            <li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
            <li><a href="https://access.redhat.com/community/">Community Activity</a></li>
            <li class="heading">Customer Events</li>
            <li><a href="https://access.redhat.com/convergence/">Red Hat Convergence</a></li>
            <li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
            <li class="heading">Stories</li>
            <li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value</a></li>
            <li><a href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.</a></li>
            <li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
        </ul>
    </li>
    <li><a href="https://access.redhat.com/management/">Subscriptions</a></li>
    <li><a href="https://access.redhat.com/downloads/">Downloads</a></li>
    <li><a href="https://catalog.redhat.com/software/containers/explore/">Containers</a></li>
    <li><a href="https://access.redhat.com/support/cases/">Support Cases</a></li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Account</span></a>
        <ul class="utility mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://access.redhat.com/login" id="accessibility-accountLogin">Log In</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://www.redhat.com/wapps/ugc/register.html">Register</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated">
                <div class="account-info" id="accessibility-accountUser">
                    <div class="account-name"><strong id="accessibility-userFullName"></strong></div>
                    <div class="account-org"><span id="accessibility-userOrg"></span></div>
                    <div class="account-number mobile-accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
                </div>
            </li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
            <!-- <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li> -->
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html" class="user-management-link">User Management</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user">My Profile</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user" id="accessibility-userNotificationsLink">Notifications</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/help/">Help</a></li>
            <li class="logout mobile-accountLinksLoggedIn authenticated"><a href="https://sso.redhat.com/auth/realms/redhat-external/logout?redirectUrl=https%3A%2F%2Faccess.redhat.com%2Flogout">Log Out</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Language</span></a>
        <ul class="utility mm-hide" id="accessibility-localesMenu">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=en" id="accessibility-en">English</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ko" id="accessibility-ko">한국어</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ja" id="accessibility-ja">日本語</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" id="accessibility-zh_CN">中文 (中国)</a></li>
		</ul>
    </li>
</ul>
    </nav>
</div>

<!-- Mobile Header -->
<nav class="mobile-nav-bar hidden-sm hidden-md hidden-lg" aria-hidden="true">
    <button id="menu-btn" class="menu menu-white" type="button" aria-label="Toggle Navigation">
        <span class="lines"></span>
    </button>
    <a class="logo" href="https://access.redhat.com/">
        <span class="logo-crop">
          <!-- logo -->
          <span class="sr-only">Red Hat Customer Portal</span>
          <svg aria-hidden="true" class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 950 200">
            <defs>
            <style>
              .rh-logo-type {
                fill:#fff;
              }
              .rh-logo-hat {
                fill:#e00;
              }
            </style>
            </defs>
            <g id="Two_lines" data-name="Two lines"><g id="Two_line_logo" data-name="Two line logo"><path class="rh-logo-type" d="M318.62,9.25h25.44c11.13,0,18.64,6.72,18.64,16.56,0,7.36-4.47,13-11.51,15.36l12.48,24.08h-9.29l-11.6-23H327v23h-8.4Zm8.4,7.36V35.33h16.33c6.55,0,10.87-3.76,10.87-9.36s-4.32-9.36-10.87-9.36Z"/><path class="rh-logo-type" d="M387.5,66a21,21,0,0,1-21.36-21.12c0-11.76,9-21,20.4-21,11.2,0,19.68,9.28,19.68,21.28v2.32H374.06a13.74,13.74,0,0,0,13.76,11.68,15.84,15.84,0,0,0,10.32-3.6l5.13,5A24.33,24.33,0,0,1,387.5,66ZM374.14,41.49H398.3c-1.19-6.24-6-10.88-11.92-10.88C380.22,30.61,375.34,35,374.14,41.49Z"/><path class="rh-logo-type" d="M445.18,61.41a19.23,19.23,0,0,1-12.48,4.48c-11.52,0-20.56-9.2-20.56-21a20.72,20.72,0,0,1,33-17V9.25l8-1.76V65.25h-7.92Zm-11.36-2.48a14.67,14.67,0,0,0,11.28-4.88V35.57a14.89,14.89,0,0,0-11.28-4.8,13.63,13.63,0,0,0-13.84,14A13.77,13.77,0,0,0,433.82,58.93Z"/><path class="rh-logo-type" d="M480.22,9.25h8.4v24h29.76v-24h8.4v56h-8.4V40.85H488.62v24.4h-8.4Z"/><path class="rh-logo-type" d="M534.38,53.57c0-7.68,6.24-12.4,16.48-12.4A28.75,28.75,0,0,1,562,43.41V39.09c0-5.76-3.44-8.64-9.92-8.64-3.76,0-7.6,1-12.64,3.44l-3-6c6.08-2.88,11.36-4.16,16.72-4.16,10.56,0,16.64,5.2,16.64,14.56v27H562V61.73A19.32,19.32,0,0,1,549.34,66C540.46,66,534.38,60.93,534.38,53.57Zm16.8,6.48A15.66,15.66,0,0,0,562,56.21v-7a21.15,21.15,0,0,0-10.48-2.48c-5.84,0-9.44,2.64-9.44,6.72C542.06,57.33,545.74,60.05,551.18,60.05Z"/><path class="rh-logo-type" d="M582.7,31.25h-8.64V24.53h8.64V14.13l7.92-1.92V24.53h12v6.72h-12V53.33c0,4.16,1.68,5.68,6,5.68a15.72,15.72,0,0,0,5.84-1v6.72a26.5,26.5,0,0,1-7.6,1.2c-7.92,0-12.16-3.76-12.16-10.8Z"/><path class="rh-logo-type" d="M361,132.21l7.59,7.52a30.76,30.76,0,0,1-23,10.32c-16.88,0-29.84-12.56-29.84-28.8s13-28.88,29.84-28.88c9,0,18.09,4.08,23.28,10.48l-7.83,7.76a19.52,19.52,0,0,0-15.45-7.6c-10.16,0-17.92,7.84-17.92,18.24A17.8,17.8,0,0,0,346,139.33,19.24,19.24,0,0,0,361,132.21Z"/><path class="rh-logo-type" d="M383.74,131.81c0,5.36,3.44,8.8,8.64,8.8a10.05,10.05,0,0,0,8.65-4.16V107.57h11v41.68H401v-3.36a17.79,17.79,0,0,1-11.77,4.16c-9.68,0-16.48-6.88-16.48-16.64V107.57h11Z"/><path class="rh-logo-type" d="M422.46,137c4.88,3.2,9.12,4.72,13.52,4.72,4.88,0,8.08-1.76,8.08-4.4,0-2.16-1.6-3.36-5.2-3.92l-8-1.2c-8.24-1.28-12.64-5.36-12.64-12.08,0-8.08,6.72-13.2,17.36-13.2a30.75,30.75,0,0,1,17.12,5.2l-5.28,7c-4.56-2.72-8.64-4-12.88-4-4,0-6.56,1.6-6.56,4.08,0,2.24,1.6,3.36,5.68,3.92l8,1.2c8.16,1.2,12.72,5.44,12.72,11.92,0,7.84-7.76,13.76-18.24,13.76-7.6,0-14.4-2-19.12-5.76Z"/><path class="rh-logo-type" d="M464.7,116.77h-8.56v-9.2h8.56V96.93l11-2.48v13.12H487.5v9.2H475.66v18.48c0,3.92,1.52,5.36,5.76,5.36a16.86,16.86,0,0,0,5.84-1v9a34,34,0,0,1-8.48,1.28c-9.28,0-14.08-4.24-14.08-12.4Z"/><path class="rh-logo-type" d="M512.86,106.77c12.48,0,22.24,9.52,22.24,21.68s-9.76,21.6-22.24,21.6-22.24-9.44-22.24-21.6S500.38,106.77,512.86,106.77Zm11.52,21.68c0-6.88-5-12.16-11.52-12.16s-11.52,5.28-11.52,12.16c0,6.72,5,12.08,11.52,12.08S524.38,135.17,524.38,128.45Z"/><path class="rh-logo-type" d="M541.82,107.57h11v3.12a16.21,16.21,0,0,1,10.88-3.92A15,15,0,0,1,576.22,113,17.16,17.16,0,0,1,590,106.77c9.36,0,15.91,6.8,15.91,16.56v25.92h-11V124.93c0-5.28-3-8.72-7.83-8.72a9.37,9.37,0,0,0-8,4.16,18.89,18.89,0,0,1,.23,3v25.92h-11V124.93c0-5.28-3-8.72-7.84-8.72a9.3,9.3,0,0,0-7.76,3.76v29.28h-11Z"/><path class="rh-logo-type" d="M634.78,150.05c-12.64,0-22.4-9.44-22.4-21.6a21.28,21.28,0,0,1,21.44-21.6c11.84,0,20.64,9.6,20.64,22.4v2.88h-31a12,12,0,0,0,11.84,8.72,13.12,13.12,0,0,0,9.2-3.36l7.2,6.56A25,25,0,0,1,634.78,150.05Zm-11.44-25.76h20.4c-1.36-5-5.36-8.4-10.16-8.4C628.54,115.89,624.7,119.17,623.34,124.29Z"/><path class="rh-logo-type" d="M661.18,107.57h11v4.56a13.26,13.26,0,0,1,11.12-5.52,9.44,9.44,0,0,1,4.56,1v9.6a14,14,0,0,0-5.6-1.12,11,11,0,0,0-10.08,6.24v27h-11Z"/><path class="rh-logo-type" d="M710.54,93.25h28.08c11,0,18.8,7.28,18.8,17.6,0,10-7.92,17.28-18.8,17.28H722.14v21.12h-11.6Zm11.6,10v15.28h15.2c5,0,8.32-3,8.32-7.6s-3.28-7.68-8.32-7.68Z"/><path class="rh-logo-type" d="M782.14,106.77c12.48,0,22.24,9.52,22.24,21.68s-9.76,21.6-22.24,21.6-22.24-9.44-22.24-21.6S769.66,106.77,782.14,106.77Zm11.52,21.68c0-6.88-5-12.16-11.52-12.16s-11.52,5.28-11.52,12.16c0,6.72,5,12.08,11.52,12.08S793.66,135.17,793.66,128.45Z"/><path class="rh-logo-type" d="M811.1,107.57h11v4.56a13.26,13.26,0,0,1,11.12-5.52,9.44,9.44,0,0,1,4.56,1v9.6a14,14,0,0,0-5.6-1.12,11,11,0,0,0-10.08,6.24v27h-11Z"/><path class="rh-logo-type" d="M850,116.77h-8.56v-9.2H850V96.93l11-2.48v13.12h11.84v9.2H860.94v18.48c0,3.92,1.52,5.36,5.76,5.36a16.86,16.86,0,0,0,5.84-1v9a34,34,0,0,1-8.48,1.28c-9.28,0-14.08-4.24-14.08-12.4Z"/><path class="rh-logo-type" d="M876.22,137.17c0-7.92,6.4-12.64,17.12-12.64a33.71,33.71,0,0,1,10.16,1.6v-3c0-4.8-3-7.28-8.8-7.28-3.52,0-7.44,1.12-12.72,3.44l-4-8.08a43.46,43.46,0,0,1,18.56-4.48c11.28,0,17.76,5.6,17.76,15.44v27H903.5v-2.88a19.81,19.81,0,0,1-12.08,3.6C882.46,150,876.22,144.77,876.22,137.17Zm18.08,5a15.78,15.78,0,0,0,9.2-2.64v-6.24a24.22,24.22,0,0,0-8.8-1.52c-5,0-8,2-8,5.2S889.66,142.13,894.3,142.13Z"/><path class="rh-logo-type" d="M933.58,149.25h-11v-56l11-2.4Z"/><g id="Hat_icon" data-name="Hat icon"><path id="Red_hat" data-name="Red hat" class="rh-logo-hat" d="M129,92.24c12.5,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42L151.82,39c-1.72-7.12-3.23-10.35-15.74-16.6-9.7-5-30.82-13.15-37.07-13.15-5.83,0-7.55,7.54-14.45,7.54-6.68,0-11.64-5.6-17.89-5.6-6,0-9.92,4.1-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,44,52.79C44,62,80.32,92.24,129,92.24Zm32.55-11.42c1.72,8.19,1.72,9.05,1.72,10.13,0,14-15.73,21.77-36.43,21.77-46.77,0-87.73-27.37-87.73-45.48a18.32,18.32,0,0,1,1.51-7.33C23.77,60.77,2,63.79,2,83c0,31.48,74.59,70.28,133.65,70.28,45.27,0,56.7-20.48,56.7-36.65C192.35,103.88,181.35,89.44,161.52,80.82Z"/><path class="rh-logo-band" id="Black_band" data-name="Black band" d="M161.52,80.82c1.72,8.19,1.72,9.05,1.72,10.13,0,14-15.73,21.77-36.43,21.77-46.77,0-87.73-27.37-87.73-45.48a18.32,18.32,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,44,52.79C44,62,80.32,92.24,129,92.24c12.5,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/></g><path id="Dividing_line" data-name="Dividing line" class="rh-logo-type" d="M255.47,160.75a2.25,2.25,0,0,1-2.25-2.25V4.25a2.25,2.25,0,0,1,4.5,0V158.5A2.25,2.25,0,0,1,255.47,160.75Z"/></g></g>
          </svg>
        </span>
            </a>
    <button class="btn btn-search btn-utility" data-target="#site-search">
        <span class="web-icon-search"></span>
        <span class="link-text">Search</span>
    </button>
</nav>

<!-- Mobile Menu Drawer -->
<div class="nav-drawer mobile-nav-drawer hidden-sm hidden-md hidden-lg" aria-hidden="true">
    <nav class="nav-container">
        <ul>
    <li>
        <a href="index.html#" class="has-subnav"><span>Products &amp; Services</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/products">View All Products</a></li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Infrastructure and Management</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-virtualization/">Red Hat Virtualization</a></li>
                    <li><a href="https://access.redhat.com/products/identity-management/">Red Hat Identity Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|p|im|rhaijan2016&">Red Hat Insights</a></li>
                    <li><a href="https://access.redhat.com/products/ansible-tower-red-hat/">Red Hat Ansible Tower</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ansible-engine/">Red Hat Ansible Engine</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Cloud Computing</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-cloud-suite/">Red Hat Cloud Suite</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-online-red-hat/">Red Hat OpenShift Online</a></li>
                    <li><a href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/">Red Hat Advanced Cluster Management for Kubernetes</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-codeready-workspaces/">Red Hat CodeReady Workspaces</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Storage</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage</a></li>
                    <li><a href="https://access.redhat.com/products/red-hat-openshift-container-storage">Red Hat Openshift Container Storage</a></li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Runtimes</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true">
                      <a href="index.html#" class="back">Back</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/thorntail/">Red Hat build of Thorntail</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/eclipse-vertx/">Red Hat build of Eclipse Vert.x</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/openjdk/">Red Hat build of OpenJDK</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/open-liberty/">Open Liberty</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/quarkus/">Red Hat build of Quarkus</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-codeready-studio/">Red Hat CodeReady Studio</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="index.html#" class="has-subnav"><span>Integration and Automation</span></a>
                <ul class="mm-hide">
                    <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-integration/">Red Hat Integration</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                    </li>
                    <li>
                      <a href="https://access.redhat.com/products/red-hat-process-automation/">Red Hat Process Automation</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                    </li>
                    <li>
                        <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                    </li>
                </ul>
            </li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/support/">Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
            <li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
            <li><a href="https://access.redhat.com/product-life-cycles/">Product Life Cycles</a></li>

            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://access.redhat.com/documentation/">Documentation</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux">Red Hat Enterprise Linux</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform">Red Hat OpenStack Platform</a></li>
            <li><a href="https://access.redhat.com/documentation/en-us/openshift_container_platform">Red Hat OpenShift Container Platform</a></li>

            <li class="heading">Services</li>
            <li><a href="https://www.redhat.com/en/services/consulting">Consulting</a></li>
            <li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
            <li><a href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications</a></li>

            
            <li class="heading"><a class="cta-link cta-link-darkbg" href="https://catalog.redhat.com/">Ecosystem Catalog</a></li>
            <li><a href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources</a></li>
            <li><a href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a></li>
          </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Tools</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/insights/info/?intcmp=mm|t|c1|rhaidec2015&">Red Hat Insights</a></li>
            <li class="heading">Tools</li>
            <li><a href="https://access.redhat.com/solution-engine">Solution Engine</a></li>
            <li><a href="https://access.redhat.com/downloads/content/package-browser">Packages</a></li>
            <li><a href="https://access.redhat.com/errata/">Errata</a></li>
            <li class="heading">Customer Portal Labs</li>
            <li><a href="https://access.redhat.com/labs/">Explore Labs</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=config">Configuration</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=deploy">Deployment</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=security">Security</a></li>
            <li><a href="https://access.redhat.com/labs/#?type=troubleshoot">Troubleshooting</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Security</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/security/">Product Security Center</a></li>
            <li class="heading">Security Updates</li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database</a></li>
            <li><a href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs</a></li>
            <li class="heading">Resources</li>
            <li><a href="https://access.redhat.com/security/overview/">Overview</a></li>
            <li><a href="https://access.redhat.com/blogs/product-security">Security Blog</a></li>
            <li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
            <li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
            <li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
            <li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Community</span></a>
        <ul class="mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="heading">Customer Portal Community</li>
            <li><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">Discussions</a></li>
            <li><a href="https://access.redhat.com/blogs/">Blogs</a></li>
            <li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
            <li><a href="https://access.redhat.com/community/">Community Activity</a></li>
            <li class="heading">Customer Events</li>
            <li><a href="https://access.redhat.com/convergence/">Red Hat Convergence</a></li>
            <li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
            <li class="heading">Stories</li>
            <li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value</a></li>
            <li><a href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.</a></li>
            <li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
        </ul>
    </li>
    <li><a href="https://access.redhat.com/management/">Subscriptions</a></li>
    <li><a href="https://access.redhat.com/downloads/">Downloads</a></li>
    <li><a href="https://catalog.redhat.com/software/containers/explore/">Containers</a></li>
    <li><a href="https://access.redhat.com/support/cases/">Support Cases</a></li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Account</span></a>
        <ul class="utility mm-hide">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://access.redhat.com/login" id="mobile-accountLogin">Log In</a></li>
            <li class="mobile-accountLinksLoggedOut unauthenticated"><a href="https://www.redhat.com/wapps/ugc/register.html">Register</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated">
                <div class="account-info" id="mobile-accountUser">
                    <div class="account-name"><strong id="mobile-userFullName"></strong></div>
                    <div class="account-org"><span id="mobile-userOrg"></span></div>
                    <div class="account-number mobile-accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
                </div>
            </li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
            <!-- <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li> -->
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html" class="user-management-link">User Management</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user">My Profile</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/user" id="mobile-userNotificationsLink">Notifications</a></li>
            <li class="mobile-accountLinksLoggedIn authenticated"><a href="https://access.redhat.com/help/">Help</a></li>
            <li class="logout mobile-accountLinksLoggedIn authenticated"><a href="https://sso.redhat.com/auth/realms/redhat-external/logout?redirectUrl=https%3A%2F%2Faccess.redhat.com%2Flogout">Log Out</a></li>
        </ul>
    </li>
    <li>
        <a href="index.html#" class="has-subnav"><span>Language</span></a>
        <ul class="utility mm-hide" id="mobile-localesMenu">
            <li aria-hidden="true"><a href="index.html#" class="back">Back</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=en" id="mobile-en">English</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ko" id="mobile-ko">한국어</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=ja" id="mobile-ja">日本語</a></li>
            <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" id="mobile-zh_CN">中文 (中国)</a></li>
		</ul>
    </li>
</ul>
    </nav>
</div>

<!-- White Utility Menu for large screens -->
<div class="utility-wrap" aria-hidden="true">
    <div class="utility-container">
        <div class="utility-bar hidden-xs">
            <div role="navigation" class="top-nav">
                <ul>
                    <li id="nav-subscription" data-portal-tour-1="1"><a class="top-nav-subscriptions" href="https://access.redhat.com/management/">Subscriptions</a></li>
                    <li id="nav-downloads" data-portal-tour-1="2"><a class="top-nav-downloads" href="https://access.redhat.com/downloads/">Downloads</a></li>
                    <li id="nav-containers"><a class="top-nav-containers" href="https://catalog.redhat.com/software/containers/explore/">Containers</a></li>
                    <li id="nav-support" data-portal-tour-1="3"><a class="top-nav-support-cases" href="https://access.redhat.com/support/cases/">Support Cases</a></li>
                </ul>
            </div>

            <div role="navigation" class="utility-nav">
                <ul>
                    <li id="searchABTestHide">
                        <a class="btn-search" data-target="#site-search" title="Search" data-toggle="tooltip" data-placement="bottom">
                            <span class="web-icon-search" aria-label="search"></span>
                            <span class="link-text">Search</span>
                        </a>
                    </li>
                    <!-- AB Test -->
                    <li id="searchABTestShow">
                        <form id="topSearchFormABTest" name="topSearchFormABTest">
                            <label for="topSearchInputABTest" class="sr-only">Search</label>
                            <input id="topSearchInputABTest" name="keyword" placeholder="Search" value="" type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="form-control">
                            <button type="submit" class="btn btn-app btn-sm btn-link"><span class="web-icon-search" aria-label="search"></span></button>
                        </form>
                    </li>
                    <!-- End of AB Test -->
                    <li>
                        <a class="btn-profile" data-target="#account-info" data-portal-tour-1="4a" title="Account" data-toggle="tooltip" data-placement="bottom">
                            <span class="web-icon-user" aria-label="log in"></span>
                            <span class="link-text">Log In</span>
                            <span class="account-user" id="accountUserName"></span>
                        </a>
                    </li>
                    <li>
                        <a class="btn-language" data-target="#language" data-portal-tour-1="6" title="Language" data-toggle="tooltip" data-placement="bottom">
                            <span class="web-icon-globe" aria-label="language"></span>
                            <span class="link-text">Language</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- Utility Tray -->
        <div class="utility-tray-container">
            <div class="utility-tray">
                <div id="site-search" class="utility-link site-search">
                    <div class="content">
                        <form class="ng-pristine ng-valid topSearchForm" id="topSearchForm" name="topSearchForm" action="https://access.redhat.com/search/browse/search/" method="get" enctype="application/x-www-form-urlencoded">
                            <cp-search-autocomplete class="push-bottom" path="/webassets/avalon/j/data.json"></cp-search-autocomplete>
                            <div class="input-group push-bottom">
                                <input class="form-control searchField" id="topSearchInput" name="keyword" value="" placeholder="Enter your search term" type="text">
                                <span class="input-group-btn">
                                    <button type="submit" class="btn btn-primary">Search</button>
                                </span>
                            </div>
                            <div>Or <a href="https://access.redhat.com/support/cases/#/troubleshoot">troubleshoot an issue</a>.</div>
                        </form>
                    </div>
                </div>
                <div id="account-info" class="utility-link account-info">
                    <div class="content">

                        <!-- Account Unauthenticated -->
                        <div id="accountLinksLoggedOut" class="unauthenticated">
                            <h2 class="utility-header">Log in to Your Red Hat Account</h2>
                            <div class="row col-border-row">
                                <div class="col-sm-6 col-border">
                                    <p><a href="https://access.redhat.com/login" id="accountLogin" class="btn btn-primary">Log In</a></p>
                                    <p>Your Red Hat account gives you access to your profile, preferences, and services, depending on your status.</p>
                                </div>
                                <div class="col-sm-6 col-border col-border-left">
                                    <p><a href="https://www.redhat.com/wapps/ugc/register.html" class="btn btn-primary">Register</a></p>
                                    <p>If you are a new customer, register now for access to product evaluations and purchasing capabilities. </p>

                                    <strong>Need access to an account?</strong><p>If your company has an existing Red Hat account, your organization administrator can grant you access.</p>

                                    <p><a href="https://access.redhat.com/support/contact/customerService/">If you have any questions, please contact customer service.</a></p>
                                </div>
                            </div>
                        </div>

                        <!-- Account Authenticated -->
                        <div id="accountLinksLoggedIn" class="authenticated">
                            <h2 class="utility-header"><span id="userFirstName"></span></h2>
                            <div class="row col-border-row">
                                <div class="col-sm-6 col-border col-border-right">
                                    <div class="account-info" id="accountUser">
                                        <div class="avatar"><!-- placeholder--></div>
                                        <div class="account-name"><strong id="userFullName"></strong></div>
                                        <div class="account-org"><span id="userOrg"></span></div>
                                        <div class="account-number accountNumber"><span class="property">Red Hat Account Number:</span> <span class="value"></span></div>
                                    </div>

                                    <div class="row account-settings">
                                        <div class="col-md-6" data-portal-tour-1="4">
                                            <h3>Red Hat Account</h3>
                                            <ul class="reset">
                                                <li><a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html">Account Details</a></li>
                                                <!-- <li><a href="https://www.redhat.com/wapps/ugc/protected/prefs.html">Newsletter and Contact Preferences</a></li> -->
                                                <li><a href="https://www.redhat.com/wapps/ugc/protected/usermgt/userList.html" class="user-management-link">User Management</a></li>
                                                <li><a href="https://www.redhat.com/wapps/ugc/protected/account.html">Account Maintenance</a></li>
                                                <li><a href="https://access.redhat.com/account-team">Account Team</a></li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6" data-portal-tour-1="5">
                                            <h3>Customer Portal</h3>
                                            <ul class="reset">
                                                <li><a href="https://access.redhat.com/user">My Profile</a></li>
                                                <li><a href="https://access.redhat.com/user" id="userNotificationsLink">Notifications</a></li>
                                                <li><a href="https://access.redhat.com/help/">Help</a></li>
                                            </ul>
                                        </div>
                                    </div>

                                </div>
                                <div class="col-sm-6 col-border">
                                    <p>For your security, if you’re on a public computer and have finished using your Red Hat services, please be sure to log out.</p>
                                    <p><a href="https://sso.redhat.com/auth/realms/redhat-external/logout?redirectUrl=https%3A%2F%2Faccess.redhat.com%2Flogout" id="accountLogout" class="btn btn-primary">Log Out</a></p>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div id="language" class="utility-link language">
                    <div class="content">
                        <h2 class="utility-header">Select Your Language</h2>
                        <div class="row" id="localesMenu">
                            <div class="col-sm-2">
                                <ul class="reset">
                                    <li><a href="https://access.redhat.com/changeLanguage?language=en" data-lang="en" id="en">English</a></li>
                                    <li><a href="https://access.redhat.com/changeLanguage?language=ko" data-lang="ko" id="ko">한국어</a></li>
                                </ul>
                            </div>
                            <div class="col-sm-2">
                                <ul class="reset">
                                    <li><a href="https://access.redhat.com/changeLanguage?language=ja"    data-lang="ja"    id="ja">日本語</a></li>
                                    <li><a href="https://access.redhat.com/changeLanguage?language=zh_CN" data-lang="zh_CN" id="zh_CN">中文 (中国)</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="scroll-anchor"></div>

<!-- Main Menu for large screens -->
<div class="header-nav visible-sm visible-md visible-lg" aria-hidden="true">
    <div id="header-nav">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">

                    <a href="https://access.redhat.com/" class="logo">
                      <span class="sr-only">Red Hat Customer Portal</span>
                      <span class="logo-crop">
                        <svg aria-hidden="true" class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 950 200">
                          <defs>
                          <style>
                            .rh-logo-type {
                              fill:#fff;
                            }
                            .rh-logo-hat {
                              fill:#e00;
                            }
                          </style>
                          </defs>
                          <title>Red Hat Customer Portal</title><g id="Two_lines" data-name="Two lines"><g id="Two_line_logo" data-name="Two line logo"><path class="rh-logo-type" d="M318.62,9.25h25.44c11.13,0,18.64,6.72,18.64,16.56,0,7.36-4.47,13-11.51,15.36l12.48,24.08h-9.29l-11.6-23H327v23h-8.4Zm8.4,7.36V35.33h16.33c6.55,0,10.87-3.76,10.87-9.36s-4.32-9.36-10.87-9.36Z"/><path class="rh-logo-type" d="M387.5,66a21,21,0,0,1-21.36-21.12c0-11.76,9-21,20.4-21,11.2,0,19.68,9.28,19.68,21.28v2.32H374.06a13.74,13.74,0,0,0,13.76,11.68,15.84,15.84,0,0,0,10.32-3.6l5.13,5A24.33,24.33,0,0,1,387.5,66ZM374.14,41.49H398.3c-1.19-6.24-6-10.88-11.92-10.88C380.22,30.61,375.34,35,374.14,41.49Z"/><path class="rh-logo-type" d="M445.18,61.41a19.23,19.23,0,0,1-12.48,4.48c-11.52,0-20.56-9.2-20.56-21a20.72,20.72,0,0,1,33-17V9.25l8-1.76V65.25h-7.92Zm-11.36-2.48a14.67,14.67,0,0,0,11.28-4.88V35.57a14.89,14.89,0,0,0-11.28-4.8,13.63,13.63,0,0,0-13.84,14A13.77,13.77,0,0,0,433.82,58.93Z"/><path class="rh-logo-type" d="M480.22,9.25h8.4v24h29.76v-24h8.4v56h-8.4V40.85H488.62v24.4h-8.4Z"/><path class="rh-logo-type" d="M534.38,53.57c0-7.68,6.24-12.4,16.48-12.4A28.75,28.75,0,0,1,562,43.41V39.09c0-5.76-3.44-8.64-9.92-8.64-3.76,0-7.6,1-12.64,3.44l-3-6c6.08-2.88,11.36-4.16,16.72-4.16,10.56,0,16.64,5.2,16.64,14.56v27H562V61.73A19.32,19.32,0,0,1,549.34,66C540.46,66,534.38,60.93,534.38,53.57Zm16.8,6.48A15.66,15.66,0,0,0,562,56.21v-7a21.15,21.15,0,0,0-10.48-2.48c-5.84,0-9.44,2.64-9.44,6.72C542.06,57.33,545.74,60.05,551.18,60.05Z"/><path class="rh-logo-type" d="M582.7,31.25h-8.64V24.53h8.64V14.13l7.92-1.92V24.53h12v6.72h-12V53.33c0,4.16,1.68,5.68,6,5.68a15.72,15.72,0,0,0,5.84-1v6.72a26.5,26.5,0,0,1-7.6,1.2c-7.92,0-12.16-3.76-12.16-10.8Z"/><path class="rh-logo-type" d="M361,132.21l7.59,7.52a30.76,30.76,0,0,1-23,10.32c-16.88,0-29.84-12.56-29.84-28.8s13-28.88,29.84-28.88c9,0,18.09,4.08,23.28,10.48l-7.83,7.76a19.52,19.52,0,0,0-15.45-7.6c-10.16,0-17.92,7.84-17.92,18.24A17.8,17.8,0,0,0,346,139.33,19.24,19.24,0,0,0,361,132.21Z"/><path class="rh-logo-type" d="M383.74,131.81c0,5.36,3.44,8.8,8.64,8.8a10.05,10.05,0,0,0,8.65-4.16V107.57h11v41.68H401v-3.36a17.79,17.79,0,0,1-11.77,4.16c-9.68,0-16.48-6.88-16.48-16.64V107.57h11Z"/><path class="rh-logo-type" d="M422.46,137c4.88,3.2,9.12,4.72,13.52,4.72,4.88,0,8.08-1.76,8.08-4.4,0-2.16-1.6-3.36-5.2-3.92l-8-1.2c-8.24-1.28-12.64-5.36-12.64-12.08,0-8.08,6.72-13.2,17.36-13.2a30.75,30.75,0,0,1,17.12,5.2l-5.28,7c-4.56-2.72-8.64-4-12.88-4-4,0-6.56,1.6-6.56,4.08,0,2.24,1.6,3.36,5.68,3.92l8,1.2c8.16,1.2,12.72,5.44,12.72,11.92,0,7.84-7.76,13.76-18.24,13.76-7.6,0-14.4-2-19.12-5.76Z"/><path class="rh-logo-type" d="M464.7,116.77h-8.56v-9.2h8.56V96.93l11-2.48v13.12H487.5v9.2H475.66v18.48c0,3.92,1.52,5.36,5.76,5.36a16.86,16.86,0,0,0,5.84-1v9a34,34,0,0,1-8.48,1.28c-9.28,0-14.08-4.24-14.08-12.4Z"/><path class="rh-logo-type" d="M512.86,106.77c12.48,0,22.24,9.52,22.24,21.68s-9.76,21.6-22.24,21.6-22.24-9.44-22.24-21.6S500.38,106.77,512.86,106.77Zm11.52,21.68c0-6.88-5-12.16-11.52-12.16s-11.52,5.28-11.52,12.16c0,6.72,5,12.08,11.52,12.08S524.38,135.17,524.38,128.45Z"/><path class="rh-logo-type" d="M541.82,107.57h11v3.12a16.21,16.21,0,0,1,10.88-3.92A15,15,0,0,1,576.22,113,17.16,17.16,0,0,1,590,106.77c9.36,0,15.91,6.8,15.91,16.56v25.92h-11V124.93c0-5.28-3-8.72-7.83-8.72a9.37,9.37,0,0,0-8,4.16,18.89,18.89,0,0,1,.23,3v25.92h-11V124.93c0-5.28-3-8.72-7.84-8.72a9.3,9.3,0,0,0-7.76,3.76v29.28h-11Z"/><path class="rh-logo-type" d="M634.78,150.05c-12.64,0-22.4-9.44-22.4-21.6a21.28,21.28,0,0,1,21.44-21.6c11.84,0,20.64,9.6,20.64,22.4v2.88h-31a12,12,0,0,0,11.84,8.72,13.12,13.12,0,0,0,9.2-3.36l7.2,6.56A25,25,0,0,1,634.78,150.05Zm-11.44-25.76h20.4c-1.36-5-5.36-8.4-10.16-8.4C628.54,115.89,624.7,119.17,623.34,124.29Z"/><path class="rh-logo-type" d="M661.18,107.57h11v4.56a13.26,13.26,0,0,1,11.12-5.52,9.44,9.44,0,0,1,4.56,1v9.6a14,14,0,0,0-5.6-1.12,11,11,0,0,0-10.08,6.24v27h-11Z"/><path class="rh-logo-type" d="M710.54,93.25h28.08c11,0,18.8,7.28,18.8,17.6,0,10-7.92,17.28-18.8,17.28H722.14v21.12h-11.6Zm11.6,10v15.28h15.2c5,0,8.32-3,8.32-7.6s-3.28-7.68-8.32-7.68Z"/><path class="rh-logo-type" d="M782.14,106.77c12.48,0,22.24,9.52,22.24,21.68s-9.76,21.6-22.24,21.6-22.24-9.44-22.24-21.6S769.66,106.77,782.14,106.77Zm11.52,21.68c0-6.88-5-12.16-11.52-12.16s-11.52,5.28-11.52,12.16c0,6.72,5,12.08,11.52,12.08S793.66,135.17,793.66,128.45Z"/><path class="rh-logo-type" d="M811.1,107.57h11v4.56a13.26,13.26,0,0,1,11.12-5.52,9.44,9.44,0,0,1,4.56,1v9.6a14,14,0,0,0-5.6-1.12,11,11,0,0,0-10.08,6.24v27h-11Z"/><path class="rh-logo-type" d="M850,116.77h-8.56v-9.2H850V96.93l11-2.48v13.12h11.84v9.2H860.94v18.48c0,3.92,1.52,5.36,5.76,5.36a16.86,16.86,0,0,0,5.84-1v9a34,34,0,0,1-8.48,1.28c-9.28,0-14.08-4.24-14.08-12.4Z"/><path class="rh-logo-type" d="M876.22,137.17c0-7.92,6.4-12.64,17.12-12.64a33.71,33.71,0,0,1,10.16,1.6v-3c0-4.8-3-7.28-8.8-7.28-3.52,0-7.44,1.12-12.72,3.44l-4-8.08a43.46,43.46,0,0,1,18.56-4.48c11.28,0,17.76,5.6,17.76,15.44v27H903.5v-2.88a19.81,19.81,0,0,1-12.08,3.6C882.46,150,876.22,144.77,876.22,137.17Zm18.08,5a15.78,15.78,0,0,0,9.2-2.64v-6.24a24.22,24.22,0,0,0-8.8-1.52c-5,0-8,2-8,5.2S889.66,142.13,894.3,142.13Z"/><path class="rh-logo-type" d="M933.58,149.25h-11v-56l11-2.4Z"/><g id="Hat_icon" data-name="Hat icon"><path id="Red_hat" data-name="Red hat" class="rh-logo-hat" d="M129,92.24c12.5,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42L151.82,39c-1.72-7.12-3.23-10.35-15.74-16.6-9.7-5-30.82-13.15-37.07-13.15-5.83,0-7.55,7.54-14.45,7.54-6.68,0-11.64-5.6-17.89-5.6-6,0-9.92,4.1-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,44,52.79C44,62,80.32,92.24,129,92.24Zm32.55-11.42c1.72,8.19,1.72,9.05,1.72,10.13,0,14-15.73,21.77-36.43,21.77-46.77,0-87.73-27.37-87.73-45.48a18.32,18.32,0,0,1,1.51-7.33C23.77,60.77,2,63.79,2,83c0,31.48,74.59,70.28,133.65,70.28,45.27,0,56.7-20.48,56.7-36.65C192.35,103.88,181.35,89.44,161.52,80.82Z"/><path class="rh-logo-band" id="Black_band" data-name="Black band" d="M161.52,80.82c1.72,8.19,1.72,9.05,1.72,10.13,0,14-15.73,21.77-36.43,21.77-46.77,0-87.73-27.37-87.73-45.48a18.32,18.32,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,44,52.79C44,62,80.32,92.24,129,92.24c12.5,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/></g><path id="Dividing_line" data-name="Dividing line" class="rh-logo-type" d="M255.47,160.75a2.25,2.25,0,0,1-2.25-2.25V4.25a2.25,2.25,0,0,1,4.5,0V158.5A2.25,2.25,0,0,1,255.47,160.75Z"/></g></g>
                        </svg>
                      </span>
                                            </a>

                    <nav class="primary-nav hidden-sm">
                        <ul>
                            <li id="nav-products"><a class="products" data-link="mega" data-target="products-menu" href="https://access.redhat.com/products/" id="products-menu">Products &amp; Services</a></li>
                            <li id="nav-tools"><a class="tools" data-link="mega" data-target="tools-menu" href="https://access.redhat.com/labs/" id="tools-menu">Tools</a></li>
                            <li id="nav-security"><a class="security" data-link="mega" data-target="security-menu" href="https://access.redhat.com/security/" id="security-menu">Security</a></li>
                            <li id="nav-community"><a class="community" data-link="mega" data-target="community-menu" href="https://access.redhat.com/community/" id="community-menu">Community</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Main Mega Menu for large screens -->
<div class="mega-wrap visible-sm visible-md visible-lg" aria-hidden="true">
    <nav class="mega">
        <div class="container">
            <div class="mega-menu-wrap">

                <!-- Products Menu -->
                <div aria-labelledby="products-menu" class="products-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row">
                        <div class="col-md-6 col-sm-8">
                            <div class="root clearfix" data-portal-tour-1="7">
                                <ul class="subnav subnav-root">
                                    <li data-target="infrastructure-menu" class="active">
                                        <h3>Infrastructure and Management</h3>
                                    </li>
                                    <li data-target="cloud-menu">
                                        <h3>Cloud Computing</h3>
                                    </li>
                                    <li data-target="storage-menu">
                                        <h3>Storage</h3>
                                    </li>
                                    <li data-target="jboss-dev-menu">
                                        <h3>Runtimes</h3>
                                    </li>
                                    <li data-target="jboss-int-menu">
                                        <h3>Integration and Automation</h3>
                                    </li>
                                </ul>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="infrastructure-menu" style="display: block;">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-enterprise-linux/">Red Hat Enterprise Linux</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-virtualization/">Red Hat Virtualization</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/identity-management/">Red Hat Identity Management</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-directory-server/">Red Hat Directory Server</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-certificate-system/">Red Hat Certificate System</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-satellite/">Red Hat Satellite</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-subscription-management/">Red Hat Subscription Management</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-update-infrastructure/">Red Hat Update Infrastructure</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-insights/">Red Hat Insights</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/ansible-tower-red-hat/">Red Hat Ansible Tower</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-ansible-engine/">Red Hat Ansible Engine</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="cloud-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-cloudforms/">Red Hat CloudForms</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-openstack-platform/">Red Hat OpenStack Platform</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-cloud-suite/">Red Hat Cloud Suite</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-openshift-container-platform/">Red Hat OpenShift Container Platform</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/openshift-online-red-hat/">Red Hat OpenShift Online</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/openshift-dedicated-red-hat/">Red Hat OpenShift Dedicated</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/">Red Hat Advanced Cluster Management for Kubernetes</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-quay/">Red Hat Quay</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-codeready-workspaces/">Red Hat CodeReady Workspaces</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="storage-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-storage/">Red Hat Gluster Storage</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/">Red Hat Hyperconverged Infrastructure</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-ceph-storage/">Red Hat Ceph Storage</a>
                                        </li>
                                        <li>
                                          <a href="https://access.redhat.com/products/red-hat-openshift-container-storage">Red Hat Openshift Container Storage</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="jboss-dev-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-runtimes/">Red Hat Runtimes</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/">Red Hat JBoss Enterprise Application Platform</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-data-grid/">Red Hat Data Grid</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-jboss-web-server/">Red Hat JBoss Web Server</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-single-sign-on/">Red Hat Single Sign On</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/spring-boot/">Red Hat support for Spring Boot</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/nodejs/">Red Hat build of Node.js</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/thorntail/">Red Hat build of Thorntail</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/eclipse-vertx/">Red Hat build of Eclipse Vert.x</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/openjdk/">Red Hat build of OpenJDK</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/open-liberty/">Open Liberty</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/quarkus/">Red Hat build of Quarkus</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-codeready-studio/">Red Hat CodeReady Studio</a>
                                        </li>
                                    </ul>
                                </div>
                                <!-- <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="jboss-int-menu">
                                    <ul>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                                        </li>
                                        <li>
                                            <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                                        </li>
                                    </ul>
                                </div> -->
                                <div class="subnav subnav-child" data-eh="subnav-child" data-menu-local="jboss-int-menu">
                                    <ul class="border-bottom" id="portal-menu-border-bottom">
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-integration/">Red Hat Integration</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-fuse/">Red Hat Fuse</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-amq/">Red Hat AMQ</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-3scale/">Red Hat 3scale API Management</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-jboss-data-virtualization/">Red Hat JBoss Data Virtualization</a>
                                      </li>
                                    </ul>
                                    <ul>
                                      <li>
                                        <a href="https://access.redhat.com/products/red-hat-process-automation/">Red Hat Process Automation</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-process-automation-manager/">Red Hat Process Automation Manager</a>
                                      </li>
                                      <li>
                                          <a href="https://access.redhat.com/products/red-hat-decision-manager/">Red Hat Decision Manager</a>
                                      </li>
                                    </ul>
                                </div>
                            </div>
                            <a href="https://access.redhat.com/products" class="btn btn-primary">View All Products</a>
                        </div>

                        <div class="col-md-6 col-sm-4 pull-right" data-portal-tour-1="8">
                            <div class="row">
                                <div class="col-md-6">
                                    <ul>
                                        <li><a href="https://access.redhat.com/support" class="cta-link cta-link-darkbg">Support</a></li>
                                        <li><a href="https://access.redhat.com/support/offerings/production/">Production Support</a></li>
                                        <li><a href="https://access.redhat.com/support/offerings/developer/">Development Support</a></li>
                                        <li><a href="https://access.redhat.com/product-life-cycles/">Product Life Cycles</a></li>
                                    </ul>
                                    <h4 class="nav-title">Services</h4>
                                    <ul>
                                        <li><a href="https://www.redhat.com/en/services/consulting">Consulting</a></li>
                                        <li><a href="https://access.redhat.com/support/offerings/tam/">Technical Account Management</a></li>
                                        <li><a href="https://www.redhat.com/en/services/training-and-certification">Training &amp; Certifications</a></li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <ul>
                                        <li><a href="https://access.redhat.com/documentation" class="cta-link cta-link-darkbg">Documentation</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/red_hat_enterprise_linux">Red Hat Enterprise Linux</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/red_hat_jboss_enterprise_application_platform">Red Hat JBoss Enterprise Application Platform</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/red_hat_openstack_platform">Red Hat OpenStack Platform</a></li>
                                        <li><a href="https://access.redhat.com/documentation/en/openshift_container_platform">Red Hat OpenShift Container Platform</a></li>
                                    </ul>
                                    <ul>
                                        
                                        <li><a href="https://catalog.redhat.com/" class="cta-link cta-link-darkbg">Ecosystem Catalog</a></li>
                                        <li><a href="https://access.redhat.com/public-cloud">Red Hat in the Public Cloud</a></li>
                                        <li><a href="https://access.redhat.com/ecosystem/partner-resources">Partner Resources</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tools Menu -->
                <div aria-labelledby="tools-menu" class="tools-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row" data-portal-tour-1="9">
                        <div class="col-sm-12">
                            <div class="row">
                                <div class="col-sm-4">
                                    <h3 class="nav-title">Tools</h3>
                                    <ul>
                                        <li><a href="https://access.redhat.com/solution-engine">Solution Engine</a></li>
                                        <li><a href="https://access.redhat.com/downloads/content/package-browser">Packages</a></li>
                                        <li><a href="https://access.redhat.com/errata/">Errata</a></li>
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <ul class="list-flat">
                                        <li><a href="https://access.redhat.com/labs/" class="cta-link cta-link-darkbg">Customer Portal Labs</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=config">Configuration</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=deploy">Deployment</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=security">Security</a></li>
                                        <li><a href="https://access.redhat.com/labs/#?type=troubleshoot">Troubleshooting</a></li>
                                    </ul>
                                </div>

                                <div class="col-sm-4">
                                    <div class="card card-dark-grey">
                                        <h4 class="card-heading">Red Hat Insights</h4>
                                        <p class="text-white">Increase visibility into IT operations to detect and resolve technical issues before they impact your business.</p>
                                        <ul class="list-flat rh-l-grid rh-m-gutters rh-m-all-6-col-on-md">
                                          <li><a href="https://www.redhat.com/en/technologies/management/insights" class="cta-link cta-link-md cta-link-darkbg">Learn more</a></li>
                                          <li><a href="https://cloud.redhat.com/insights" class="cta-link cta-link-md cta-link-darkbg">Go to Insights</a></li>
                                        </ul>
                                    </div>
                                </div>

                            </div>
                        </div>

                    </div>
                </div>

                <!-- Security Menu -->
                <div aria-labelledby="security-menu" class="security-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row">
                        <div class="col-sm-12 basic" data-portal-tour-1="10">

                            <div class="row">
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Red Hat Product Security Center</h2>
                                    <p class="text-white">Engage with our Red Hat Product Security team, access security updates, and ensure your environments are not exposed to any known security vulnerabilities.</p>
                                    <p><a href="https://access.redhat.com/security/" class="btn btn-primary">Product Security Center</a></p>
                                </div>

                                <div class="col-sm-4">
                                    <h2 class="nav-title">Security Updates</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/security/security-updates/#/security-advisories">Security Advisories</a></li>
                                        <li><a href="https://access.redhat.com/security/security-updates/#/cve">Red Hat CVE Database</a></li>
                                        <li><a href="https://access.redhat.com/security/security-updates/#/security-labs">Security Labs</a></li>
                                    </ul>
                                    <p class="text-white">Keep your systems secure with Red Hat&#039;s specialized responses for high-priority security vulnerabilities.</p>
                                    <ul>
                                        <li class="more-link"><a href="https://access.redhat.com/security/vulnerability">View Responses</a></li>
                                    </ul>
                                </div>

                                <div class="col-sm-4">
                                    <h2 class="nav-title">Resources</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/security/overview/">Overview</a></li>
                                        <li><a href="https://www.redhat.com/en/blog/channel/security">Security Blog</a></li>
                                        <li><a href="https://www.redhat.com/security/data/metrics/">Security Measurement</a></li>
                                        <li><a href="https://access.redhat.com/security/updates/classification/">Severity Ratings</a></li>
                                        <li><a href="https://access.redhat.com/security/updates/backporting/">Backporting Policies</a></li>
                                        <li><a href="https://access.redhat.com/security/team/key/">Product Signing (GPG) Keys</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Community Menu -->
                <div aria-labelledby="community-menu" class="community-menu mega-menu" data-eh="mega-menu" role="navigation">
                    <div class="row">
                        <div class="col-sm-12 basic" data-portal-tour-1="11">
                            <div class="row">
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Customer Portal Community</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/discussions?keyword=&name=&product=All&category=All&tags=All">Discussions</a></li>
                                        <li><a href="https://access.redhat.com/blogs/">Blogs</a></li>
                                        <li><a href="https://access.redhat.com/groups/">Private Groups</a></li>
                                        <p class="push-top"><a href="https://access.redhat.com/community/" class="btn btn-primary">Community Activity</a></p>
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Customer Events</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/convergence/">Red Hat Convergence</a></li>
                                        <li><a href="http://www.redhat.com/summit/">Red Hat Summit</a></li>
                                    </ul>
                                </div>
                                <div class="col-sm-4">
                                    <h2 class="nav-title">Stories</h2>
                                    <ul>
                                        <li><a href="https://access.redhat.com/subscription-value/">Red Hat Subscription Value</a></li>
                                        <li><a href="https://access.redhat.com/you-asked-we-acted/">You Asked. We Acted.</a></li>
                                        <li><a href="http://www.redhat.com/en/open-source">Open Source Communities</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!--<a href="https://access.redhat.com/community/" class="btn btn-primary">Explore Community</a>-->
                    </div>
                </div>
            </div>
        </div>
    </nav>
</div>

            <!--[if IE 8]>
            <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                    <span class="icon-warning alert-icon" aria-hidden="true"></span>
                    You are using an unsupported web browser. Update to a supported browser for the best experience. <a href="/announcements/2120951">Read the announcement</a>.
                </div>
            </div>
            <![endif]-->
            <!--[if IE 9]>
            <div class="portal-messages">
                <div class="alert alert-warning alert-portal alert-w-icon">
                    <span class="icon-warning alert-icon" aria-hidden="true"></span>
                    As of March 1, 2016, the Red Hat Customer Portal will no longer support Internet Explorer 9. See our new <a href="/help/browsers">browser support policy</a> for more information.
                </div>
            </div>
            <![endif]-->
            <div id="site-section"></div>
        </header>
        <!--googleon: all-->

        <main id="cp-main" class="portal-content-area">
            <div id="cp-content" class="main-content">
  <script type="text/javascript">
    chrometwo_require(['jquery-ui']);
  </script>


      <article class="rh_docs">
  <div class="container">
        <!-- Display: Book Page Content -->
    
  

<div class="row">
  <div itemscope="" itemtype="https://schema.org/TechArticle" itemref="techArticle-md1 techArticle-md2 techArticle-md3"></div>
  <div itemscope="" itemtype="https://schema.org/SoftwareApplication" itemref="softwareApplication-md1 softwareApplication-md2 softwareApplication-md3 softwareApplication-md4"></div>
  


<a class="toc-toggle toc-show" data-toggle="collapse" data-target="#toc-main" aria-expanded="false" aria-controls="toc-main">
  <span class="sr-only">Show Table of Contents</span>
  <span class="web-icon-mobile-menu" aria-hidden="true"></span>
</a>
<nav id="toc-main" class="toc-main collapse in">
  <div class="toc-menu affix-top">
    <a class="toc-toggle toc-hide" data-toggle="collapse" data-target="#toc-main" aria-expanded="false" aria-controls="toc-main">
      <span class="sr-only">Hide Table of Contents</span>
      <span class="icon-remove" aria-hidden="true"></span>
    </a>
    <div class="doc-options">
      <div class="doc-language btn-group">
        <button type="button" class="btn btn-app dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
          English <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
                      <li><a href="index.html">English</a></li>
                  </ul>
      </div>
      <div class="doc-format btn-group">
        <button type="button" class="btn btn-app dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
          Single-page HTML <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
                      <li><a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/security_and_hardening_guide/">Multi-page HTML</a></li>
                                <li><a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/pdf/security_and_hardening_guide/Red_Hat_OpenStack_Platform-16.1-Security_and_Hardening_Guide-en-US.pdf">PDF</a></li>
                      <li><a href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/epub/security_and_hardening_guide/Red_Hat_OpenStack_Platform-16.1-Security_and_Hardening_Guide-en-US.epub">ePub</a></li>
                  </ul>
      </div>
    </div>
    <ol class="menu"><li class=" leaf"><a href="index.html">Security and Hardening Guide</a></li><li class=" leaf"><a href="index.html#introduction">1. Introduction</a><ol class="menu"><li class=" leaf"><a href="index.html#basic_openstack_concepts">1.1. Basic OpenStack Concepts</a><ol class="menu"><li class=" leaf"><a href="index.html#what_is_openstack">1.1.1. What is OpenStack?</a></li><li class=" leaf"><a href="index.html#key_terms">1.1.2. Key terms</a></li><li class=" leaf"><a href="index.html#configuration_management_with_the_director">1.1.3. Configuration Management with the Director</a></li></ol></li><li class=" leaf"><a href="index.html#security_boundaries_and_threats">1.2. Security Boundaries and Threats</a><ol class="menu"><li class=" leaf"><a href="index.html#security_zones">1.2.1. Security Zones</a></li></ol></li><li class=" leaf"><a href="index.html#connecting_security_zones">1.3. Connecting security zones</a></li><li class=" leaf"><a href="index.html#threat_classification_actors_and_attack_vectors">1.4. Threat classification, actors, and attack vectors</a><ol class="menu"><li class=" leaf"><a href="index.html#threat_actors">1.4.1. Threat actors</a></li></ol></li><li class=" leaf"><a href="index.html#supporting_software">1.5. Supporting software</a></li><li class=" leaf"><a href="index.html#system_documentation">1.6. System Documentation</a><ol class="menu"><li class=" leaf"><a href="index.html#system_roles_and_types">1.6.1. System Roles and Types</a></li><li class=" leaf"><a href="index.html#system_inventory">1.6.2. System Inventory</a></li><li class=" leaf"><a href="index.html#hardware_inventory">1.6.3. Hardware Inventory</a></li><li class=" leaf"><a href="index.html#software_inventory">1.6.4. Software Inventory</a></li><li class=" leaf"><a href="index.html#network_topology">1.6.5. Network Topology</a></li><li class=" leaf"><a href="index.html#services_protocols_and_ports">1.6.6. Services, Protocols, and Ports</a></li></ol></li></ol></li><li class=" leaf"><a href="index.html#encryption_and_key_management">2. Encryption and Key Management</a><ol class="menu"><li class=" leaf"><a href="index.html#introduction_to_tls_and_ssl">2.1. Introduction to TLS and SSL</a><ol class="menu"><li class=" leaf"><a href="index.html#public_key_infrastructure">2.1.1. Public Key Infrastructure</a></li><li class=" leaf"><a href="index.html#certification_authorities">2.1.2. Certification Authorities</a></li><li class=" leaf"><a href="index.html#configuring_encryption_using_director">2.1.3. Configuring Encryption using Director</a></li><li class=" leaf"><a href="index.html#tls_libraries">2.1.4. TLS libraries</a></li><li class=" leaf"><a href="index.html#deprecation_of_tls_1_0">2.1.5. Deprecation of TLS 1.0</a></li><li class=" leaf"><a href="index.html#cryptographic_algorithms_cipher_modes_and_protocols">2.1.6. Cryptographic algorithms, cipher modes, and protocols</a></li></ol></li><li class=" leaf"><a href="index.html#tls_proxies_and_http_services">2.2. TLS Proxies and HTTP Services</a><ol class="menu"><li class=" leaf"><a href="index.html#perfect_forward_secrecy">2.2.1. Perfect Forward Secrecy</a></li></ol></li><li class=" leaf"><a href="index.html#use_barbican_to_manage_secrets">2.3. Use Barbican to manage secrets</a></li></ol></li><li class=" leaf"><a href="index.html#identity_and_access_management">3. Identity and Access Management</a><ol class="menu"><li class=" leaf"><a href="index.html#identity">3.1. Identity</a><ol class="menu"><li class=" leaf"><a href="index.html#authentication">3.1.1. Authentication</a></li></ol></li><li class=" leaf"><a href="index.html#authorization">3.2. Authorization</a><ol class="menu"><li class=" leaf"><a href="index.html#establish_formal_access_control_policies">3.2.1. Establish Formal Access Control Policies</a></li><li class=" leaf"><a href="index.html#service_authorization">3.2.2. Service Authorization</a></li><li class=" leaf"><a href="index.html#administrative_user_accounts">3.2.3. Administrative user accounts</a></li><li class=" leaf"><a href="index.html#end_users">3.2.4. End Users</a></li></ol></li><li class=" leaf"><a href="index.html#policies">3.3. Policies</a><ol class="menu"><li class=" leaf"><a href="index.html#reviewing_existing_policies">3.3.1. Reviewing existing policies</a></li><li class=" leaf"><a href="index.html#understanding_service_policies">3.3.2. Understanding service policies</a></li><li class=" leaf"><a href="index.html#sect-policy-syntax">3.3.3. Policy syntax</a></li><li class=" leaf"><a href="index.html#using_policy_files_for_access_control">3.3.4. Using policy files for access control</a></li></ol></li><li class=" leaf"><a href="index.html#tokens">3.4. Tokens</a><ol class="menu"><li class=" leaf"><a href="index.html#fernet_tokens">3.4.1. Fernet tokens</a></li></ol></li><li class=" leaf"><a href="index.html#keystone_domains">3.5. Keystone domains</a></li><li class=" leaf"><a href="index.html#federating_with_the_identity_service">3.6. Federating with the Identity Service</a></li><li class=" leaf"><a href="index.html#federate_with_idm_using_red_hat_single_sign_on">3.7. Federate with IdM using Red Hat Single Sign-On</a><ol class="menu"><li class=" leaf"><a href="index.html#the_federation_workflow">3.7.1. The federation workflow</a></li></ol></li><li class=" leaf"><a href="index.html#integrate_with_ldap_based_services">3.8. Integrate with LDAP-based services</a><ol class="menu"><li class=" leaf"><a href="index.html#how_ldap_integration_works">3.8.1. How LDAP integration works</a></li></ol></li></ol></li><li class=" leaf"><a href="index.html#rotating_service_account_passwords">4. Rotating service account passwords</a><ol class="menu"><li class=" leaf"><a href="index.html#overview_of_overcloud_password_management">4.1. Overview of overcloud password management</a></li><li class=" leaf"><a href="index.html#rotating_the_passwords">4.2. Rotating the passwords</a></li><li class=" leaf"><a href="index.html#outage_requirements">4.3. Outage requirements</a></li></ol></li><li class=" leaf"><a href="index.html#hardening_infrastructure_and_virtualization">5. Hardening Infrastructure and Virtualization</a><ol class="menu"><li class=" leaf"><a href="index.html#vulnerability_awareness">5.1. Vulnerability Awareness</a></li><li class=" leaf"><a href="index.html#network_time_protocol">5.2. Network Time Protocol</a><ol class="menu"><li class=" leaf"><a href="index.html#why_consistent_time_is_important">5.2.1. Why consistent time is important</a></li><li class=" leaf"><a href="index.html#ntp_design">5.2.2. NTP design</a></li><li class=" leaf"><a href="index.html#configuring_ntp_in_red_hat_openstack_platform">5.2.3. Configuring NTP in Red Hat OpenStack Platform</a></li></ol></li><li class=" leaf"><a href="index.html#compute">5.3. Compute</a><ol class="menu"><li class=" leaf"><a href="index.html#hypervisors_in_openstack">5.3.1. Hypervisors in OpenStack</a></li><li class=" leaf"><a href="index.html#virtualization">5.3.2. Virtualization</a></li><li class=" leaf"><a href="index.html#hardening_compute_deployments">5.3.3. Hardening Compute Deployments</a></li><li class=" leaf"><a href="index.html#mitigating_hardware_vulnerabilities">5.3.4. Mitigating hardware vulnerabilities</a></li></ol></li><li class=" leaf"><a href="index.html#block_storage">5.4. Block Storage</a><ol class="menu"><li class=" leaf"><a href="index.html#volume_wiping">5.4.1. Volume Wiping</a></li><li class=" leaf"><a href="index.html#hardening_block_storage">5.4.2. Hardening Block Storage</a></li></ol></li><li class=" leaf"><a href="index.html#networking">5.5. Networking</a><ol class="menu"><li class=" leaf"><a href="index.html#networking_architecture">5.5.1. Networking architecture</a></li><li class=" leaf"><a href="index.html#use_security_zones">5.5.2. Use security zones</a></li><li class=" leaf"><a href="index.html#networking_services">5.5.3. Networking Services</a></li><li class=" leaf"><a href="index.html#l3_routing_and_nat">5.5.4. L3 routing and NAT</a></li><li class=" leaf"><a href="index.html#quality_of_service_qos">5.5.5. Quality of Service (QoS)</a></li><li class=" leaf"><a href="index.html#hardening_the_networking_service">5.5.6. Hardening the Networking Service</a></li></ol></li></ol></li><li class=" leaf"><a href="index.html#using_director_to_configure_security_hardening">6. Using director to configure security hardening</a><ol class="menu"><li class=" leaf"><a href="index.html#use_ssh_banner_text">6.1. Use SSH banner text</a></li><li class=" leaf"><a href="index.html#audit_for_system_events">6.2. Audit for system events</a></li><li class=" leaf"><a href="index.html#manage_firewall_rules">6.3. Manage firewall rules</a></li><li class=" leaf"><a href="index.html#intrusion_detection_with_aide">6.4. Intrusion detection with AIDE</a><ol class="menu"><li class=" leaf"><a href="index.html#using_complex_aide_rules">6.4.1. Using complex AIDE rules</a></li><li class=" leaf"><a href="index.html#additional_aide_values">6.4.2. Additional AIDE values</a></li><li class=" leaf"><a href="index.html#cron_configuration_for_aide">6.4.3. Cron configuration for AIDE</a></li><li class=" leaf"><a href="index.html#considering_the_effect_of_system_upgrades">6.4.4. Considering the effect of system upgrades</a></li></ol></li><li class=" leaf"><a href="index.html#review_securetty">6.5. Review SecureTTY</a></li><li class=" leaf"><a href="index.html#cadf_auditing_for_identity_service">6.6. CADF auditing for Identity Service</a></li><li class=" leaf"><a href="index.html#review_the_login_defs_values">6.7. Review the login.defs values</a></li></ol></li><li class=" leaf"><a href="index.html#hardening_the_dashboard_service">7. Hardening the Dashboard service</a><ol class="menu"><li class=" leaf"><a href="index.html#planning_dashboard_deployment">7.1. Planning Dashboard deployment</a><ol class="menu"><li class=" leaf"><a href="index.html#selecting_a_domain_name">7.1.1. Selecting a domain name</a></li><li class=" leaf"><a href="index.html#configure_allowed_hosts">7.1.2. Configure ALLOWED_HOSTS</a></li></ol></li><li class=" leaf"><a href="index.html#understanding_common_web_server_vulnerabilities">7.2. Understanding common web server vulnerabilities</a><ol class="menu"><li class=" leaf"><a href="index.html#cross_site_scripting_xss">7.2.1. Cross Site Scripting (XSS)</a></li><li class=" leaf"><a href="index.html#cross_site_request_forgery_csrf">7.2.2. Cross Site Request Forgery (CSRF)</a></li><li class=" leaf"><a href="index.html#cross_frame_scripting_xfs">7.2.3. Cross-Frame Scripting (XFS)</a></li><li class=" leaf"><a href="index.html#using_https_encryption_for_dashboard_traffic">7.2.4. Using HTTPS encryption for Dashboard traffic</a></li><li class=" leaf"><a href="index.html#http_strict_transport_security_hsts">7.2.5. HTTP Strict Transport Security (HSTS)</a></li></ol></li><li class=" leaf"><a href="index.html#caching_the_dashboard_content">7.3. Caching the Dashboard content</a><ol class="menu"><li class=" leaf"><a href="index.html#front_end_caching">7.3.1. Front-end caching</a></li><li class=" leaf"><a href="index.html#session_backend">7.3.2. Session backend</a></li></ol></li><li class=" leaf"><a href="index.html#reviewing_the_secret_key">7.4. Reviewing the secret key</a></li><li class=" leaf"><a href="index.html#configuring_session_cookies">7.5. Configuring session cookies</a></li><li class=" leaf"><a href="index.html#static_media">7.6. Static media</a></li><li class=" leaf"><a href="index.html#validating_password_complexity">7.7. Validating password complexity</a></li><li class=" leaf"><a href="index.html#enforce_the_administrator_password_check">7.8. Enforce the administrator password check</a></li><li class=" leaf"><a href="index.html#disallow_iframe_embedding">7.9. Disallow iframe embedding</a></li><li class=" leaf"><a href="index.html#disable_password_reveal">7.10. Disable password reveal</a></li><li class=" leaf"><a href="index.html#displaying_a_login_banner_for_the_dashboard">7.11. Displaying a login banner for the Dashboard</a><ol class="menu"><li class=" leaf"><a href="index.html#customizing_the_theme">7.11.1. Customizing the theme</a></li></ol></li><li class=" leaf"><a href="index.html#limiting_the_size_of_file_uploads">7.12. Limiting the size of file uploads</a></li><li class=" leaf"><a href="index.html#debugging_the_dashboard_service">7.13. Debugging the Dashboard service</a></li></ol></li><li class=" leaf"><a href="index.html#hardening_the_shared_file_system_manila">8. Hardening the Shared File System (Manila)</a><ol class="menu"><li class=" leaf"><a href="index.html#security_considerations_for_manila">8.1. Security considerations for manila</a></li><li class=" leaf"><a href="index.html#network_and_security_models_for_manila">8.2. Network and security models for manila</a></li><li class=" leaf"><a href="index.html#share_backend_modes">8.3. Share backend modes</a></li><li class=" leaf"><a href="index.html#networking_requirements_for_manila">8.4. Networking requirements for manila</a></li><li class=" leaf"><a href="index.html#security_services_with_manila">8.5. Security services with manila</a><ol class="menu"><li class=" leaf"><a href="index.html#introduction_to_security_services">8.5.1. Introduction to security services</a></li><li class=" leaf"><a href="index.html#security_services_management">8.5.2. Security services management</a></li></ol></li><li class=" leaf"><a href="index.html#share_access_control">8.6. Share access control</a></li><li class=" leaf"><a href="index.html#share_type_access_control">8.7. Share type access control</a></li><li class=" leaf"><a href="index.html#policies_2">8.8. Policies</a></li></ol></li><li class=" leaf"><a href="index.html#object_storage">9. Object Storage</a><ol class="menu"><li class=" leaf"><a href="index.html#network_security">9.1. Network security</a></li><li class=" leaf"><a href="index.html#general_service_security">9.2. General service security</a><ol class="menu"><li class=" leaf"><a href="index.html#run_services_as_non_root_user">9.2.1. Run services as non-root user</a></li><li class=" leaf"><a href="index.html#file_permissions">9.2.2. File permissions</a></li></ol></li><li class=" leaf"><a href="index.html#securing_storage_services">9.3. Securing storage services</a><ol class="menu"><li class=" leaf"><a href="index.html#object_storage_account_terminology">9.3.1. Object Storage account terminology</a></li></ol></li><li class=" leaf"><a href="index.html#securing_proxy_services">9.4. Securing proxy services</a><ol class="menu"><li class=" leaf"><a href="index.html#http_listening_port">9.4.1. HTTP listening port</a></li><li class=" leaf"><a href="index.html#load_balancer">9.4.2. Load balancer</a></li></ol></li><li class=" leaf"><a href="index.html#object_storage_authentication">9.5. Object Storage authentication</a><ol class="menu"><li class=" leaf"><a href="index.html#keystone">9.5.1. Keystone</a></li></ol></li><li class=" leaf"><a href="index.html#encrypt_at_rest_swift_objects">9.6. Encrypt at-rest swift objects</a></li><li class=" leaf"><a href="index.html#additional_items">9.7. Additional items</a></li></ol></li><li class=" leaf"><a href="index.html#monitoring_and_logging">10. Monitoring and Logging</a><ol class="menu"><li class=" leaf"><a href="index.html#harden_the_monitoring_infrastructure">10.1. Harden the monitoring infrastructure</a></li><li class=" leaf"><a href="index.html#example_events_to_monitor">10.2. Example events to monitor</a></li></ol></li><li class=" leaf"><a href="index.html#data_privacy_for_projects">11. Data privacy for Projects</a><ol class="menu"><li class=" leaf"><a href="index.html#data_privacy_concerns">11.1. Data privacy concerns</a><ol class="menu"><li class=" leaf"><a href="index.html#data_residency">11.1.1. Data residency</a></li><li class=" leaf"><a href="index.html#data_disposal">11.1.2. Data disposal</a></li><li class=" leaf"><a href="index.html#data_not_securely_erased">11.1.3. Data not securely erased</a></li><li class=" leaf"><a href="index.html#instance_memory_scrubbing">11.1.4. Instance memory scrubbing</a></li><li class=" leaf"><a href="index.html#encrypting_cinder_volume_data">11.1.5. Encrypting cinder volume data</a></li><li class=" leaf"><a href="index.html#image_service_delay_delete_features">11.1.6. Image service delay delete features</a></li><li class=" leaf"><a href="index.html#compute_soft_delete_features">11.1.7. Compute soft delete features</a></li><li class=" leaf"><a href="index.html#ephemeral_storage_for_compute_instances">11.1.8. Ephemeral storage for Compute instances</a></li></ol></li><li class=" leaf"><a href="index.html#security_hardening_for_bare_metal_provisioning">11.2. Security hardening for bare metal provisioning</a><ol class="menu"><li class=" leaf"><a href="index.html#hardware_identification">11.2.1. Hardware identification</a></li></ol></li><li class=" leaf"><a href="index.html#data_encryption">11.3. Data encryption</a><ol class="menu"><li class=" leaf"><a href="index.html#volume_encryption">11.3.1. Volume encryption</a></li><li class=" leaf"><a href="index.html#object_storage_objects">11.3.2. Object Storage objects</a></li><li class=" leaf"><a href="index.html#block_storage_performance_and_back_ends">11.3.3. Block Storage performance and back ends</a></li><li class=" leaf"><a href="index.html#network_data">11.3.4. Network data</a></li></ol></li><li class=" leaf"><a href="index.html#key_management">11.4. Key management</a></li></ol></li><li class=" leaf"><a href="index.html#managing_instance_security">12. Managing instance security</a><ol class="menu"><li class=" leaf"><a href="index.html#supplying_entropy_to_instances">12.1. Supplying entropy to instances</a></li><li class=" leaf"><a href="index.html#scheduling_instances_to_nodes">12.2. Scheduling instances to nodes</a></li><li class=" leaf"><a href="index.html#using_trusted_images">12.3. Using trusted images</a><ol class="menu"><li class=" leaf"><a href="index.html#creating_images">12.3.1. Creating images</a></li><li class=" leaf"><a href="index.html#verifying_image_signatures">12.3.2. Verifying image signatures</a></li></ol></li><li class=" leaf"><a href="index.html#migrating_instances">12.4. Migrating instances</a><ol class="menu"><li class=" leaf"><a href="index.html#live_migration_risks">12.4.1. Live migration risks</a></li><li class=" leaf"><a href="index.html#live_migration_mitigations">12.4.2. Live migration mitigations</a></li></ol></li><li class=" leaf"><a href="index.html#monitoring_alerting_and_reporting">12.5. Monitoring, alerting, and reporting</a><ol class="menu"><li class=" leaf"><a href="index.html#updates_and_patches">12.5.1. Updates and patches</a></li><li class=" leaf"><a href="index.html#firewalls_and_instance_profiles">12.5.2. Firewalls and instance profiles</a></li><li class=" leaf"><a href="index.html#accessing_the_instance_console">12.5.3. Accessing the instance console</a></li><li class=" leaf"><a href="index.html#certificate_injection">12.5.4. Certificate injection</a></li></ol></li></ol></li><li class=" leaf"><a href="index.html#message_queuing">13. Message queuing</a><ol class="menu"><li class=" leaf"><a href="index.html#messaging_security">13.1. Messaging security</a></li><li class=" leaf"><a href="index.html#messaging_transport_security">13.2. Messaging transport security</a><ol class="menu"><li class=" leaf"><a href="index.html#rabbitmq_server_ssl_configuration">13.2.1. RabbitMQ server SSL configuration</a></li></ol></li><li class=" leaf"><a href="index.html#queue_authentication_and_access_control">13.3. Queue authentication and access control</a><ol class="menu"><li class=" leaf"><a href="index.html#openstack_service_configuration_for_rabbitmq">13.3.1. OpenStack service configuration for RabbitMQ</a></li><li class=" leaf"><a href="index.html#openstack_service_configuration_for_qpid">13.3.2. OpenStack service configuration for Qpid</a></li></ol></li><li class=" leaf"><a href="index.html#message_queue_process_isolation_and_policy">13.4. Message queue process isolation and policy</a><ol class="menu"><li class=" leaf"><a href="index.html#namespaces">13.4.1. Namespaces</a></li></ol></li></ol></li><li class=" leaf"><a href="index.html#hardening_api_endpoints">14. Hardening API endpoints</a><ol class="menu"><li class=" leaf"><a href="index.html#api_endpoint_configuration_recommendations">14.1. API endpoint configuration recommendations</a><ol class="menu"><li class=" leaf"><a href="index.html#internal_api_communications">14.1.1. Internal API communications</a></li><li class=" leaf"><a href="index.html#configure_internal_urls_in_the_identity_service_catalog">14.1.2. Configure internal URLs in the Identity service catalog</a></li><li class=" leaf"><a href="index.html#configure_applications_for_internal_urls">14.1.3. Configure applications for internal URLs</a></li><li class=" leaf"><a href="index.html#paste_and_middleware">14.1.4. Paste and middleware</a></li><li class=" leaf"><a href="index.html#api_endpoint_process_isolation_and_policy">14.1.5. API endpoint process isolation and policy</a></li><li class=" leaf"><a href="index.html#namespaces_2">14.1.6. Namespaces</a></li><li class=" leaf"><a href="index.html#network_policy">14.1.7. Network policy</a></li><li class=" leaf"><a href="index.html#mandatory_access_controls">14.1.8. Mandatory access controls</a></li><li class=" leaf"><a href="index.html#api_endpoint_rate_limiting">14.1.9. API endpoint rate-limiting</a></li></ol></li></ol></li><li class=" leaf"><a href="index.html#idm140085722246944">Legal Notice</a></li></ol>  </div>
</nav>


  <div class="doc-wrapper">
    <div class="panel-pane pane-page-title"  >
  
      
  
  <h1 class="title" itemprop="name">Security and Hardening Guide</h1>
  
  </div>
<div class="panel-pane pane-page-body"  >
  
      
  
  <div class="body"><div xml:lang="en-US" class="book" id="idm140085713867152"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat OpenStack Platform</span> <span class="productnumber">16.1</span></div><div><h2 class="subtitle">Good Practices, Compliance, and Security Hardening</h2></div><div><div xml:lang="en-US" class="authorgroup"><div class="author"><h3 class="author"><span class="firstname">OpenStack</span> <span class="othername">Documentation</span> <span class="surname">Team</span></h3><code class="email"><a class="email" href="mailto:rhos-docs@redhat.com">rhos-docs@redhat.com</a></code></div></div></div><div><a href="index.html#idm140085722246944">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				This guide provides good practice advice and conceptual information about hardening the security of a Red Hat OpenStack Platform environment.
			</div></div></div></div><hr/></div><section class="chapter" id="introduction"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Introduction</h1></div></div></div><p>
			Security is an important concern and should be a strong focus of any deployment. Data breaches and downtime are costly and difficult to manage, laws might require passing audits and compliance processes, and projects can expect a certain level of privacy and security for their data. This section provides a general introduction to security in Red Hat OpenStack Platform, as well as the role of Red Hat in supporting your system’s security.
		</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				This document provides advice and good practice information for hardening the security of your Red Hat OpenStack Platform deployment, with a focus on director-based deployments. While following the instructions in this guide will help harden the security of your environment, we do not guarantee security or compliance from following these recommendations.
			</p></div></div><section class="section" id="basic_openstack_concepts"><div class="titlepage"><div><div><h2 class="title">1.1. Basic OpenStack Concepts</h2></div></div></div><section class="section" id="what_is_openstack"><div class="titlepage"><div><div><h3 class="title">1.1.1. What is OpenStack?</h3></div></div></div><p>
					To understand what OpenStack is, it is necessary to first understand what a <span class="emphasis"><em>cloud</em></span> is. The simple version is that cloud computing is about making processing power, disk storage, database processing, and networking services available for consumption, allowing customers to interact with them programmatically through a set of APIs.
				</p><p>
					Compare this approach with a traditional hypervisor product that is focused on hosting virtual machines (VM): the VMs are used in the same way as traditional physical standalone servers, where one sysadmin will provision the virtual machine, and maybe a different sysadmin logs in and installs the database application, or other software. The VM then runs for a few years, stores the data locally on (or an attached SAN), and is backed up every day.
				</p><p>
					It is correct that OpenStack also operates virtual machines, but the management approach differs greatly from that described above. Instances should be ready to use once they are created, with the application ready, and no further configuration needed. If an issue is encountered, you should deploy a new replacement instance, rather than spending time troubleshooting the failures.
				</p><p>
					OpenStack has a whole selection of services that work together to accomplish what’s been described above, but that is only one of the many use cases.
				</p><p>
					For more information, see the OpenStack Product Guide: <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/product_guide/">https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/product_guide/</a>
				</p></section><section class="section" id="key_terms"><div class="titlepage"><div><div><h3 class="title">1.1.2. Key terms</h3></div></div></div><p>
					Before proceeding to the rest of this guide, it is recommended you become familiar with some of the OpenStack-specific terminology that a new user would encounter early on.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">instance</code>: This is a virtual machine. These are hosted on a dedicated hypervisor server, called a Compute node.
						</li><li class="listitem">
							<code class="literal">project</code>: A partitioned collection of OpenStack resources, combining users, instances, and virtual networks (among others). Projects allow you to keep one collection of users and instances separate from another collection. This is useful for OpenStack deployments that host multiple different departments or organizations. An administrator must specify a destination project for each user or instance they create.
						</li><li class="listitem">
							<code class="literal">image</code>: An operating system template. When you create an instance, you will need to decide which operating system it will run. OpenStack allows you to choose an operating system template, called an <span class="emphasis"><em>image</em></span>. Pre-built images are available for CentOS and Red Hat Enterprise Linux.
						</li><li class="listitem">
							<code class="literal">flavor</code>: A virtual machine hardware template. Rather than having to specify how much RAM and CPU to allocate each time you build an instance, you can define a <span class="emphasis"><em>flavor</em></span> to pre-configure these values. Your Red Hat OpenStack Platform deployment will already have flavors defined, from <code class="literal">m1.tiny</code> with 1GB RAM, through to the <code class="literal">m1.xlarge</code> with 16GB.
						</li><li class="listitem">
							<code class="literal">security group</code>: These are firewall rules. Each project can have its own <span class="emphasis"><em>security group</em></span>, defining the traffic that is allowed to enter or leave the network.
						</li></ul></div></section><section class="section" id="configuration_management_with_the_director"><div class="titlepage"><div><div><h3 class="title">1.1.3. Configuration Management with the Director</h3></div></div></div><p>
					The Red Hat OpenStack Platform director lets you deploy and manage an OpenStack environment using YAML templates. This allows you to easily get a view of how your settings have been configured. The OpenStack configuration files are managed by Puppet, so any unmanaged changes are overwritten whenever you run the <code class="literal">openstack overcloud deploy</code> process. This allows you to have some assurance that your YAML configuration represents reality at a particular point in time. This approach also allows you to have a consistent, auditable, and repeatable approach to security configuration management in your OpenStack deployment. For disaster recovery, director’s use of configuration management and orchestration also improves the recovery time, as the cloud deployment and configuration is codified.
				</p><p>
					In addition, you can add your own customizations using a custom environment file that gets passed through at deployment time.
				</p><p>
					For more information, see the Director guide: <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/director_installation_and_usage/">https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/director_installation_and_usage/</a>
				</p></section></section><section class="section" id="security_boundaries_and_threats"><div class="titlepage"><div><div><h2 class="title">1.2. Security Boundaries and Threats</h2></div></div></div><p>
				To understand the security risks that present themselves to your cloud deployment, it can be helpful to abstractly think about it as a collection of components that have a common function, users, and shared security concerns, which this guide refers to as <span class="emphasis"><em>security zones</em></span>. Threat actors and vectors are classified based on their motivation and access to resources. The intention is to provide you a sense of the security concerns for each zone, depending on your objectives.
			</p><section class="section" id="security_zones"><div class="titlepage"><div><div><h3 class="title">1.2.1. Security Zones</h3></div></div></div><p>
					A security zone comprises users, applications, servers or networks that share common trust requirements and expectations within a system. Typically they share the same authentication and authorization requirements and users. Although you might refine these zone definitions further, this guide refers to the following distinct security zones which form the bare minimum that is required to deploy a security-hardened OpenStack cloud. These security zones are listed below from least to most trusted:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<span class="strong strong"><strong>Public zone</strong></span> - External public-facing APIs, neutron external networks (Floating IP and SNAT for instance external connectivity).
						</li><li class="listitem">
							<span class="strong strong"><strong>Guest zone</strong></span> - Project networks (VLAN or VXLAN).
						</li><li class="listitem">
							<span class="strong strong"><strong>Storage access zone</strong></span> - Storage Management (storage monitoring and clustering), Storage (SAN/object/block storage).
						</li><li class="listitem">
							<span class="strong strong"><strong>Management zone</strong></span> - Typically includes the undercloud, host operating system, hardware, and networking, Undercloud control plane (provisioning/management of overcloud hosts), overcloud sysadmin/monitoring/backup
						</li><li class="listitem">
							<span class="strong strong"><strong>Admin zone</strong></span> - Allows endpoint access through the overcloud, Internal APIs, including infrastructure APIs, DB, RPC (will vary depending on the different API access roles for projects on the overcloud). Admin access to the overcloud should not require management access to the undercloud and hardware.
						</li></ul></div><p>
					These security zones can be mapped separately, or combined to represent the majority of the possible areas of trust within a given OpenStack deployment. For example, some deployment topologies might consist of a combination of zones on one physical network while other topologies have these zones separated. In each case, you should be aware of the appropriate security concerns. Security zones should be mapped out against your specific OpenStack deployment topology. The zones and their trust requirements will vary depending upon whether the cloud instance is public, private, or hybrid.
				</p><section class="section" id="public_zone"><div class="titlepage"><div><div><h4 class="title">1.2.1.1. Public zone</h4></div></div></div><p>
						The public security zone is an entirely untrusted area of the cloud infrastructure. It can refer to the Internet as a whole or simply to networks that are external to your Red Hat OpenStack Platform deployment which you have no authority. Any data with confidentiality or integrity requirements that traverses this zone should be protected using compensating controls.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Always consider this zone to be untrusted.
						</p></div></div></section><section class="section" id="guest_zone"><div class="titlepage"><div><div><h4 class="title">1.2.1.2. Guest zone</h4></div></div></div><p>
						Typically used for Compute instance-to-instance traffic, the guest security zone handles compute data generated by instances on the cloud, but not services that support the operation of the cloud, such as API calls.
					</p><p>
						Public and private cloud providers that do not have stringent controls on instance use or allow unrestricted internet access to instances should consider this zone to be untrusted. Private cloud providers might want to consider this network as internal and trusted only if the proper controls are implemented to assert that the instances and all associated projects (including the underlying hardware and internal networks) can be trusted.
					</p></section><section class="section" id="storage_access_zone"><div class="titlepage"><div><div><h4 class="title">1.2.1.3. Storage access zone</h4></div></div></div><p>
						Most of the data transmitted across this network requires high levels of integrity and confidentiality. In some cases, depending on the type of deployment there might also be strong availability requirements.
					</p><p>
						The storage access network should not be accessible outside of the deployment unless absolutely required. With the exception replication requirements, this network is assumed to not be accessible from outside the cloud, other than by storage appliances, and components deployed into this zone should be treated as sensitive from a security perspective.
					</p><p>
						The trust level of this network is heavily dependent on deployment decisions, therefore this guide does not assign a default level of trust to this zone.
					</p></section><section class="section" id="control_plane"><div class="titlepage"><div><div><h4 class="title">1.2.1.4. Control Plane</h4></div></div></div><p>
						The control plane is where services interact. The networks in this zone transport confidential data such as configuration parameters, usernames, and passwords. Command and Control traffic typically resides in this zone, which necessitates strong integrity requirements. Access to this zone should be highly restricted and monitored. At the same time, this zone should still employ all of the security good practices described in this guide.
					</p><p>
						In most deployments this zone is considered trusted. However, when considering an OpenStack deployment, there are many systems that bridge this zone with others, potentially reducing the level of trust you can place on this zone.
					</p></section><section class="section" id="management_network"><div class="titlepage"><div><div><h4 class="title">1.2.1.5. Management network</h4></div></div></div><p>
						The management network is used for system administration, monitoring, and/or backup, but is a place where no OpenStack APIs or control interfaces are hosted. This location is where you would place the PXE network used for an on-premises and/or private Red Hat OpenStack Platform deployment, including any hardware management interfaces, network equipment and underlying operating system access for the director and compute/storage/management nodes.
					</p></section></section></section><section class="section" id="connecting_security_zones"><div class="titlepage"><div><div><h2 class="title">1.3. Connecting security zones</h2></div></div></div><p>
				Any component that spans across multiple security zones with different trust levels or authentication requirements must be carefully configured. These connections are often the weak points in network architecture, and should always be configured to meet the security requirements of the highest trust level of any of the zones being connected. In many cases the security controls the connected zones should be a primary concern due to the likelihood of attack. The points where zones meet do present an additional attack service, and adds opportunities for attackers to migrate their attack to more sensitive parts of the deployment.
			</p><p>
				In some cases, OpenStack operators might want to consider securing the integration point at a higher standard than any of the zones in which it resides. Given the above example of an API endpoint, an adversary could potentially target the Public API endpoint from the public zone, leveraging this foothold in the hopes of compromising or gaining access to the internal or admin API within the management zone if these zones were not completely isolated.
			</p><p>
				The design of OpenStack is such that separation of security zones is difficult. Because core services will usually span at least two zones, special consideration must be given when applying security controls to them.
			</p></section><section class="section" id="threat_classification_actors_and_attack_vectors"><div class="titlepage"><div><div><h2 class="title">1.4. Threat classification, actors, and attack vectors</h2></div></div></div><p>
				Most types of cloud deployment, public, private, or hybrid, are exposed to some form of attack. This section categorizes attackers and summarizes potential types of attacks in each security zone.
			</p><section class="section" id="threat_actors"><div class="titlepage"><div><div><h3 class="title">1.4.1. Threat actors</h3></div></div></div><p>
					A threat actor is an abstract way to refer to a class of adversary that you might attempt to defend against. The more capable the actor, the more rigorous the security controls that are required for successful attack mitigation and prevention. Security is a matter of balancing convenience, defense, and cost, based on requirements. In some cases it will not be possible to secure a cloud deployment against all of the threat actors described here. When deploying an OpenStack cloud, you must decide where the balance lies for your deployment and usage.
				</p><p>
					As part of your risk assessment, you must also consider the type of data you store and any accessible resources, as this will also influence certain actors. However, even if your data is not appealing to threat actors, they could simply be attracted to your computing resources, for example, to participate in a botnet, or to run unauthorized cryptocurrency mining.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Nation-State Actors - This is the most capable adversary. Nation-state actors can bring tremendous resources against a target. They have capabilities beyond that of any other actor. It is very difficult to defend against these actors without incredibly stringent controls in place, both human and technical.
						</li><li class="listitem">
							Serious Organized Crime - This class describes highly capable and financially driven groups of attackers. They are able to fund in-house exploit development and target research. In recent years the rise of organizations such as the Russian Business Network, a massive cyber-criminal enterprise, has demonstrated how cyber attacks have become a commodity. Industrial espionage falls within the serious organized crime group.
						</li><li class="listitem">
							Highly Capable Groups - This refers to ‘Hacktivist’ type organizations who are not typically commercially funded but can pose a serious threat to service providers and cloud operators.
						</li><li class="listitem">
							Motivated Individuals Acting alone - these attackers come in many guises, such as rogue or malicious employees, disaffected customers, or small-scale industrial espionage.
						</li><li class="listitem">
							Script Kiddies - These attackers don’t target a specific organization, but run automated vulnerability scanning and exploitation. They are often only a nuisance, however compromise by one of these actors is a major risk to an organization’s reputation.
						</li></ul></div><p>
					The following practices can help mitigate some of the risks identified above:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Security updates - You must consider the end-to-end security posture of your underlying physical infrastructure, including networking, storage, and server hardware. These systems will require their own security hardening practices. For your Red Hat OpenStack Platform deployment, you should have a plan to regularly test and deploy security updates.
						</li><li class="listitem">
							Access management - When granting system access to individuals, you should apply the <span class="emphasis"><em>principle of least privilege</em></span>, and only grant them the granular system privileges they actually need. You can help enforce this policy using the practice of AAA (access, authorization, and accounting). This approach can also help mitigate the risks of both malicious actors and typographical errors from system administrators.
						</li><li class="listitem">
							Manage insiders - You can help mitigate the threat of malicious insiders by applying careful assignment of role-based access control (minimum required access), using encryption on internal interfaces, and using authentication/authorization security (such as centralized identity management). You can also consider additional non-technical options, such as separation of duties and irregular job role rotation.
						</li></ul></div><section class="section" id="outbound_attacks_and_reputational_risk"><div class="titlepage"><div><div><h4 class="title">1.4.1.1. Outbound Attacks and Reputational Risk</h4></div></div></div><p>
						Careful consideration should be given to potential outbound abuse from a cloud deployment. Cloud deployments tend to have lots of resources available; an attacker who has established a point of presence within the cloud, either through hacking or entitled access, such as rogue employee, can use these resources for malicious purposes. Clouds with Compute services make for ideal DDoS and brute force engines. The issue is especially pressing for public clouds as their users are largely unaccountable, and can quickly spin up numerous disposable instances for outbound attacks. Methods of prevention include egress security groups, traffic inspection, intrusion detection systems, customer education and awareness, and fraud and abuse mitigation strategies. For deployments accessible by or with access to public networks, such as the Internet, processes and infrastructure should be in place to ideally detect, and also address outbound abuse.
					</p></section></section></section><section class="section" id="supporting_software"><div class="titlepage"><div><div><h2 class="title">1.5. Supporting software</h2></div></div></div><p>
				Underpinning the whole of the Red Hat solution stack is the secure software supply chain. A cornerstone of Red Hat’s security strategy, the goal of this strategically important set of practices and procedures is to deliver solutions that have security built-in upfront and supported over time. Specific steps which Red Hat take include:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Maintaining upstream relationships and community involvement to help focus on security from the start.
					</li><li class="listitem">
						Selecting and configuring packages based on their security and performance track records.
					</li><li class="listitem">
						Building binaries from associated source code (instead of simply accepting upstream builds).
					</li><li class="listitem">
						Applying a suite of inspection and quality assurance tools to prevent an extensive array of potential security issues and regressions.
					</li><li class="listitem">
						Digitally signing all released packages and distributing them through cryptographically authenticated distribution channels.
					</li><li class="listitem">
						Providing a single, unified mechanism for distributing patches and updates. The Red Hat Enterprise Linux and KVM components which underlie OpenStack are also Common Criteria certified. This involves a third party auditor performing physical site visits, and interviewing staff about adhering to good practices, for example, about the supply chain or development.
					</li></ul></div><p>
				In addition, Red Hat maintains a dedicated security team that analyzes threats and vulnerabilities against our products, and provides relevant advice and updates through the Customer Portal. This team determines which issues are important, as opposed to those that are mostly theoretical problems. The Red Hat Product Security team maintains expertise in, and makes extensive contributions to the upstream communities associated with our subscription products. A key part of the process, Red Hat Security Advisories, deliver proactive notification of security flaws affecting Red Hat solutions – along with patches that are frequently distributed on the same day the vulnerability is first published.
			</p></section><section class="section" id="system_documentation"><div class="titlepage"><div><div><h2 class="title">1.6. System Documentation</h2></div></div></div><section class="section" id="system_roles_and_types"><div class="titlepage"><div><div><h3 class="title">1.6.1. System Roles and Types</h3></div></div></div><p>
					The two broadly defined types of nodes that generally make up an OpenStack installation are:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<span class="strong strong"><strong>Infrastructure nodes</strong></span> - These run the cloud-related services, such as the OpenStack API providers (such as neutron), the message queuing service, storage management, monitoring, networking, and other services required to support the operation and provisioning of the cloud.
						</li><li class="listitem">
							<span class="strong strong"><strong>Compute, storage, or other resource nodes</strong></span> - Provide compute and storage capacity for instances running on your cloud.
						</li></ul></div></section><section class="section" id="system_inventory"><div class="titlepage"><div><div><h3 class="title">1.6.2. System Inventory</h3></div></div></div><p>
					Documentation should provide a general description of the OpenStack environment and cover all systems used (for example, production, development, or test). Documenting system components, networks, services, and software often provides the perspective needed to thoroughly cover and consider security concerns, attack vectors, and possible security zone bridging points. A system inventory might need to capture ephemeral resources such as virtual machines or virtual disk volumes that would otherwise be persistent resources in a traditional IT environment.
				</p></section><section class="section" id="hardware_inventory"><div class="titlepage"><div><div><h3 class="title">1.6.3. Hardware Inventory</h3></div></div></div><p>
					Clouds without stringent compliance requirements for written documentation might benefit from having a Configuration Management Database (CMDB). CMDBs are normally used for hardware asset tracking and overall life-cycle management. By leveraging a CMDB, an organization can quickly identify cloud infrastructure hardware such as compute nodes, storage nodes, or network devices. A CMDB can assist in identifying assets that exist on the network which might have vulnerabilities due to inadequate maintenance, inadequate protection, or being displaced and forgotten. An OpenStack provisioning system can provide some basic CMDB functions if the underlying hardware supports the necessary auto-discovery features.
				</p></section><section class="section" id="software_inventory"><div class="titlepage"><div><div><h3 class="title">1.6.4. Software Inventory</h3></div></div></div><p>
					As with hardware, all software components within the OpenStack deployment should be documented. Examples include:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							System databases, such as MySQL or mongoDB
						</li><li class="listitem">
							OpenStack software components, such as Identity or Compute
						</li><li class="listitem">
							Supporting components, such as load-balancers, reverse proxies, DNS, or DHCP services An authoritative list of software components might be critical when assessing the impact of a compromise or vulnerability in a library, application or class of software.
						</li></ul></div></section><section class="section" id="network_topology"><div class="titlepage"><div><div><h3 class="title">1.6.5. Network Topology</h3></div></div></div><p>
					A network topology should be provided with highlights specifically calling out the data flows and bridging points between the security zones. Network ingress and egress points should be identified along with any OpenStack logical system boundaries. Multiple diagrams might be needed to provide complete visual coverage of the system. A network topology document should include virtual networks created on behalf of projects by the system along with virtual machine instances and gateways created by OpenStack, as well as physical and overlay networks used to provide communication between nodes and external networks.
				</p></section><section class="section" id="services_protocols_and_ports"><div class="titlepage"><div><div><h3 class="title">1.6.6. Services, Protocols, and Ports</h3></div></div></div><p>
					Knowing information about organizational assets is typically a good practice. An assets table can assist with validating security requirements and help to maintain standard security components such as firewall configuration, service port conflicts, security remediation areas, and compliance. Additionally, the table can help identify the relationship between OpenStack components. The table might include:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Services, protocols, and ports being used in the OpenStack deployment.
						</li><li class="listitem">
							An overview of all services running within the cloud infrastructure.
						</li></ul></div><p>
					It is recommended that OpenStack deployments maintain a record of this information. For a list of ports required for a director deployment, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/firewall_rules_for_red_hat_openstack_platform/">https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/firewall_rules_for_red_hat_openstack_platform/</a>.
				</p><p>
					The port configuration is also contained in the heat templates of each service. You can extract this information with the following command:
				</p><pre class="screen">find -L /usr/share/openstack-tripleo-heat-templates/ -type f | while read f;do if `grep -q firewall_rules $f`;then echo -e "\n $f " ; grep firewall_rules "$f" -A10;fi; done</pre></section></section></section><section class="chapter" id="encryption_and_key_management"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Encryption and Key Management</h1></div></div></div><p>
			Inter-device communication is a serious security concern. Secure methods of communication over a network are becoming increasingly important, as demonstrated by significant vulnerabilities such as Heartbleed, or more advanced attacks such as BEAST and CRIME. However, encryption is only one part of a larger security strategy. The compromise of an endpoint means that an attacker no longer needs to break the encryption used, but is able to view and manipulate messages as they are processed by the system.
		</p><p>
			This chapter will review features around configuring Transport Layer Security (TLS) to secure both internal and external resources, and will call out specific categories of systems that should be given specific attention.
		</p><p>
			OpenStack components communicate with each other using various protocols and the communication might involve sensitive or confidential data. An attacker might try to eavesdrop on the channel in order to get access to sensitive information. It is therefore important that all the components must communicate with each other using a secured communication protocol.
		</p><section class="section" id="introduction_to_tls_and_ssl"><div class="titlepage"><div><div><h2 class="title">2.1. Introduction to TLS and SSL</h2></div></div></div><p>
				There are situations where there is a security requirement to assure the confidentiality or integrity of network traffic in an OpenStack deployment. You would generally configure this using cryptographic measures, such as the TLS protocol. In a typical deployment, all traffic transmitted over public networks should be security hardened, but security good practice expects that internal traffic must also be secured. It is insufficient to rely on security zone separation for protection. If an attacker gains access to the hypervisor or host resources, compromises an API endpoint, or any other service, they must not be able to easily inject or capture messages, commands, or otherwise affect the management capabilities of the cloud.
			</p><p>
				You should security harden all zones with TLS, including the management zone services and intra-service communications. TLS provides the mechanisms to ensure authentication, non-repudiation, confidentiality, and integrity of user communications to the OpenStack services, and between the OpenStack services themselves.
			</p><p>
				Due to the published vulnerabilities in the Secure Sockets Layer (SSL) protocols, consider using TLS 1.2 or higher in preference to SSL, and that SSL is disabled in all cases, unless you require compatibility with obsolete browsers or libraries.
			</p><section class="section" id="public_key_infrastructure"><div class="titlepage"><div><div><h3 class="title">2.1.1. Public Key Infrastructure</h3></div></div></div><p>
					Public Key Infrastructure (PKI) is a framework on which to provide encryption algorithms, cipher modes, and protocols for securing data and authentication. It consists of a set of systems and processes to ensure traffic can be sent encrypted while validating the identity of the parties. The PKI profile described here is the Internet Engineering Task Force (IETF) Public Key Infrastructure (PKIX) profile developed by the PKIX working group. The core components of PKI are:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Digital Certificates - Signed public key certificates are data structures that have verifiable data of an entity, its public key along with some other attributes. These certificates are issued by a Certificate Authority (CA). As the certificates are signed by a CA that is trusted, once verified, the public key associated with the entity is guaranteed to be associated with the said entity. The most common standard used to define these certificates is the X.509 standard. The X.509 v3 which is the current standard is described in detail in RFC5280, and updated by RFC6818. Certificates are issued by CAs as a mechanism to prove the identity of online entities. The CA digitally signs the certificate by creating a message digest from the certificate and encrypting the digest with its private key.
						</li><li class="listitem">
							End entity - The user, process, or system that is the subject of a certificate. The end entity sends its certificate request to a Registration Authority (RA) for approval. If approved, the RA forwards the request to a Certification Authority (CA). The Certification Authority verifies the request and if the information is correct, a certificate is generated and signed. This signed certificate is then send to a Certificate Repository.
						</li><li class="listitem">
							Relying party - The endpoint that receives the digitally signed certificate that is verifiable with reference to the public key listed on the certificate. The relying party should be in a position to verify the certificate up the chain, ensure that it is not present in the CRL and also must be able to verify the expiry date on the certificate.
						</li><li class="listitem">
							Certification Authority (CA) - CA is a trusted entity, both by the end party and the party that relies upon the certificate for certification policies, management handling, and certificate issuance.
						</li><li class="listitem">
							Registration Authority (RA) - An optional system to which a CA delegates certain management functions, this includes functions such as, authentication of end entities before they are issued a certificate by a CA.
						</li><li class="listitem">
							Certificate Revocation Lists (CRL) - A Certificate Revocation List (CRL) is a list of certificate serial numbers that have been revoked. End entities presenting these certificates should not be trusted in a PKI model. Revocation can happen because of several reasons for example, key compromise, CA compromise.
						</li><li class="listitem">
							CRL issuer - An optional system to which a CA delegates the publication of certificate revocation lists.
						</li><li class="listitem">
							Certificate Repository - The location where the end entity certificates and certificate revocation lists are stored and queried - sometimes referred to as the certificate bundle.
						</li></ul></div><p>
					It is strongly recommend you security harden all services using Public Key Infrastructure (PKI), including using TLS for API endpoints. It is impossible for the encryption or signing of transports or messages alone to solve all these problems. In addition, hosts themselves must be hardened and implement policies, namespaces, and other controls to protect their private credentials and keys. However, the challenges of key management and protection do not reduce the necessity of these controls, or lessen their importance.
				</p></section><section class="section" id="certification_authorities"><div class="titlepage"><div><div><h3 class="title">2.1.2. Certification Authorities</h3></div></div></div><p>
					Many organizations have an established Public Key Infrastructure with their own Certification Authority (CA), certificate policies, and management for which they should use to issue certificates for internal OpenStack users or services. Organizations in which the public security zone is Internet facing will additionally need certificates signed by a widely recognized public CA. For cryptographic communications over the management network, it is recommended one not use a public CA. Instead, the recommendation is that most deployments deploy their own internal CA.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Effective use of TLS relies on the deployment being given a domain or subdomain in DNS which can be used by either a wildcard, or series of specific certificates issues by either a public or internal CA. To ensure TLS certificates can be effectively validated, access to platform services would need to be through these DNS records.
					</p></div></div><p>
					It is recommended that the OpenStack cloud architect consider using separate PKI deployments for internal systems and customer facing services. This allows the cloud deployer to maintain control of their PKI infrastructure and makes requesting, signing and deploying certificates for internal systems easier. Advanced configurations might use separate PKI deployments for different security zones. This allows OpenStack operators to maintain cryptographic separation of environments, ensuring that certificates issued to one are not recognized by another.
				</p><p>
					Certificates used to support TLS on internet facing cloud endpoints (or customer interfaces where the customer is not expected to have installed anything other than standard operating system provided certificate bundles) should be provisioned using Certificate Authorities that are installed in the operating system certificate bundle.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						There are management, policy, and technical challenges around creating and signing certificates. This is an area where cloud architects or operators might wish to seek the advice of industry leaders and vendors in addition to the guidance recommended here.
					</p></div></div></section><section class="section" id="configuring_encryption_using_director"><div class="titlepage"><div><div><h3 class="title">2.1.3. Configuring Encryption using Director</h3></div></div></div><p>
					By default, the overcloud uses unencrypted endpoints for its services. This means that the overcloud configuration requires an additional environment file to enable SSL/TLS for its Public API endpoints. The <span class="emphasis"><em>Advanced Overcloud Customization</em></span> guide describes how to configure your SSL/TLS certificate and include it as a part of your overcloud creation process: <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/advanced_overcloud_customization/sect-enabling_ssltls_on_the_overcloud">https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/advanced_overcloud_customization/sect-enabling_ssltls_on_the_overcloud</a>
				</p></section><section class="section" id="tls_libraries"><div class="titlepage"><div><div><h3 class="title">2.1.4. TLS libraries</h3></div></div></div><p>
					Certain components, services, and applications within the OpenStack ecosystem can be configured to use TLS libraries. The TLS and HTTP services within OpenStack are typically implemented using OpenSSL, which has a module that has been validated for FIPS 140-2. However, consider that each application or service can still introduce weaknesses in how they use the OpenSSL libraries.
				</p></section><section class="section" id="deprecation_of_tls_1_0"><div class="titlepage"><div><div><h3 class="title">2.1.5. Deprecation of TLS 1.0</h3></div></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						FedRAMP-authorized systems are required to move away from TLS 1.0. The recommended level is 1.2, and 1.1 is acceptable only if broad compatibility is required. For more information, see <a class="link" href="https://www.fedramp.gov/assets/resources/documents/CSP_TLS_Requirements.pdf">https://www.fedramp.gov/assets/resources/documents/CSP_TLS_Requirements.pdf</a>.
					</p></div></div><p>
					For Red Hat OpenStack Platform 13 deployments, TLS 1.0 connections are not accepted by HAProxy, which handles TLS connections for TLS enabled APIs. This is implemented by the <code class="literal">no-tlsv10</code> option. For HA deployments with <code class="literal">InternalTLS</code> enabled, cross-node traffic on the controller plane is also encrypted. This includes RabbitMQ, MariaDB, and Redis, among others. MariaDB and Redis have deprecated TLS1.0, and the same deprecation for RabbitMQ is expected to be backported from upstream.
				</p><section class="section" id="checking_whether_tls_1_0_is_in_use"><div class="titlepage"><div><div><h4 class="title">2.1.5.1. Checking whether TLS 1.0 is in use</h4></div></div></div><p>
						You can use <code class="literal">cipherscan</code> to determine whether TLS 1.0 is being presented by your deployment. Cipherscan can be cloned from <a class="link" href="https://github.com/mozilla/cipherscan">https://github.com/mozilla/cipherscan</a>. This example output demonstrates results received from <code class="literal">horizon</code>:
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Run <code class="literal">cipherscan</code> from a non-production system, as it might install additional dependencies when you first run it.
						</p></div></div><pre class="screen">$ ./cipherscan https://openstack.lab.local
..............................
Target: openstack.lab.local:443

prio  ciphersuite                  protocols  pfs                 curves
1     ECDHE-RSA-AES128-GCM-SHA256  TLSv1.2    ECDH,P-256,256bits  prime256v1
2     ECDHE-RSA-AES256-GCM-SHA384  TLSv1.2    ECDH,P-256,256bits  prime256v1
3     DHE-RSA-AES128-GCM-SHA256    TLSv1.2    DH,1024bits         None
4     DHE-RSA-AES256-GCM-SHA384    TLSv1.2    DH,1024bits         None
5     ECDHE-RSA-AES128-SHA256      TLSv1.2    ECDH,P-256,256bits  prime256v1
6     ECDHE-RSA-AES256-SHA384      TLSv1.2    ECDH,P-256,256bits  prime256v1
7     ECDHE-RSA-AES128-SHA         TLSv1.2    ECDH,P-256,256bits  prime256v1
8     ECDHE-RSA-AES256-SHA         TLSv1.2    ECDH,P-256,256bits  prime256v1
9     DHE-RSA-AES128-SHA256        TLSv1.2    DH,1024bits         None
10    DHE-RSA-AES128-SHA           TLSv1.2    DH,1024bits         None
11    DHE-RSA-AES256-SHA256        TLSv1.2    DH,1024bits         None
12    DHE-RSA-AES256-SHA           TLSv1.2    DH,1024bits         None
13    ECDHE-RSA-DES-CBC3-SHA       TLSv1.2    ECDH,P-256,256bits  prime256v1
14    EDH-RSA-DES-CBC3-SHA         TLSv1.2    DH,1024bits         None
15    AES128-GCM-SHA256            TLSv1.2    None                None
16    AES256-GCM-SHA384            TLSv1.2    None                None
17    AES128-SHA256                TLSv1.2    None                None
18    AES256-SHA256                TLSv1.2    None                None
19    AES128-SHA                   TLSv1.2    None                None
20    AES256-SHA                   TLSv1.2    None                None
21    DES-CBC3-SHA                 TLSv1.2    None                None

Certificate: trusted, 2048 bits, sha256WithRSAEncryption signature
TLS ticket lifetime hint: None
NPN protocols: None
OCSP stapling: not supported
Cipher ordering: server
Curves ordering: server - fallback: no
Server supports secure renegotiation
Server supported compression methods: NONE
TLS Tolerance: yes

Intolerance to:
 SSL 3.254           : absent
 TLS 1.0             : PRESENT
 TLS 1.1             : PRESENT
 TLS 1.2             : absent
 TLS 1.3             : absent
 TLS 1.4             : absent</pre><p>
						When scanning a server, Cipherscan advertises support for a specific TLS version, which is the highest TLS version it is willing to negotiate. If the target server correctly follows TLS protocol, it will respond with the highest version that is mutually supported, which may be lower than what Cipherscan initially advertised. If the server does proceed to establish a connection with the client using that specific version, it is not considered to be intolerant to that protocol version. If it does not establish the connection (with the specified version, or any lower version), then intolerance for that version of protocol is considered to be present. For example:
					</p><pre class="screen">Intolerance to:
 SSL 3.254           : absent
 TLS 1.0             : PRESENT
 TLS 1.1             : PRESENT
 TLS 1.2             : absent
 TLS 1.3             : absent
 TLS 1.4             : absent</pre><p>
						In this output, intolerance of <code class="literal">TLS 1.0</code> and <code class="literal">TLS 1.1</code> is reported as <code class="literal">PRESENT</code>, meaning that the connection could not be established, and that Cipherscan was unable to connect while advertising support for those TLS versions. As a result, it is reasonable to conclude that those (and any lower) versions of the protocol are not enabled on the scanned server.
					</p></section></section><section class="section" id="cryptographic_algorithms_cipher_modes_and_protocols"><div class="titlepage"><div><div><h3 class="title">2.1.6. Cryptographic algorithms, cipher modes, and protocols</h3></div></div></div><p>
					You should consider only using TLS 1.2. Other versions, such as TLS 1.0 and 1.1, are vulnerable to multiple attacks and are expressly forbidden by many government agencies and regulated industries. TLS 1.0 should be disabled in your environment. TLS 1.1 might be used for broad client compatibility, however exercise caution when enabling this protocol. Only enable TLS version 1.1 if there is a mandatory compatibility requirement and if you are aware of the risks involved. All versions of SSL (the predecessor to TLS) must not be used due to multiple public vulnerabilities.
				</p><p>
					When you are using TLS 1.2 and control both the clients and the server, the cipher suite should be limited to <code class="literal">ECDHE-ECDSA-AES256-GCM-SHA384</code>. In circumstances where you do not control both endpoints and are using TLS 1.1 or 1.2 the more general <code class="literal">HIGH:!aNULL:!eNULL:!DES:!3DES:!SSLv3:!TLSv1:!CAMELLIA</code> is a reasonable cipher selection.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						This guide is not intended as a reference on cryptography, and is not prescriptive about what specific algorithms or cipher modes you should enable or disable in your OpenStack services.
					</p></div></div></section></section><section class="section" id="tls_proxies_and_http_services"><div class="titlepage"><div><div><h2 class="title">2.2. TLS Proxies and HTTP Services</h2></div></div></div><p>
				OpenStack endpoints are HTTP services providing APIs to both end-users on public networks and to other OpenStack services on the management network. You can currently encrypt the external requests using TLS. To configure this in Red Hat OpenStack Platform, you can deploy the API services behind HAproxy, which is able to establish and terminate TLS sessions.
			</p><p>
				In cases where software termination offers insufficient performance, hardware accelerators might be worth exploring as an alternative option. This approach would require additional configuration on the platform, and not all hardware load balancers might be compatible with Red Hat OpenStack Platform. It is important to be mindful of the size of requests that will be processed by any chosen TLS proxy.
			</p><section class="section" id="perfect_forward_secrecy"><div class="titlepage"><div><div><h3 class="title">2.2.1. Perfect Forward Secrecy</h3></div></div></div><p>
					Configuring TLS servers for perfect forward secrecy requires careful planning around key size, session IDs, and session tickets. In addition, for multi-server deployments, shared state is also an important consideration. Real-world deployments might consider enabling this feature for improved performance. This can be done in a security hardened way, but would require special consideration around key management. Such configurations are beyond the scope of this guide.
				</p></section></section><section class="section" id="use_barbican_to_manage_secrets"><div class="titlepage"><div><div><h2 class="title">2.3. Use Barbican to manage secrets</h2></div></div></div><p>
				OpenStack Key Manager (barbican) is the secrets manager for Red Hat OpenStack Platform. You can use the barbican API and command line to centrally manage the certificates, keys, and passwords used by OpenStack services. Barbican currently supports the following use cases:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="strong strong"><strong>Symmetric encryption keys</strong></span> - used for Block Storage (cinder) volume encryption, ephemeral disk encryption, and Object Storage (swift) object encryption.
					</li><li class="listitem">
						<span class="strong strong"><strong>Asymmetric keys and certificates</strong></span> - glance image signing and verification, Octavia TLS load balancing.
					</li></ul></div><p>
				In this release, barbican offers integration with the cinder, swift, Octavia, and Compute (nova) components. For example, you can use barbican for the following use cases:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="strong strong"><strong>Support for Encrypted Volumes</strong></span> - You can use barbican to manage your cinder encryption keys. This configuration uses LUKS to encrypt the disks attached to your instances, including boot disks. The key management aspect is performed transparently to the user.
					</li><li class="listitem">
						<span class="strong strong"><strong>Glance Image Signing</strong></span> - You can configure the Image Service (glance) to verify that an uploaded image has not been tampered with. The image is first signed with a key that is stored in barbican, with the image then being validated before each use.
					</li></ul></div><p>
				For more information, see the Barbican guide: <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/manage_secrets_with_openstack_key_manager/">https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/manage_secrets_with_openstack_key_manager/</a>
			</p></section></section><section class="chapter" id="identity_and_access_management"><div class="titlepage"><div><div><h1 class="title">Chapter 3. Identity and Access Management</h1></div></div></div><section class="section" id="identity"><div class="titlepage"><div><div><h2 class="title">3.1. Identity</h2></div></div></div><p>
				This section contains conceptual information about identity.
			</p><section class="section" id="authentication"><div class="titlepage"><div><div><h3 class="title">3.1.1. Authentication</h3></div></div></div><p>
					Authentication is an integral part of any real world OpenStack deployment. Give careful thought to this aspect of system design. A complete treatment of this topic is beyond the scope of this guide however some key topics are presented in the following sections.
				</p><p>
					At its most basic, authentication is the process of confirming identity - that a user is actually who they claim to be. A familiar example is providing a username and password when logging in to a system.
				</p><p>
					The OpenStack Identity service (keystone) supports multiple methods of authentication, including user name &amp; password, LDAP, and other external authentication methods. Upon successful authentication, the Identity service provides the user with an authorization token used for subsequent service requests.
				</p><p>
					Transport Layer Security (TLS) provides authentication between services and persons using X.509 certificates. Although the default mode for TLS is server-side only authentication, you should consider using certificates for client authentication, as it is mandated in US government standards.
				</p><section class="section" id="invalid_login_attempts"><div class="titlepage"><div><div><h4 class="title">3.1.1.1. Invalid Login Attempts</h4></div></div></div><p>
						The Identity Service (keystone) does not provide a method to limit access to accounts after repeated unsuccessful login attempts. A pattern of repetitive failed login attempts is generally an indicator of brute-force attacks. This type of attack is more prevalent in public cloud deployments. You can help mitigate this by using an external authentication system that blocks out an account after a configured number of failed login attempts. The account then might only be unlocked with further administrative intervention.
					</p><p>
						Detection techniques can also be used to mitigate damage. Detection involves frequent review of access control logs to identify unauthorized attempts to access accounts. Possible remediation would include reviewing the strength of the user password, or blocking the network source of the attack through firewall rules. You can add firewall rules on the keystone server that restrict the number of connections; this can help reduce the attack’s effectiveness.
					</p><p>
						In addition, it is useful to examine account activity for unusual login times and suspicious actions, and take corrective actions such as disabling the account.
					</p></section><section class="section" id="multi_factor_authentication"><div class="titlepage"><div><div><h4 class="title">3.1.1.2. Multi-factor Authentication</h4></div></div></div><p>
						Employ multi-factor authentication for network access to privileged user accounts. The Identity service can integrate with external authentication services that can provide this functionality. For example, keystone can be integrated with Active Directory, Red Hat Identity Manager, FreeIPA, or a generic LDAP server, with multi-factor authentication being enforced by one of these.
					</p><p>
						This recommendation helps mitigate the various brute force, social engineering, and both spear and mass phishing attacks that might compromise passwords. For deployments that integrate with Red Hat Identity Management, see the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_identity_management/logging-in-to-the-ipa-web-ui-using-one-time-passwords_configuring-and-managing-idm">Configuring and managing Identity Management</a> guide.
					</p></section></section></section><section class="section" id="authorization"><div class="titlepage"><div><div><h2 class="title">3.2. Authorization</h2></div></div></div><p>
				The Identity service supports the notion of groups and roles. Users belong to groups while a group has a list of roles. OpenStack services reference the roles of the user attempting to access the service. The OpenStack policy enforcer middleware takes into consideration the policy rule associated with each resource then the user’s group/roles and association to determine if access is allowed to the requested resource.
			</p><section class="section" id="establish_formal_access_control_policies"><div class="titlepage"><div><div><h3 class="title">3.2.1. Establish Formal Access Control Policies</h3></div></div></div><p>
					Prior to configuring roles, groups, and users, you should document your required access control policies for the OpenStack installation. The policies should be consistent with any regulatory or legal requirements for the organization. Future modifications to the access control configuration should be done consistently with the formal policies. The policies should include the conditions and processes for creating, deleting, disabling, and enabling accounts, and for assigning privileges to the accounts. Periodically review the policies and ensure that the configuration is in compliance with approved policies.
				</p></section><section class="section" id="service_authorization"><div class="titlepage"><div><div><h3 class="title">3.2.2. Service Authorization</h3></div></div></div><p>
					Cloud administrators must define a user with the role of admin for each service. This service account provides the service with the authorization to authenticate users.
				</p><p>
					The Compute and Object Storage services can be configured to use the Identity service to store authentication information. The Identity service supports client authentication for TLS, which might be enabled. TLS client authentication provides an additional authentication factor, in addition to the user name and password, that provides greater reliability on user identification. It reduces the risk of unauthorized access when user names and passwords might be compromised. However, there is additional administrative overhead and cost to issue certificates to users that might not be feasible in every deployment.
				</p><p>
					The cloud administrator should protect sensitive configuration files from unauthorized modification. This can be configured using mandatory access control frameworks such as SELinux, including the <code class="literal">/var/lib/config-data/puppet-generated/keystone/etc/keystone/keystone.conf</code> file and X.509 certificates.
				</p><p>
					Client authentication with TLS requires certificates be issued to services. These certificates can be signed by an external or internal certificate authority. OpenStack services check the validity of certificate signatures against trusted CAs by default and connections will fail if the signature is not valid or the CA is not trusted. Cloud deployers might use self-signed certificates; in this case, the validity check must be disabled or the certificate should be marked as trusted. To disable validation of self-signed certificates, set <code class="literal">insecure=False</code> in the <code class="literal">[filter:authtoken]</code> section in the <code class="literal">/etc/nova/api.paste.ini</code> file. This setting also disables certificates for other components. Note that the exact file path might vary for containerized services.
				</p></section><section class="section" id="administrative_user_accounts"><div class="titlepage"><div><div><h3 class="title">3.2.3. Administrative user accounts</h3></div></div></div><p>
					Administrative user accounts should authenticate using both keystone and an external authentication service that supports 2-factor authentication, such as a certificate. An external authentication service can include Red Hat Identity Management, or Microsoft Active Directory. Integration with these services is described in <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/integrate_with_identity_service/">https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/integrate_with_identity_service/</a>. This approach can help reduce the risk from passwords that might be compromised. This recommendation is in compliance with NIST 800-53 IA-2(1) guidance in the use of multi-factor authentication for network access to privileged accounts.
				</p></section><section class="section" id="end_users"><div class="titlepage"><div><div><h3 class="title">3.2.4. End Users</h3></div></div></div><p>
					The Identity service can directly provide end-user authentication, or can be configured to use external authentication methods to conform to an organization’s security policies and requirements.
				</p></section></section><section class="section" id="policies"><div class="titlepage"><div><div><h2 class="title">3.3. Policies</h2></div></div></div><p>
				Each OpenStack service contains resources that are managed by access policies. For example, a resource might include the following functions:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Permission to create and start instances
					</li><li class="listitem">
						The ability to attach a volume to an instance
					</li></ul></div><p>
				As a Red Hat OpenStack Platform (RHOSP) administrator, you might need to create custom policies to introduce new roles with varying levels of access, or to change the default behavior of existing roles. You also need the ability to validate API access policies after changes, and debug those policies when they do not work. Validate and debug policies outside of a production deployment, where syntax errors can lead to downtime, and misapplied authorization can negatively impact security or usability.
			</p><section class="section" id="reviewing_existing_policies"><div class="titlepage"><div><div><h3 class="title">3.3.1. Reviewing existing policies</h3></div></div></div><p>
					Policy files for services traditionally existed in the <code class="literal">/etc/$service</code> directory. For example, the full path of the <code class="literal">policy.json</code> file for Compute (nova) was <code class="literal">/etc/nova/policy.json</code>.
				</p><p>
					There are two important architectural changes that affect how you can find existing policies:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							Red Hat OpenStack Platform is now containerized.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p class="simpara">
									Policy files, if present, are in the traditional path if you view them from inside the service container:
								</p><p class="simpara">
									/etc/$service/policy.json
								</p></li><li class="listitem"><p class="simpara">
									Policy files, if present, are in the following path if you view them from outside the service container:
								</p><p class="simpara">
									/var/lib/config-data/puppet-generated/$service/etc/$service/policy.json
								</p></li></ul></div></li><li class="listitem"><p class="simpara">
							Each service has default policies that are provided in code, with files that are available only if you created them manually, or if they are generated with <code class="literal">oslopolicy</code> tooling. To generate a policy file, use the <code class="literal">oslopolicy-policy-generator</code> from within a container, as in the following example:
						</p><pre class="screen">podman exec -it keystone oslopolicy-policy-generator --namespace keystone</pre></li></ul></div><p>
					By default, generated policies are pushed to stdout by osly.policy CLI tools.
				</p></section><section class="section" id="understanding_service_policies"><div class="titlepage"><div><div><h3 class="title">3.3.2. Understanding service policies</h3></div></div></div><p>
					Service policy file statements are either alias definitions or rules. Alias definitions exist at the top of the file. The following list contains an explanation of the alias definitions from the generated <code class="literal">policy.json</code> file for Compute (nova):
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
							"context_is_admin": "role:admin"
						</p><p class="simpara">
							When <code class="literal">rule:context_is_admin</code> appears after a target, the policy checks that the user is operating with an administrative context before it allows that action.
						</p></li><li class="listitem"><p class="simpara">
							"admin_or_owner": "is_admin:True or project_id:%(project_id)s"
						</p><p class="simpara">
							When <code class="literal">admin_or_owner</code> appears after a target, the policy checks that the user is either an admin, or that their project ID matches the owning project ID of the target object before it allows that action.
						</p></li><li class="listitem"><p class="simpara">
							"admin_api": "is_admin:True
						</p><p class="simpara">
							When <code class="literal">admin_api</code> appears after a target, the policy checks that the user is an admin before it allows that action.
						</p></li></ul></div></section><section class="section" id="sect-policy-syntax"><div class="titlepage"><div><div><h3 class="title">3.3.3. Policy syntax</h3></div></div></div><p>
					Policy.json files support certain operators so that you can control the target scope of these settings. For example, the following keystone setting contains the rule that only admin users can create users:
				</p><pre class="screen">"identity:create_user": "rule:admin_required"</pre><p>
					The section to the left of the <code class="literal">:</code> character describes the privilege, and the section to the right defines who can use the privilege. You can also use operators to the right side to further control the scope:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">!</code> - No user (including admin) can perform this action.
						</li><li class="listitem">
							<code class="literal">@</code> and <code class="literal">""</code> - Any user can perform this action.
						</li><li class="listitem">
							<code class="literal">not</code>, <code class="literal">and</code>, <code class="literal">or</code> - Standard operator functions are available.
						</li></ul></div><p>
					For example, the following setting means that no users have permission to create new users:
				</p><pre class="screen">"identity:create_user": "!"</pre></section><section class="section" id="using_policy_files_for_access_control"><div class="titlepage"><div><div><h3 class="title">3.3.4. Using policy files for access control</h3></div></div></div><p>
					To override the default rules, edit the <code class="literal">policy.json</code> file for the appropriate OpenStack service. For example, the Compute service has a <code class="literal">policy.json</code> in the nova directory, which is the correct location of the file for containerized services when you view it from inside the container.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								You must thoroughly test changes to policy files in a staging environment before implementing them in production.
							</li><li class="listitem">
								You must check that any changes to the access control policies do not unintentionally weaken the security of any resource. In addition, any changes to a <code class="literal">policy.json</code> file are effective immediately and do not require a service restart.
							</li></ul></div></div></div><section class="section" id="example_creating_a_power_user_role"><div class="titlepage"><div><div><h4 class="title">3.3.4.1. Example: Creating a power user role</h4></div></div></div><p>
						To customize the permissions of a keystone role, update the <code class="literal">policy.json</code> file of a service. This means that you can more granularly define the permissions that you assign to a class of users. This example creates a <span class="emphasis"><em>power user</em></span> role for your deployment with the following privileges:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Start an instance.
							</li><li class="listitem">
								Stop an instance.
							</li><li class="listitem">
								Manage the volumes that are attached to instances.
							</li></ul></div><p>
						The intention of this role is to grant additional permissions to certain users, without the need to then grant <code class="literal">admin</code> access. To use these privileges, you must grant the following permissions to a custom role:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Start an instance: <code class="literal">"os_compute_api:servers:start": "role:PowerUsers"</code>
							</li><li class="listitem">
								Stop an instance: <code class="literal">"os_compute_api:servers:stop": "role:PowerUsers"</code>
							</li><li class="listitem">
								Configure an instance to use a particular volume: <code class="literal">"os_compute_api:servers:create:attach_volume": "role:PowerUsers"</code>
							</li><li class="listitem">
								List the volumes that are attached to an instance: <code class="literal">"os_compute_api:os-volumes-attachments:index": "role:PowerUsers"</code>
							</li><li class="listitem">
								Attach a volume: <code class="literal">"os_compute_api:os-volumes-attachments:create": "role:PowerUsers"</code>
							</li><li class="listitem">
								View the details of an attached volume: <code class="literal">"os_compute_api:os-volumes-attachments:show": "role:PowerUsers"</code>
							</li><li class="listitem">
								Change the volume that is attached to an instance: <code class="literal">"os_compute_api:os-volumes-attachments:update": "role:PowerUsers"</code>
							</li><li class="listitem">
								Delete a volume that is attached to an instance: <code class="literal">"os_compute_api:os-volumes-attachments:delete": "role:PowerUsers"</code>
							</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							When you modify the <code class="literal">policy.json</code> file, you override the default policy. As a result, members of <code class="literal">PowerUsers</code> are the only users that can perform these actions. To allow <code class="literal">admin</code> users to retain these permissions, you can create rules for <span class="emphasis"><em>admin_or_power_user.</em></span> You can also use some basic conditional logic to define <code class="literal">role:PowerUsers or role:Admin</code>.
						</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								To ensure you use the keystone v3 API in your command line session, source the rc file that defines the v3 endpoint and settings:
							</p><pre class="screen">OS_AUTH_URL=http://controller-hostname.lab.local:5000/v3
OS_USERNAME=username
OS_PASSWORD=password
OS_USER_DOMAIN_NAME=Default
OS_PROJECT_DOMAIN_NAME=Default
OS_PROJECT_NAME=project-name
OS_IDENTITY_API_VERSION=3</pre></li><li class="listitem"><p class="simpara">
								Create the custom keystone role:
							</p><pre class="screen">$ openstack role create PowerUsers
+-----------+----------------------------------+
| Field     | Value                            |
+-----------+----------------------------------+
| domain_id | None                             |
| id        | 7061a395af43455e9057ab631ad49449 |
| name      | PowerUsers                      |
+-----------+----------------------------------+</pre></li><li class="listitem"><p class="simpara">
								Add an existing user to the role, and assign the role to a project:
							</p><pre class="screen">$ openstack role add --project [PROJECT_NAME] --user [USER_ID] [PowerUsers-ROLE_ID]</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									A role assignment is paired exclusively with one project. This means that when you assign a role to a user, you also define the target project at the same time. If you want the user to receive the same role but for a different project, you must assign the role to them again separately but target the different project.
								</p></div></div></li><li class="listitem"><p class="simpara">
								View the default nova policy settings:
							</p><pre class="screen">$ oslopolicy-policy-generator --namespace nova</pre></li><li class="listitem"><p class="simpara">
								Create custom permissions for the new <code class="literal">PowerUsers</code> role by adding the following entries to <code class="literal">/etc/nova/policy.json</code>:
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									Test your policy changes before deployment to verify that they work as you expect.
								</p></div></div><pre class="screen">{
"os_compute_api:servers:start": "role:PowerUsers",
"os_compute_api:servers:stop": "role:PowerUsers",
"os_compute_api:servers:create:attach_volume": "role:PowerUsers",
"os_compute_api:os-volumes-attachments:index": "role:PowerUsers",
"os_compute_api:os-volumes-attachments:create": "role:PowerUsers",
"os_compute_api:os-volumes-attachments:show": "role:PowerUsers",
"os_compute_api:os-volumes-attachments:update": "role:PowerUsers",
"os_compute_api:os-volumes-attachments:delete": "role:PowerUsers"
}</pre><p class="simpara">
								When you save this file, the changes take effect immediately. Any users that are added to the <code class="literal">PowerUsers</code> keystone role receive these privileges.
							</p></li></ol></div></section><section class="section" id="sect-policy-based-on-attr"><div class="titlepage"><div><div><h4 class="title">3.3.4.2. Example: Limiting access based on attributes</h4></div></div></div><p>
						You can create policies that will restrict access to API calls based on the attributes of the user making that API call. For example, the following default rule states that keypair deletion is allowed if run from an administrative context, or if the user ID of the token matches the user ID associated with the target.
					</p><pre class="screen">"os_compute_api:os-keypairs:delete": "rule:admin_api or user_id:%(user_id)s"</pre><p>
						NOTE: * Newly implemented features are not guaranteed to be in every service with each release. Therefore, it is important to write rules using the conventions of the target service’s existing policies. For details on viewing these policies, see Reviewing existing policies. * All policies should be rigorously tested in a non-production environment for every version on which they will be deployed, as policies are not guaranteed for compatibility across releases.
					</p><p>
						Based on the above example, you can craft API rules to expand or restrict access to users based on whether or not they own a resource. Additionally, attributes can be combined with other restrictions to form rules as seen in the example below:
					</p><pre class="screen">"admin_or_owner": "is_admin:True or project_id:%(project_id)s"</pre><p>
						Considering the examples above, you can create a unique rule limited to administrators and users, and then use that rule to further restrict actions:
					</p><pre class="screen">"admin_or_user": "is_admin:True or user_id:%(user_id)s"
"os_compute_api:os-instance-actions": "rule:admin_or_user"</pre><p>
						For more information about the <code class="literal">policy.json</code> syntax options that are available, see <a class="link" href="index.html#sect-policy-syntax" title="3.3.3. Policy syntax">Policy syntax</a>.
					</p></section><section class="section" id="review_role_assignment"><div class="titlepage"><div><div><h4 class="title">3.3.4.3. Review role assignment</h4></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Generate a report of the role assignments:
							</p><pre class="screen">openatck role assignment list --names
+---------------+--------------------+-------+----------------------+--------+-----------+
| Role          | User               | Group | Project              | Domain | Inherited |
+---------------+--------------------+-------+----------------------+--------+-----------+
| admin         | glance@Default     |       | services@Default     |        | False     |
| admin         | ceilometer@Default |       | services@Default     |        | False     |
| ResellerAdmin | ceilometer@Default |       | services@Default     |        | False     |
| PowerUsers    | demo-user@Default  |       | demo-project@Default |        | False     |
| admin         | swift@Default      |       | services@Default     |        | False     |
| admin         | aodh@Default       |       | services@Default     |        | False     |
| admin         | neutron@Default    |       | services@Default     |        | False     |
| admin         | nova@Default       |       | services@Default     |        | False     |
| _member_      | demo@Default       |       | demo@Default         |        | False     |
| admin         | cinder@Default     |       | services@Default     |        | False     |
| admin         | admin@Default      |       | admin@Default        |        | False     |
| admin         | gnocchi@Default    |       | services@Default     |        | False     |
+---------------+--------------------+-------+----------------------+--------+-----------</pre></li><li class="listitem"><p class="simpara">
								View the role assignment for a specific user:
							</p><pre class="screen">$ openstack role assignment list --user demo-user --project demo-project --names
+-------------+----------------+-------+----------------------+--------+-----------+
| Role        | User           | Group | Project              | Domain | Inherited |
+-------------+----------------+-------+----------------------+--------+-----------+
| PowerUsers  | demo-user@Default |       | demo-project@Default |        | False  |
+-------------+----------------+-------+----------------------+--------+-----------+</pre></li></ol></div></section></section></section><section class="section" id="tokens"><div class="titlepage"><div><div><h2 class="title">3.4. Tokens</h2></div></div></div><p>
				Once a user is authenticated, a token is generated for authorization and access to an OpenStack environment. A token can have a variable life span; however the default value for expiry is one hour. The recommended expiry value should be set to a lower value that allows enough time for internal services to complete tasks. In the event that the token expires before tasks complete, the cloud might become unresponsive or stop providing services. An example of expended time during use would be the time needed by the Compute service to transfer a disk image onto the hypervisor for local caching.
			</p><p>
				The token is often passed within the structure of a larger context of an Identity service response. These responses also provide a catalog of the various OpenStack services. Each service is listed with its name, access endpoints for internal, admin, and public access. The Identity service supports token revocation. This manifests as an API to revoke a token, to list revoked tokens and individual OpenStack services that cache tokens to query for the revoked tokens and remove them from their cache and append the same to their list of cached revoked tokens. Fernet tokens are the only supported tokens in Red Hat OpenStack Platform 16.1.
			</p><section class="section" id="fernet_tokens"><div class="titlepage"><div><div><h3 class="title">3.4.1. Fernet tokens</h3></div></div></div><p>
					Fernet is a secure messaging format explicitly designed for use in API tokens. Fernet tokens are non-persistent (no need to be persisted to a database), lightweight (within 180 to 240 bytes) and reduce the operational overhead required to run a cloud. Authentication and authorization metadata is bundled into a message packed payload, which is then encrypted and signed in as a Fernet token (within 180 to 240 bytes).
				</p><p>
					Unlike UUID, PKI and PKIZ tokens, Fernet tokens do not require persistence. The keystone token database no longer suffers bloat as a side effect of authentication. Pruning expired tokens from the token database is no longer required when using Fernet tokens. Since Fernet tokens are non-persistent, they do not have to be replicated. As long as each keystone node shares the same repository, you can create and validate Fernet tokens instantly across nodes.
				</p><p>
					Compared to PKI and PKIZ tokens, Fernet tokens are smaller in size; usually kept under a 250 byte limit. For PKI and PKIZ tokens, bigger service catalogs will result in longer token lengths. This pattern does not exist with Fernet tokens because the contents of the encrypted payload is kept to minimum.
				</p><p>
					For information about Fernet tokens and rotating Fernet keys, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/deploy_fernet_on_the_overcloud/">https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/deploy_fernet_on_the_overcloud/</a>.
				</p></section></section><section class="section" id="keystone_domains"><div class="titlepage"><div><div><h2 class="title">3.5. Keystone domains</h2></div></div></div><p>
				Keystone domains are high-level security boundaries, logically grouping projects, users and groups. As such, they can be used to centrally manage all keystone-based identity components. With the introduction of account domains, server, storage and other resources can now be logically grouped into multiple projects (previously called tenants) which can themselves be grouped under a master account-like container. In addition, multiple users can be managed within an account domain and assigned roles that vary for each project.
			</p><p>
				The Identity V3 API supports multiple domains. Users of different domains might be represented in different authentication backends. They might even have different attributes that must be mapped to a single set of roles and privileges, that are used in the policy definitions to access the various service resources.
			</p><p>
				Where a rule might specify access to only admin users and users belonging to the project, the mapping might be trivial. In other scenarios the cloud administrator might need to approve the mapping routines per project.
			</p><p>
				Domain-specific authentication drivers allow the Identity service to be configured for multiple domains using domain-specific configuration files. Enabling the drivers and setting the domain-specific configuration file location occur in the <code class="literal">[identity]</code> section of the <code class="literal">/var/lib/config-data/puppet-generated/keystone/etc/keystone/keystone.conf</code> file. For example:
			</p><pre class="screen">[identity]
domain_specific_drivers_enabled = True
domain_config_dir = /var/lib/config-data/puppet-generated/keystone/etc/keystone/domains/</pre><p>
				Any domains without a domain-specific configuration file will use options in the primary <code class="literal">/var/lib/config-data/puppet-generated/keystone/etc/keystone/keystone.conf</code> file.
			</p></section><section class="section" id="federating_with_the_identity_service"><div class="titlepage"><div><div><h2 class="title">3.6. Federating with the Identity Service</h2></div></div></div><p>
				Federated Identity is a mechanism to establish trusts between Identity Providers and Service Providers (SP). In this case, the Service Providers are the services provided by an OpenStack cloud.
			</p><p>
				For authentication and authorization services, the OpenStack identity model considers the external authentication database to be a separate keystone domain. Each federated authentication mechanism is associated with a keystone domain, with support for multiple coexisting domains. You can use roles to grant users in external domains access to resources in the cloud; this approach also works in cross-domain multi-tenant deployments. This approach also has implications for a per-component policy, as not all OpenStack roles can be mapped in policy back to externally authenticated users. For example, there is usually additional configuration and consideration required if users in an external authentication database require administrative access similar to that of the <code class="literal">admin</code> user in the <code class="literal">admin</code> domain.
			</p><p>
				Federated Identity provides a way to use existing credentials to access cloud resources such as servers, volumes, and databases, across multiple endpoints provided in multiple authorized clouds using a single set of credentials, without having to provision additional identities or log in multiple times. The credential is maintained by the user’s Identity Provider.
			</p><p>
				The Identity service can store user credentials in an SQL Database, or might use an LDAP-compliant directory server. The Identity database might be separate from databases used by other OpenStack services to reduce the risk of a compromise of the stored credentials.
			</p><p>
				When you use a username and password to authenticate, Identity does not enforce policies on password strength, expiration, or failed authentication attempts. Organizations that desire to enforce stronger password policies should consider using Identity extensions or external authentication services.
			</p><p>
				LDAP simplifies integration of Identity authentication into an organization’s existing directory service and user account management processes. Authentication and authorization policy in OpenStack might be delegated to another service. A typical use case is an organization that seeks to deploy a private cloud and already has a database of employees and users in an LDAP system. Using this as the authentication authority, requests to the Identity service are delegated to the LDAP system, which will then authorize or deny based on its policies. Upon successful authentication, the Identity service then generates a token that is used for access to authorized services.
			</p><p>
				Note that if the LDAP system has attributes defined for the user such as admin, finance, HR etc, these must be mapped into roles and groups within Identity for use by the various OpenStack services. The <code class="literal">/var/lib/config-data/puppet-generated/keystone/etc/keystone/keystone.conf</code> file maps LDAP attributes to Identity attributes.
			</p></section><section class="section" id="federate_with_idm_using_red_hat_single_sign_on"><div class="titlepage"><div><div><h2 class="title">3.7. Federate with IdM using Red Hat Single Sign-On</h2></div></div></div><p>
				You can use Red Hat Single Sign-On (RH-SSO) to federate your IdM users for OpenStack authentication (authN). Federation allows your IdM users to login to the OpenStack Dashboard without revealing their credentials to any OpenStack services. Instead, when Dashboard needs a user’s credentials, it will forward the user to Red Hat Single Sign-On (RH-SSO) and allow them to enter their IdM credentials there. As a result, RH-SSO asserts back to Dashboard that the user has successfully authenticated, and Dashboard then allows the user to access the project.
			</p><section class="section" id="the_federation_workflow"><div class="titlepage"><div><div><h3 class="title">3.7.1. The federation workflow</h3></div></div></div><p>
					This section describes how keystone, RH-SSO and IdM interact with each other. Federation in OpenStack uses the concept of Identity Providers and Service Providers:
				</p><p>
					<code class="literal">Identity Provider</code> (IdP) - the service that stores the user accounts. In this case, the user accounts held in IdM, are presented to Keystone using RH-SSO.
				</p><p>
					<code class="literal">Service Provider</code> (SP) - the service that requires authentication from the users in the IdP. In this case, keystone is the service provider that grants Dashboard access to IdM users.
				</p><p>
					In the diagram below, keystone (the SP) communicates with RH-SSO (the IdP), which provides the necessary SAML2 WebSSO. RH-SSO is also able to serve as a universal adapter for other IdPs. In this configuration, you can point keystone at RH-SSO, and RH-SSO will forward requests on to the Identity Providers that it supports (known as authentication modules), these currently include IdM and Active Directory. This is done by having the Service Provider (SP) and Identity Provider (IdP) exchange metadata, which each sysadmin then makes a decision to trust. The result is that the IdP can confidently make assertions, and the SP can then receive these assertions.
				</p><div class="informalfigure"><div class="mediaobject"><img src="federation-rhsso-idm.png" alt="federation rhsso idm"/></div></div><p>
					For more information, see the federation guide: <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/federate_with_identity_service/">https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/federate_with_identity_service/</a>
				</p></section></section><section class="section" id="integrate_with_ldap_based_services"><div class="titlepage"><div><div><h2 class="title">3.8. Integrate with LDAP-based services</h2></div></div></div><p>
				Identity Service (keystone) can authenticate user accounts stored in LDAP-based services, such as Microsoft Active Directory Domain Services (AD DS), and Red Hat Identity Management (IdM). In this use case, keystone has read-only access to the LDAP user database authentication, and retains management over the authZ privileges assigned to authenticated accounts. The authZ function (permissions, roles, projects) is still performed by keystone, whereby permissions and roles are assigned to the LDAP accounts using the keystone management tools.
			</p><section class="section" id="how_ldap_integration_works"><div class="titlepage"><div><div><h3 class="title">3.8.1. How LDAP integration works</h3></div></div></div><p>
					In the diagram below, keystone uses an encrypted LDAPS connection to connect to an Active Directory Domain Controller. When a user logs in to horizon, keystone receives the supplied user credentials and passes them to Active Directory for authZ.
				</p><div class="informalfigure"><div class="mediaobject"><img src="ad-integration-keystone-v3.png" alt="ad integration keystone v3"/></div></div><p>
					For information on integrating OpenStack with AD DS and IdM, see the integration guide: <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/integrate_with_identity_service/">https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/integrate_with_identity_service/</a>
				</p></section></section></section><section class="chapter" id="rotating_service_account_passwords"><div class="titlepage"><div><div><h1 class="title">Chapter 4. Rotating service account passwords</h1></div></div></div><p>
			You can periodically rotate service account passwords to improve your security posture.
		</p><section class="section" id="overview_of_overcloud_password_management"><div class="titlepage"><div><div><h2 class="title">4.1. Overview of overcloud password management</h2></div></div></div><p>
				OpenStack services that run on the overcloud are authenticated by their Identity service (keystone) credentials. These passwords are generated during the initial deployment process and are defined as heat parameters. For example:
			</p><pre class="screen">            'MistralPassword',
            'BarbicanPassword',
            'AdminPassword',
            'CeilometerMeteringSecret',
            'ZaqarPassword',
            'NovaPassword',
            'MysqlRootPassword'</pre><p>
				You can rotate the passwords used by the service accounts by using a Workflow service (mistral) workflow. However, passwords are not rotated if they are listed in <code class="literal">DO_NOT_ROTATE</code>, such as Key Encrypting Keys (KEK) and Fernet keys:
			</p><pre class="screen">DO_NOT_ROTATE_LIST = (
    'BarbicanSimpleCryptoKek',
    'SnmpdReadonlyUserPassword',
    'KeystoneCredential0',
    'KeystoneCredential1',
    'KeystoneFernetKey0',
    'KeystoneFernetKey1',
    'KeystoneFernetKeys',
)</pre><p>
				These passwords are on the <code class="literal">DO_NOT_ROTATE</code> list for the following reasons:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">BarbicanSimpleCryptoKek</code> - changing this password requires you to re-encrypt all the secrets.
					</li><li class="listitem">
						<code class="literal">KeystoneFernetKey</code> and <code class="literal">KeystoneCredential</code> - separate workflows already exist to rotate these. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/deploy_fernet_on_the_overcloud/sec-fernet#rotate_the_fernet_keys_using_mistral">https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/deploy_fernet_on_the_overcloud/sec-fernet#rotate_the_fernet_keys_using_mistral</a>.
					</li></ul></div></section><section class="section" id="rotating_the_passwords"><div class="titlepage"><div><div><h2 class="title">4.2. Rotating the passwords</h2></div></div></div><p>
				Use the following procedure to rotate eligible passwords. The next time you complete a stack update by running the <code class="literal">openstack overcloud deploy</code> command, your rotated password changes are applied. Any passwords specified in environment files take precedence over password changes that use this method. For information about outage requirements and service impact, see Outage requirements .
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Do not use this procedure to rotate the <code class="literal">swift</code> password, because this is not currently supported.
				</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						As the stack user, run the password rotation workflow. This rotates all passwords, except for those on the <code class="literal">DO_NOT_ROTATE</code> list:
					</p><pre class="screen">$ openstack workflow execution create tripleo.plan_management.v1.rotate_passwords '{"container": "overcloud"}'</pre><p class="simpara">
						If you want to rotate only specific passwords, you can use <code class="literal">password_list</code>. You can also use this method to rotate passwords on the <code class="literal">DO_NOT_ROTATE</code> list. For example:
					</p><pre class="screen">$ openstack workflow execution create tripleo.plan_management.v1.rotate_passwords '{"container": "overcloud", "password_list": ["SaharaPassword", "ManilaPassword"]}'</pre><pre class="literallayout">The Workflow service Mistral workflow generates new passwords for the service accounts.</pre></li><li class="listitem">
						Run a stack update to apply the new passwords.
					</li><li class="listitem"><p class="simpara">
						You can retrieve and view the new passwords, by creating a workflow to retrieve the passwords, and then viewing the output:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Create a new workflow to retrieve the passwords. Note the ID of the workflow:
							</p><pre class="screen">$ openstack workflow execution create tripleo.plan_management.v1.get_passwords '{"container": "overcloud"}'
 +--------------------+---------------------------------------------+
 | Field              | Value                                       |
 +--------------------+---------------------------------------------+
 | ID                 | edcf9103-e1a8-42f9-85c1-e505c055e0ed        |
 | Workflow ID        | 8aa2ac9b-22ee-4e7d-8240-877237ef0d0a        |
 | Workflow name      | tripleo.plan_management.v1.rotate_passwords |
 | Workflow namespace |                                             |
 | Description        |                                             |
 | Task Execution ID  | &lt;none&gt;                                      |
 | Root Execution ID  | &lt;none&gt;                                      |
 | State              | RUNNING                                     |
 | State info         | None                                        |
 | Created at         | 2020-01-22 15:47:57                         |
 | Updated at         | 2020-01-22 15:47:57                         |
 +--------------------+---------------------------------------------+</pre></li><li class="listitem"><p class="simpara">
								Use the workflow ID to check the workflow status. You must wait until the workflow has a state of <code class="literal">SUCCESS</code> before you continue:
							</p><pre class="screen">$ openstack workflow execution show edcf9103-e1a8-42f9-85c1-e505c055e0ed
      +--------------------+---------------------------------------------+
      | Field              | Value                                       |
      +--------------------+---------------------------------------------+
      | ID                 | edcf9103-e1a8-42f9-85c1-e505c055e0ed        |
      | Workflow ID        | 8aa2ac9b-22ee-4e7d-8240-877237ef0d0a        |
      | Workflow name      | tripleo.plan_management.v1.rotate_passwords |
      | Workflow namespace |                                             |
      | Description        |                                             |
      | Task Execution ID  | &lt;none&gt;                                      |
      | Root Execution ID  | &lt;none&gt;                                      |
      | State              | SUCCESS                                     |
      | State info         | None                                        |
      | Created at         | 2020-01-22 15:47:57                         |
      | Updated at         | 2020-01-22 15:48:39                         |
      +--------------------+---------------------------------------------+</pre></li><li class="listitem"><p class="simpara">
								When the workflow is complete, retrieve the passwords by using the following command:
							</p><pre class="screen">openstack workflow execution output show edcf9103-e1a8-42f9-85c1-e505c055e0ed
     {
          "status": "SUCCESS",
          "message": {
              "AdminPassword": "FSn0sS1aAHp8YK2fU5niM3rxu",
              "AdminToken": "dTP0Wdy7DtblG80M54r4a2yoC",
              "AodhPassword": "fB5NQdRe37BaBVEWDHVuj4etk",
              "BarbicanPassword": "rn7yk7KPafKw2PWN71MvXpnBt",
              "BarbicanSimpleCryptoKek": "lrC3sGlV7-D7-V_PI4vbDfF1Ujm5OjnAVFcnihOpbCg=",
              "CeilometerMeteringSecret": "DQ69HdlJobhnGWoBC0jM3drPF",
              "CeilometerPassword": "qI6xOpofuiXZnG95iUe8Oxv5d",
              "CephAdminKey": "AQDGVPpdAAAAABAAZMP56/VY+zCVcDT81+TOjg==",
              "CephClientKey": "AQDGVPpdAAAAABAAanYtA0ggpcoCbS1nLeDN7w==",
              "CephClusterFSID": "141a5ede-21b4-11ea-8132-52540031f76b",
              "CephDashboardAdminPassword": "AQDGVPpdAAAAABAAKhsx630YKDhQrocS4o4KzA==",
              "CephGrafanaAdminPassword": "AQDGVPpdAAAAABAAKBojG+CO72B0TdBRR0paEg==",
              "CephManilaClientKey": "AQDGVPpdAAAAABAAA1TVHrTVCC8xQ4skG4+d5A=="
          }
      }</pre></li></ol></div></li></ol></div></section><section class="section" id="outage_requirements"><div class="titlepage"><div><div><h2 class="title">4.3. Outage requirements</h2></div></div></div><p>
				Outage requirements and service impacts can occur when you change passwords for the overcloud service accounts.
			</p><p>
				Aftera password has been rotated as part of the stack update, the old password becomes invalid. As a result, services are unavailable with an HTTP <code class="literal">401</code> error for the duration that it takes for the new password to be added to the service configuration settings.
			</p><p>
				In addition, you can expect to encounter brief outages when you change passwords for the supporting services, including MySQL, RabbitMQ, and High Availability.
			</p></section></section><section class="chapter" id="hardening_infrastructure_and_virtualization"><div class="titlepage"><div><div><h1 class="title">Chapter 5. Hardening Infrastructure and Virtualization</h1></div></div></div><p>
			This section contains component-specific advice and information.
		</p><section class="section" id="vulnerability_awareness"><div class="titlepage"><div><div><h2 class="title">5.1. Vulnerability Awareness</h2></div></div></div><p>
				Your operating procedures should have a plan to learn about new vulnerabilities and security updates. Hardware and software vendors typically announce the existence of vulnerabilities, and could offer workarounds and patches to address these.
			</p><p>
				Red Hat Product Security maintains sites to help you stay aware of security updates:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="https://www.redhat.com/mailman/listinfo/rhsa-announce">https://www.redhat.com/mailman/listinfo/rhsa-announce</a>
					</li><li class="listitem">
						<a class="link" href="https://www.redhat.com/wapps/ugc/protected/notif.html">https://www.redhat.com/wapps/ugc/protected/notif.html</a>
					</li><li class="listitem">
						<a class="link" href="https://access.redhat.com/security/security-updates/#/?q=openstack&amp;p=1&amp;sort=portal_publication_date%20desc&amp;rows=10&amp;portal_advisory_type=Security%20Advisory&amp;documentKind=PortalProduct">https://access.redhat.com/security/security-updates/#/?q=openstack&amp;p=1&amp;sort=portal_publication_date%20desc&amp;rows=10&amp;portal_advisory_type=Security%20Advisory&amp;documentKind=PortalProduct</a>
					</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					In addition to tracking updates, ensure that your processes and deployments can accommodate the installation of regular security updates. Also use the following guidelines:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Include instance security updates when you design your processes.
						</li><li class="listitem">
							Reboot the Compute and management nodes for kernel updates.
						</li><li class="listitem">
							Periodically update hosted Image service (glance) images to ensure that freshly created instances have the latest updates.
						</li></ul></div></div></div></section><section class="section" id="network_time_protocol"><div class="titlepage"><div><div><h2 class="title">5.2. Network Time Protocol</h2></div></div></div><p>
				You need to ensure that systems within your Red Hat OpenStack Platform cluster have accurate and consistent timestamps between systems. Red Hat OpenStack Platform on RHEL8 supports Chrony for time management. For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_basic_system_settings/using-chrony-to-configure-ntp">Using the Chrony suite to configure NTP</a>.
			</p><section class="section" id="why_consistent_time_is_important"><div class="titlepage"><div><div><h3 class="title">5.2.1. Why consistent time is important</h3></div></div></div><p>
					Consistent time throughout your organization is important for both operational and security needs:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Identifying a security event</span></dt><dd>
								Consistent timekeeping helps you correlate timestamps for events on affected systems so that you can understand the sequence of events.
							</dd><dt><span class="term">Authentication and security systems</span></dt><dd><p class="simpara">
								Security systems can be sensitive to time skew, for example:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										A kerberos-based authentication system might refuse to authenticate clients that are affected by seconds of clock skew.
									</li><li class="listitem">
										Transport layer security (TLS) certificates depend on a valid source of time. A client to server TLS connection fails if the difference between client and server system times exceeds the <span class="emphasis"><em>Valid From</em></span> date range.
									</li></ul></div></dd><dt><span class="term">Red Hat OpenStack Platform services</span></dt><dd>
								Some core OpenStack services are especially dependent on accurate timekeeping, including High Availability (HA) and Ceph.
							</dd></dl></div></section><section class="section" id="ntp_design"><div class="titlepage"><div><div><h3 class="title">5.2.2. NTP design</h3></div></div></div><p>
					Network time protocol (NTP) is organized in a hierarchical design. Each layer is called a stratum. At the top of the hierarchy are stratum 0 devices such as atomic clocks. In the NTP hierarchy, stratum 0 devices provide reference for publicly available stratum 1 and stratum 2 NTP time servers.
				</p><p>
					Do not connect your data center clients directly to publicly available NTP stratum 1 or 2 servers. The number of direct connections would put unnecessary strain on the public NTP resources. Instead, allocate a dedicated time server in your data center, and connect the clients to that dedicated server.
				</p><p>
					Configure instances to receive time from your dedicated time servers, not the host on which they reside.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Service containers running within the Red Hat OpenStack Platform environment still receive time from the host on which they reside.
					</p></div></div></section><section class="section" id="configuring_ntp_in_red_hat_openstack_platform"><div class="titlepage"><div><div><h3 class="title">5.2.3. Configuring NTP in Red Hat OpenStack Platform</h3></div></div></div><p>
					Configure NTP on the undercloud and overcloud nodes using heat.
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
							To configure the undercloud with NTP, use the the <code class="literal">undercloud_ntp_servers</code> parameter in undercloud.conf before you run the <code class="literal">openstack undercloud install</code> command. For undercloud minions, use the <code class="literal">minion_ntp_servers</code> parameter. For more information see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/director_installation_and_usage/installing-the-undercloud#director-configuration-parameters">Director Configuration Parameters</a>.
						</li><li class="listitem"><p class="simpara">
							To configure the overcloud with NTP use the following parameters as an example:
						</p><pre class="screen">parameter_defaults:
  TimeZone: 'US/Central'
  NtpServer: ['ntpserver01.example.com']</pre></li></ol></div><p>
					For more information on network timekeeping parameters, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/overcloud_parameters/time-parameters">Time Parameters</a> in the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/overcloud_parameters/index">Overcloud Parameters</a> guide.
				</p></section></section><section class="section" id="compute"><div class="titlepage"><div><div><h2 class="title">5.3. Compute</h2></div></div></div><p>
				This section describes security considerations for Compute (nova).
			</p><section class="section" id="hypervisors_in_openstack"><div class="titlepage"><div><div><h3 class="title">5.3.1. Hypervisors in OpenStack</h3></div></div></div><p>
					When you evaluate a hypervisor platform, consider the supportability of the hardware on which the hypervisor will run. Additionally, consider the additional features available in the hardware and how those features are supported by the hypervisor you chose as part of the OpenStack deployment. To that end, hypervisors each have their own hardware compatibility lists (HCLs). When selecting compatible hardware it is important to know in advance which hardware-based virtualization technologies are important from a security perspective.
				</p><section class="section" id="hypervisor_versus_bare_metal"><div class="titlepage"><div><div><h4 class="title">5.3.1.1. Hypervisor versus bare metal</h4></div></div></div><p>
						It is important to recognize the difference between using Linux containers or bare metal systems versus using a hypervisor like KVM. Specifically, the focus of this security guide is largely based on having a hypervisor and virtualization platform. However, should your implementation require the use of a bare metal or containerized environment, you must pay attention to the particular differences in regard to deployment of that environment.
					</p><p>
						For bare metal, make sure the node has been properly sanitized of data prior to re-provisioning and decommissioning. In addition, before reusing a node, you must provide assurances that the hardware has not been tampered or otherwise compromised. For more information see <a class="link" href="https://docs.openstack.org/ironic/queens/admin/cleaning.html">https://docs.openstack.org/ironic/queens/admin/cleaning.html</a>
					</p></section><section class="section" id="hypervisor_memory_optimization"><div class="titlepage"><div><div><h4 class="title">5.3.1.2. Hypervisor memory optimization</h4></div></div></div><p>
						Certain hypervisors use memory optimization techniques that overcommit memory to guest virtual machines. This is a useful feature that allows you to deploy very dense compute clusters. One approach to this technique is through deduplication or sharing of memory pages: When two virtual machines have identical data in memory, there are advantages to having them reference the same memory. Typically this is performed through Copy-On-Write (COW) mechanisms, such as kernel same-page merging (KSM). These mechanisms are vulnerable to attack:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Memory deduplication systems are vulnerable to side-channel attacks. In academic studies, attackers were able to identify software packages and versions running on neighboring virtual machines as well as software downloads and other sensitive information through analyzing memory access times on the attacker VM. Consequently, one VM can infer something about the state of another, which might not be appropriate for multi-tenant environments where not all tenants are trusted or share the same levels of trust
							</li><li class="listitem">
								More importantly, <a class="link" href="https://access.redhat.com/articles/1377393">row-hammer type attacks</a> have been demonstrated against KSM to enact cross-VM modification of executable memory. This means that a hostile instance can gain code-execution access to other instances on the same Compute host.
							</li></ul></div><p>
						Deployers should disable KSM if they require strong project separation (as with public clouds and some private clouds):
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								To disable KSM, refer to <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html-single/virtualization_tuning_and_optimization_guide/#sect-KSM-Deactivating_KSM">Deactivating KSM</a>.
							</li></ul></div></section></section><section class="section" id="virtualization"><div class="titlepage"><div><div><h3 class="title">5.3.2. Virtualization</h3></div></div></div><section class="section" id="physical_hardware_pci_passthrough"><div class="titlepage"><div><div><h4 class="title">5.3.2.1. Physical Hardware (PCI Passthrough)</h4></div></div></div><p>
						PCI passthrough allows an instance to have direct access to a piece of hardware on the node. For example, this could be used to allow instances to access video cards or GPUs offering the compute unified device architecture (CUDA) for high performance computation. This feature carries two types of security risks: direct memory access and hardware infection.
					</p><p>
						Direct memory access (DMA) is a feature that permits certain hardware devices to access arbitrary physical memory addresses in the host computer. Often video cards have this capability. However, an instance should not be given arbitrary physical memory access because this would give it full view of both the host system and other instances running on the same node. Hardware vendors use an input/output memory management unit (IOMMU) to manage DMA access in these situations. You should confirm that the hypervisor is configured to use this hardware feature.
					</p><p>
						A hardware infection occurs when an instance makes a malicious modification to the firmware or some other part of a device. As this device is used by other instances or the host OS, the malicious code can spread into those systems. The end result is that one instance can run code outside of its security zone. This is a significant breach as it is harder to reset the state of physical hardware than virtual hardware, and can lead to additional exposure such as access to the management network.
					</p><p>
						Due to the risk and complexities associated with PCI passthrough, it should be disabled by default. If enabled for a specific need, you will need to have appropriate processes in place to help ensure the hardware is clean before reuse.
					</p></section><section class="section" id="virtual_hardware_qemu"><div class="titlepage"><div><div><h4 class="title">5.3.2.2. Virtual Hardware (QEMU)</h4></div></div></div><p>
						When running a virtual machine, virtual hardware is a software layer that provides the hardware interface for the virtual machine. Instances use this functionality to provide network, storage, video, and other devices that might be needed. With this in mind, most instances in your environment will exclusively use virtual hardware, with a minority that will require direct hardware access. It is a good idea to only provision the hardware required. For example, it is unneccessary to provision a CD drive if you do not need it.
					</p><p>
						Confirm that your iptables have the default policy configured to filter network traffic, and consider examining the existing rule set to understand each rule and determine if the policy needs to be expanded upon.
					</p><p>
						Mandatory access controls limit the impact an attempted attack, by restricting the privileges on QEMU process to only what is needed. On Red Hat OpenStack Platform, SELinux is configured to run each QEMU process under a separate security context. SELinux policies have been pre-configured for Red Hat OpenStack Platform services.
					</p><p>
						OpenStack’s SELinux policies intend to help protect hypervisor hosts and virtual machines against two primary threat vectors:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Hypervisor threats - A compromised application running within a virtual machine attacks the hypervisor to access underlying resources. For example, when a virtual machine is able to access the hypervisor OS, physical devices, or other applications. This threat vector represents considerable risk as a compromise on a hypervisor can infect the physical hardware as well as exposing other virtual machines and network segments.
							</li><li class="listitem">
								Virtual Machine (multi-project) threats - A compromised application running within a VM attacks the hypervisor to access or control another virtual machine and its resources. This is a threat vector unique to virtualization and represents considerable risk as a multitude of virtual machine file images could be compromised due to vulnerability in a single application. This virtual network attack is a major concern as the administrative techniques for protecting real networks do not directly apply to the virtual environment. Each KVM-based virtual machine is a process which is labeled by SELinux, effectively establishing a security boundary around each virtual machine. This security boundary is monitored and enforced by the Linux kernel, restricting the virtual machine’s access to resources outside of its boundary, such as host machine data files or other VMs.
							</li></ul></div><p>
						Red Hat’s SELinux-based isolation is provided regardless of the guest operating system running inside the virtual machine. Linux or Windows VMs can be used.
					</p></section><section class="section" id="labels_and_categories"><div class="titlepage"><div><div><h4 class="title">5.3.2.3. Labels and Categories</h4></div></div></div><p>
						KVM-based virtual machine instances are labelled with their own SELinux data type, known as <code class="literal">svirt_image_t</code>. Kernel level protections prevent unauthorized system processes, such as malware, from manipulating the virtual machine image files on disk. When virtual machines are powered off, images are stored as <code class="literal">svirt_image_t</code> as shown below:
					</p><pre class="screen">system_u:object_r:svirt_image_t:SystemLow image1
system_u:object_r:svirt_image_t:SystemLow image2
system_u:object_r:svirt_image_t:SystemLow image3
system_u:object_r:svirt_image_t:SystemLow image4</pre><p>
						The <code class="literal">svirt_image_t label</code> uniquely identifies image files on disk, allowing for the SELinux policy to restrict access. When a KVM-based compute image is powered on, SELinux appends a random numerical identifier to the image. SELinux is capable of assigning numeric identifiers to a maximum of 524,288 virtual machines per hypervisor node, however most OpenStack deployments are highly unlikely to encounter this limitation. This example shows the SELinux category identifier:
					</p><pre class="screen">system_u:object_r:svirt_image_t:s0:c87,c520 image1
system_u:object_r:svirt_image_t:s0:419,c172 image2</pre></section><section class="section" id="selinux_users_and_roles"><div class="titlepage"><div><div><h4 class="title">5.3.2.4. SELinux users and roles</h4></div></div></div><p>
						SELinux manages user roles. These can be viewed through the <code class="literal">-Z</code> flag, or with the <code class="literal">semanage</code> command. On the hypervisor, only administrators should be able to access the system, and should have an appropriate context around both the administrative users and any other users that are on the system.
					</p></section><section class="section" id="containerized_services"><div class="titlepage"><div><div><h4 class="title">5.3.2.5. Containerized services</h4></div></div></div><p>
						Certain services, such as nova, glance, and keystone, now run within containers. This approach helps improve your security posture by making it easier to apply updates to services. Running each service in its own container also improves isolation between the services that coexist on the same bare metal. This can be helpful in reducing the attack surface should any one service be vulnerable to attack, by preventing easy access to adjacent services.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							Any paths on the host machine that are mounted into the containers can be used as mount points to transfer data between container and host, if they are configured as ro/rw.
						</p></div></div><p>
						If you intend to update any configuration files, there are certain administration practices to consider, given that containerized services are ephemeral:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								Do not update any configuration file you might find on the physical node’s host operating system, for example, <code class="literal">/etc/cinder/cinder.conf</code>. This is because the containerized service does not reference this file.
							</li><li class="listitem">
								Do not update the configuration file running within the container. This is because any changes are lost once you restart the container.
							</li></ul></div><p>
						Instead, if you need to add any changes to containerized services, you will need to update the configuration file that is used to seed the container. These files are generated during the initial deployment, by puppet, and contain sensitive data important to the running of the cloud, and should be treated accordingly. These are stored within <code class="literal">/var/lib/config-data/puppet-generated/</code>. For example:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								keystone: <code class="literal">/var/lib/config-data/puppet-generated/keystone/etc/keystone/keystone.conf</code>
							</li><li class="listitem">
								cinder: <code class="literal">/var/lib/config-data/puppet-generated/cinder/etc/cinder/cinder.conf</code>
							</li><li class="listitem">
								nova: <code class="literal">/var/lib/config-data/puppet-generated/nova_libvirt/etc/nova/nova.conf</code>
							</li></ul></div><p>
						Any changes made to these files will be applied once the container is restarted.
					</p></section></section><section class="section" id="hardening_compute_deployments"><div class="titlepage"><div><div><h3 class="title">5.3.3. Hardening Compute Deployments</h3></div></div></div><p>
					One of the main security concerns with any OpenStack deployment is the security and controls around sensitive files, such as the <code class="literal">/var/lib/config-data/puppet-generated/nova_libvirt/etc/nova/nova.conf</code> file. This configuration file contains many sensitive options including configuration details and service passwords. All such sensitive files should be given strict file level permissions, and monitored for changes through file integrity monitoring (FIM) tools, such as AIDE. These utilities will take a hash of the target file in a known good state, and then periodically take a new hash of the file and compare it to the known good hash. An alert can be created if it was found to have been modified unexpectedly.
				</p><p>
					The permissions of a file can be examined by moving into the directory the file is contained in and running the <code class="literal">ls -lh</code> command. This will show the permissions, owner, and group that have access to the file, as well as other information such as the last time the file was modified and when it was created.
				</p><p>
					The <code class="literal">/var/lib/nova</code> directory holds information about the instances on a given Compute node. This directory should be considered sensitive, with strictly enforced file permissions. In addition, it should be backed up regularly as it contains information and metadata for the instances associated with that host.
				</p><p>
					If your deployment does not require full virtual machine backups, consider excluding the <code class="literal">/var/lib/nova/instances</code> directory as it will be as large as the combined space of each instance running on that node. If your deployment does require full VM backups, you will need to ensure this directory is backed up successfully.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Data stored in the storage subsystem (for example, Ceph) being used for Block Storage (cinder) volumes should also be considered sensitive, as full virtual machine images can be retrieved from the storage subsystem if network or logical access allows this, potentially bypassing OpenStack controls.
					</p></div></div></section><section class="section" id="mitigating_hardware_vulnerabilities"><div class="titlepage"><div><div><h3 class="title">5.3.4. Mitigating hardware vulnerabilities</h3></div></div></div><p>
					OpenStack runs on physical server hardware, which inherently presents its own security challenges. This chapter presents approaches to mitigating hardware-based threats and vulnerabilities.
				</p><section class="section" id="hardening_pci_passthrough"><div class="titlepage"><div><div><h4 class="title">5.3.4.1. Hardening PCI passthrough</h4></div></div></div><p>
						PCI passthrough allows you to give an instance direct access to certain physical hardware installed on the host. This can arise for a number of Network Function Virtualization (NFV) use cases. However, there are some security practices to consider:
					</p><p>
						If using PCI passthrough, consider deploying hardware that supports interrupt remapping. Otherwise, you would need to enable the <code class="literal">allow_unsafe_interrupts</code> setting, which might leave the Compute node vulnerable to interrupt injection attacks from a malicious instance.
					</p><p>
						For more information, see the Networking Guide: <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/networking_guide/#review-the-allow_unsafe_interrupts-setting">https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/networking_guide/#review-the-allow_unsafe_interrupts-setting</a>
					</p></section><section class="section" id="security_harden_management_consoles"><div class="titlepage"><div><div><h4 class="title">5.3.4.2. Security harden management consoles</h4></div></div></div><p>
						Many server vendors include a separate management console that enable a remote session to your server. Consider reviewing the practices prescribed by the vendor to security harden this point of access.
					</p></section><section class="section" id="firmware_updates"><div class="titlepage"><div><div><h4 class="title">5.3.4.3. Firmware updates</h4></div></div></div><p>
						Physical servers use complex firmware to enable and operate server hardware and lights-out management cards, which can have their own security vulnerabilities, potentially allowing system access and interruption. To address these, hardware vendors will issue firmware updates, which are installed separately from operating system updates. You will need an operational security process that retrieves, tests, and implements these updates on a regular schedule, noting that firmware updates often require a reboot of physical hosts to become effective.
					</p></section></section></section><section class="section" id="block_storage"><div class="titlepage"><div><div><h2 class="title">5.4. Block Storage</h2></div></div></div><p>
				OpenStack Block Storage (cinder) is a service that provides software (services and libraries) to self-service manage persistent block-level storage devices. This creates on-demand access to Block Storage resources for use with Compute (nova) instances. This creates software-defined storage through abstraction by virtualizing pools of block storage to a variety of back-end storage devices which can be either software implementations or traditional hardware storage products. The primary functions of this is to manage the creation, attachment, and detachment of the block devices. The consumer requires no knowledge of the type of back-end storage equipment or where it is located.
			</p><p>
				Compute instances store and retrieve block storage using industry-standard storage protocols such as iSCSI, ATA over Ethernet, or Fibre-Channel. These resources are managed and configured using OpenStack native standard HTTP RESTful API.
			</p><section class="section" id="volume_wiping"><div class="titlepage"><div><div><h3 class="title">5.4.1. Volume Wiping</h3></div></div></div><p>
					There are multiple ways to wipe a block storage device. The traditional approach is to set the <code class="literal">lvm_type</code> to thin, and then use the <code class="literal">volume_clear</code> parameter. Alternatively, if the volume encryption feature is used, then volume wiping is not necessary if the volume encryption key is deleted.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Previously, <code class="literal">lvm_type=default</code> was used to signify a wipe. While this method still works, <code class="literal">lvm_type=default</code> is not recommended for setting secure delete.
					</p></div></div><p>
					The <code class="literal">volume_clear</code> parameter can accept either <code class="literal">zero</code> or <code class="literal">shred</code> as arguments. <code class="literal">zero</code> will write a single pass of zeroes to the device. The <code class="literal">shred</code> operation will write three passes of predetermined bit patterns.
				</p></section><section class="section" id="hardening_block_storage"><div class="titlepage"><div><div><h3 class="title">5.4.2. Hardening Block Storage</h3></div></div></div><p>
					This section contains practical advice to harden the security of OpenStack Block Storage.
				</p><section class="section" id="set_user_group_ownership_of_config_files_to_root_cinder"><div class="titlepage"><div><div><h4 class="title">5.4.2.1. Set user/group ownership of config files to root/cinder</h4></div></div></div><p>
						Configuration files contain critical parameters and information required for smooth functioning of the component. If an unprivileged user, either intentionally or accidentally, modifies or deletes any of the parameters or the file itself then it would cause severe availability issues resulting in a denial of service to the other end users. Thus user ownership of such critical configuration files must be set to root and group ownership must be set to <code class="literal">cinder</code>.
					</p><p>
						Check that the user and group ownership of these config files is set to root and cinder respectively, with these commands:
					</p><pre class="screen">$ stat -L -c "%U %G" /var/lib/config-data/puppet-generated/cinder/etc/cinder/cinder.conf | egrep "root cinder"
$ stat -L -c "%U %G" /var/lib/config-data/puppet-generated/cinder/etc/cinder/api-paste.ini | egrep "root cinder"
$ stat -L -c "%U %G" /var/lib/config-data/puppet-generated/cinder/etc/cinder/policy.json | egrep "root cinder"
$ stat -L -c "%U %G" /var/lib/config-data/puppet-generated/cinder/etc/cinder/rootwrap.conf | egrep "root cinder"</pre></section><section class="section" id="set_strict_permissions_for_configuration_files"><div class="titlepage"><div><div><h4 class="title">5.4.2.2. Set strict permissions for configuration files</h4></div></div></div><p>
						Check that the permissions for the following files are set to <code class="literal">640</code> or stricter.
					</p><pre class="screen">$ stat -L -c "%a" /var/lib/config-data/puppet-generated/cinder/etc/cinder/cinder.conf
$ stat -L -c "%a" /var/lib/config-data/puppet-generated/cinder/etc/cinder/api-paste.ini
$ stat -L -c "%a" /var/lib/config-data/puppet-generated/cinder/etc/cinder/policy.json
$ stat -L -c "%a" /var/lib/config-data/puppet-generated/cinder/etc/cinder/rootwrap.conf</pre></section><section class="section" id="use_keystone_for_authentication"><div class="titlepage"><div><div><h4 class="title">5.4.2.3. Use keystone for authentication</h4></div></div></div><p>
						In <code class="literal">/var/lib/config-data/puppet-generated/cinder/etc/cinder/cinder.conf</code>, check that the value of <code class="literal">auth_strategy</code> under the <code class="literal">[DEFAULT]</code> section is set to <code class="literal">keystone</code> and not <code class="literal">noauth</code>.
					</p></section><section class="section" id="enable_tls_for_authentication"><div class="titlepage"><div><div><h4 class="title">5.4.2.4. Enable TLS for authentication</h4></div></div></div><p>
						In <code class="literal">/var/lib/config-data/puppet-generated/cinder/etc/cinder/cinder.conf</code>, check that the value of <code class="literal">auth_uri</code> under the <code class="literal">[keystone_authtoken]</code> section is set to an Identity API endpoint that starts with <code class="literal">https://</code>, and the value of the parameter <code class="literal">insecure</code> also under <code class="literal">[keystone_authtoken]</code> is set to <code class="literal">False</code>.
					</p></section><section class="section" id="ensure_block_storage_uses_tls_to_communicate_with_compute"><div class="titlepage"><div><div><h4 class="title">5.4.2.5. Ensure Block Storage uses TLS to communicate with Compute</h4></div></div></div><p>
						In <code class="literal">cinder.conf</code>, check that the value of <code class="literal">glance_api_servers</code> under the <code class="literal">[DEFAULT]</code> section is set to a value that starts with <code class="literal">https://</code>, and the value of the parameter <code class="literal">glance_api_insecure</code> is set to <code class="literal">False</code>.
					</p></section><section class="section" id="ensure_nas_devices_used_for_nfs_are_operating_in_a_hardened_environment"><div class="titlepage"><div><div><h4 class="title">5.4.2.6. Ensure NAS devices used for NFS are operating in a hardened environment</h4></div></div></div><p>
						The Block Storage service (cinder) supports an NFS driver that works differently than a traditional block storage driver.
					</p><p>
						The NFS driver does not actually allow an instance to access a storage device at the block level. Instead, files are created on an NFS share and mapped to instances, which emulates a block device.
					</p><p>
						The Block Storage service supports secure configuration for such files by controlling the file permissions when cinder volumes are created. Cinder configuration can also control whether file operations are run as the <code class="literal">root</code> user or the current Red Hat OpenStack Platform process user.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							There are several director heat parameters that control whether an NFS back end or a NetApp NFS Block Storage back end supports a NetApp feature called NAS secure:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									CinderNetappNasSecureFileOperations
								</li><li class="listitem">
									CinderNetappNasSecureFilePermissions
								</li><li class="listitem">
									CinderNasSecureFileOperations
								</li><li class="listitem">
									CinderNasSecureFilePermissions
								</li></ul></div><p>
							Red Hat does not recommend that you enable the feature, because it interferes with normal volume operations. Director disables the feature by default, and Red Hat OpenStack Platform does not support it.
						</p></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							NAS devices integrated into the Block Storage service through the use of vendor-specific drivers should be considered sensitive and should be deployed in hardened, isolated environments. Any breach of these devices can lead to access or modification to instance data.
						</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								Review whether the value of <code class="literal">nas_secure_file_permissions</code> in the <code class="literal">[DEFAULT]</code> section of the <code class="literal">cinder.conf</code> file is set to <code class="literal">auto</code>.
							</p><p class="simpara">
								When the <code class="literal">nas_secure_file_permissions</code> parameter is set to <code class="literal">auto</code>, during startup, the Block Storage service detects whether there are existing cinder volumes:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										If there are no existing volumes, cinder sets the option to <code class="literal">True</code> and uses secure file permissions.
									</li><li class="listitem">
										If cinder detects existing volumes, cinder sets the option to <code class="literal">False</code> and uses the insecure method of handling file permissions.
									</li></ul></div></li><li class="listitem"><p class="simpara">
								Review whether the <code class="literal">nas_secure_file_operations</code> parameter in the <code class="literal">[DEFAULT]</code> section in the <code class="literal">cinder.conf</code> file is set to <code class="literal">auto</code>.
							</p><p class="simpara">
								When the <code class="literal">nas_secure_file_operations</code> parameter is set to <code class="literal">auto</code>, during startup, the Block Storage service detects whether there are existing cinder volumes:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										If there are no existing volumes, cinder sets the option to <code class="literal">True</code> and does not run as the root user.
									</li><li class="listitem">
										If cinder detects existing volumes, cinder sets the option to <code class="literal">False</code> and uses the current method of running operations as the <code class="literal">root</code> user.
									</li></ul></div></li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							For new installations, the Block Storage service creates a marker file so that on subsequent restarts the Block Storage service remembers the original determination.
						</p></div></div></section><section class="section" id="set_the_max_size_for_the_body_of_a_request"><div class="titlepage"><div><div><h4 class="title">5.4.2.7. Set the max size for the body of a request</h4></div></div></div><p>
						If the maximum body size per request is not defined, the attacker can craft an arbitrary OSAPI request of large size, causing the service to crash and finally resulting in a Denial Of Service attack. Assigning the maximum value ensures that any malicious oversized request gets blocked ensuring continued availability of the service.
					</p><p>
						Review whether <code class="literal">osapi_max_request_body_size</code> under the <code class="literal">[DEFAULT]</code> section in <code class="literal">cinder.conf</code> is set to <code class="literal">114688</code>, or if <code class="literal">max_request_body_size</code> under the <code class="literal">[oslo_middleware]</code> section in <code class="literal">cinder.conf</code> is set to <code class="literal">114688</code>.
					</p></section><section class="section" id="enable_volume_encryption"><div class="titlepage"><div><div><h4 class="title">5.4.2.8. Enable volume encryption</h4></div></div></div><p>
						Unencrypted volume data makes volume-hosting platforms especially high-value targets for attackers, as it allows the attacker to read the data for many different VMs. In addition, the physical storage medium could be stolen, remounted, and accessed from a different machine. Encrypting volume data and volume backups can help mitigate these risks and provides defense-in-depth to volume-hosting platforms. Block Storage (cinder) is able to encrypt volume data before it is written to disk, so consider enabling volume encryption, and using Barbican for private key storage.
					</p></section></section></section><section class="section" id="networking"><div class="titlepage"><div><div><h2 class="title">5.5. Networking</h2></div></div></div><p>
				The OpenStack Networking service (neutron) enables the end-user or project to define and consume networking resources. OpenStack Networking provides a project-facing API for defining network connectivity and IP addressing for instances in the cloud, in addition to orchestrating the network configuration. With the transition to an API-centric networking service, cloud architects and administrators should take into consideration good practices to secure physical and virtual network infrastructure and services.
			</p><p>
				OpenStack Networking was designed with a plug-in architecture that provides extensibility of the API through open source community or third-party services. As you evaluate your architectural design requirements, it is important to determine what features are available in OpenStack Networking core services, any additional services that are provided by third-party products, and what supplemental services are required to be implemented in the physical infrastructure.
			</p><p>
				This section is a high-level overview of what processes and good practices should be considered when implementing OpenStack Networking.
			</p><section class="section" id="networking_architecture"><div class="titlepage"><div><div><h3 class="title">5.5.1. Networking architecture</h3></div></div></div><p>
					OpenStack Networking is a standalone service that deploys multiple processes across a number of nodes. These processes interact with each other and other OpenStack services. The main process of the OpenStack Networking service is neutron-server, a Python daemon that exposes the OpenStack Networking API and passes project requests to a suite of plug-ins for additional processing.
				</p><p>
					The OpenStack Networking components are:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<span class="strong strong"><strong>Neutron server (<code class="literal">neutron-server</code> and <code class="literal">neutron-*-plugin</code>)</strong></span> - The neutron-server service runs on the Controller node to service the Networking API and its extensions (or plugins). It also enforces the network model and IP addressing of each port. The neutron-server requires direct access to a persistent database. Agents have indirect access to the database through neutron-server, with which they communicate using AMQP (Advanced Message Queuing Protocol).
						</li><li class="listitem">
							<span class="strong strong"><strong>Neutron database</strong></span> - The database is the centralized source of neutron information, with the API recording all transactions in the database. This allows multiple Neutron servers to share the same database cluster, which keeps them all in sync, and allows persistence of network configuration topology.
						</li><li class="listitem">
							<span class="strong strong"><strong>Plugin agent (<code class="literal">neutron-*-agent</code>)</strong></span> - Runs on each compute node and networking node (together with the L3 and DHCP agents) to manage local virtual switch (vswitch) configuration. The enabled plug-in determines which agents are enabled. These services require message queue access and depending on the plug-in being used, access to external network controllers or SDN implementations. Some plug-ins, like OpenDaylight(ODL) and Open Virtual Network (OVN), do not require any python agents on compute nodes, requiring only an enabled Neutron plug-in for integration.
						</li><li class="listitem">
							<span class="strong strong"><strong>DHCP agent (<code class="literal">neutron-dhcp-agent</code>)</strong></span> - Provides DHCP services to project networks. This agent is the same across all plug-ins and is responsible for maintaining DHCP configuration. The neutron-dhcp-agent requires message queue access. Optional depending on plug-in.
						</li><li class="listitem">
							<span class="strong strong"><strong>Metadata agent (<code class="literal">neutron-metadata-agent</code>, <code class="literal">neutron-ns-metadata-proxy</code>)</strong></span> - Provides metadata services used to apply instance operating system configuration and user-supplied initialisation scripts (‘userdata’). The implementation requires the <code class="literal">neutron-ns-metadata-proxy</code> running in the L3 or DHCP agent namespace to intercept metadata API requests sent by cloud-init to be proxied to the metadata agent.
						</li><li class="listitem">
							<span class="strong strong"><strong>L3 agent (<code class="literal">neutron-l3-agent</code>)</strong></span> - Provides L3/NAT forwarding for external network access of VMs on project networks. Requires message queue access. Optional depending on plug-in.
						</li><li class="listitem">
							<span class="strong strong"><strong>Network provider services (SDN server/services)</strong></span> - Provides additional networking services to project networks. These SDN services might interact with neutron-server, neutron-plugin, and plugin-agents through communication channels such as REST APIs.
						</li></ul></div><p>
					The following diagram shows an architectural and networking flow diagram of the OpenStack Networking components:
				</p><div class="informalfigure"><div class="mediaobject"><img src="network-connections.png" alt="network connections"/></div></div><p>
					Note that this approach changes significantly when Distributed Virtual Routing (DVR) and Layer-3 High Availability (L3HA) are used. These modes change the security landscape of neutron, since L3HA implements VRRP between routers. The deployment needs to be correctly sized and hardened to help mitigate DoS attacks against routers, and local-network traffic between routers must be treated as sensitive, to help address the threat of VRRP spoofing. DVR moves networking components (such as routing) to the Compute nodes, while still requiring network nodes. As a result, the Compute nodes require access to and from public networks, increasing their exposure and requiring additional security consideration for customers, as they will need to make sure firewall rules and security model support this approach.
				</p><section class="section" id="neutron_service_placement_on_physical_servers"><div class="titlepage"><div><div><h4 class="title">5.5.1.1. Neutron service placement on physical servers</h4></div></div></div><p>
						This section describes a standard architecture that includes a controller node, a network node, and a set of compute nodes for running instances. To establish network connectivity for physical servers, a typical neutron deployment has up to four distinct physical data center networks:
					</p><div class="informalfigure"><div class="mediaobject"><img src="network-domains-diagram.png" alt="network domains diagram"/></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<span class="strong strong"><strong>Management network</strong></span> - Used for internal communication between OpenStack Components. The IP addresses on this network should be reachable only within the data center and is considered the Management Security zone. By default, the Management network role is performed by the <span class="emphasis"><em>Internal API</em></span> network.
							</li><li class="listitem">
								<span class="strong strong"><strong>Guest network(s)</strong></span> - Used for VM data communication within the cloud deployment. The IP addressing requirements of this network depend on the OpenStack Networking plug-in in use and the network configuration choices of the virtual networks made by the project. This network is considered the Guest Security zone.
							</li><li class="listitem">
								<span class="strong strong"><strong>External network</strong></span> - Used to provide VMs with Internet access in some deployment scenarios. The IP addresses on this network should be reachable by anyone on the Internet. This network is considered to be in the Public Security zone. This network is provided by the neutron <span class="emphasis"><em>External</em></span> network(s). These neutron VLANs are hosted on the external bridge. They are not created by Red Hat OpenStack Platform director, but are created by neutron in post-deployment.
							</li><li class="listitem">
								<span class="strong strong"><strong>Public API network</strong></span> - Exposes all OpenStack APIs, including the OpenStack Networking API, to projects. The IP addresses on this network should be reachable by anyone on the Internet. This might be the same network as the external network, as it is possible to create a subnet for the external network that uses IP allocation ranges smaller than the full range of IP addresses in an IP block. This network is considered to be in the Public Security zone.
							</li></ul></div><p>
						It is recommended you segment this traffic into separate zones. See the next section for more information.
					</p></section></section><section class="section" id="use_security_zones"><div class="titlepage"><div><div><h3 class="title">5.5.2. Use security zones</h3></div></div></div><p>
					It is recommended that you use the concept of security zones to keep critical systems separate from each other. In a practical sense, this means isolating network traffic using VLANs and firewall rules. This should be done with granular detail, and the result should be that only the services that need to connect to neutron are able to do so.
				</p><p>
					In the following diagram, you can see that zones have been created to separate certain components:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Dashboard: Accessible to public network and management network.
						</li><li class="listitem">
							Keystone: Accessible to management network.
						</li><li class="listitem">
							Compute node: Accessible to management network and Compute instances.
						</li><li class="listitem">
							Network node: Accessible to management network, Compute instances, and possibly public network depending upon neutron-plugin in use.
						</li><li class="listitem">
							SDN service node: Management services, Compute instances, and possibly public depending upon product used and configuration.
						</li></ul></div><div class="informalfigure"><div class="mediaobject"><img src="network-zones.png" alt="network zones"/></div></div><p>
					.
				</p></section><section class="section" id="networking_services"><div class="titlepage"><div><div><h3 class="title">5.5.3. Networking Services</h3></div></div></div><p>
					In the initial architectural phases of designing your OpenStack Network infrastructure it is important to ensure appropriate expertise is available to assist with the design of the physical networking infrastructure, to identify proper security controls and auditing mechanisms.
				</p><p>
					OpenStack Networking adds a layer of virtualized network services which gives projects the capability to architect their own virtual networks. Currently, these virtualized services are not as mature as their traditional networking counterparts. Consider the current state of these virtualized services before adopting them as it dictates what controls you might have to implement at the virtualized and traditional network boundaries.
				</p><section class="section" id="l2_isolation_using_vlans_and_tunneling"><div class="titlepage"><div><div><h4 class="title">5.5.3.1. L2 isolation using VLANs and tunneling</h4></div></div></div><p>
						OpenStack Networking can employ two different mechanisms for traffic segregation on a per project/network combination: VLANs (IEEE 802.1Q tagging) or L2 tunnels using VXLAN or GRE encapsulation. The scope and scale of your OpenStack deployment determines which method you should use for traffic segregation or isolation.
					</p></section><section class="section" id="vlans"><div class="titlepage"><div><div><h4 class="title">5.5.3.2. VLANs</h4></div></div></div><p>
						VLANs are realized as packets on a specific physical network containing IEEE 802.1Q headers with a specific VLAN ID (VID) field value. VLAN networks sharing the same physical network are isolated from each other at L2, and can even have overlapping IP address spaces. Each distinct physical network supporting VLAN networks is treated as a separate VLAN trunk, with a distinct space of VID values. Valid VID values are 1 through 4094.
					</p><p>
						VLAN configuration complexity depends on your OpenStack design requirements. To allow OpenStack Networking to more efficiently use VLANs, you must allocate a VLAN range (one for each project) and turn each Compute node physical switch port into a VLAN trunk port.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							If you intend for your network to support more than 4094 projects, an L2 tunneling configuration is recommended over VLANs.
						</p></div></div></section><section class="section" id="l2_tunneling"><div class="titlepage"><div><div><h4 class="title">5.5.3.3. L2 tunneling</h4></div></div></div><p>
						Network tunneling encapsulates each project/network combination with a unique “tunnel-id” that is used to identify the network traffic belonging to that combination. The project’s L2 network connectivity is independent of physical locality or underlying network design. By encapsulating traffic inside IP packets, that traffic can cross Layer-3 boundaries, removing the need for pre-configured VLANs and VLAN trunking. Tunneling adds a layer of obfuscation to network data traffic, reducing the visibility of individual project traffic from a monitoring point of view.
					</p><p>
						OpenStack Networking currently supports both GRE and VXLAN encapsulation. The choice of technology to provide L2 isolation is dependent upon the scope and size of project networks that will be created in your deployment.
					</p></section><section class="section" id="network_services"><div class="titlepage"><div><div><h4 class="title">5.5.3.4. Network services</h4></div></div></div><p>
						The choice of project network isolation affects how the network security and control boundary is implemented for project services. The following additional network services are either available or currently under development to enhance the security posture of the OpenStack network architecture.
					</p></section><section class="section" id="access_control_lists"><div class="titlepage"><div><div><h4 class="title">5.5.3.5. Access control lists</h4></div></div></div><p>
						Compute supports project network traffic access controls through use of the OpenStack Networking service. Security groups allow administrators and projects the ability to specify the type of traffic, and direction (ingress/egress) that is allowed to pass through a virtual interface port. Security groups rules are stateful L2-L4 traffic filters.
					</p></section></section><section class="section" id="l3_routing_and_nat"><div class="titlepage"><div><div><h3 class="title">5.5.4. L3 routing and NAT</h3></div></div></div><p>
					OpenStack Networking routers can connect multiple L2 networks, and can also provide a gateway that connects one or more private L2 networks to a shared external network, such as a public network for access to the Internet.
				</p><p>
					The L3 router provides basic Network Address Translation (SNAT and DNAT) capabilities on gateway ports that uplink the router to external networks. This router SNATs (Source NAT) all egress traffic by default, and supports floating IPs, which creates a static one-to-one bidirectional mapping from a public IP on the external network to a private IP on one of the other subnets attached to the router. Floating IPs (through DNAT) provide external inbound connectivity to instances, and can be moved from one instances to another.
				</p><p>
					Consider using per-project L3 routing and Floating IPs for more granular connectivity of project instances. Special consideration should be given to instances connected to public networks or using Floating IPs. Usage of carefully considered security groups is recommended to filter access to only services which need to be exposed externally.
				</p></section><section class="section" id="quality_of_service_qos"><div class="titlepage"><div><div><h3 class="title">5.5.5. Quality of Service (QoS)</h3></div></div></div><p>
					By default, Quality of Service (QoS) policies and rules are managed by the cloud administrator, which results in projects being unable to create specific QoS rules, or to attach specific policies to ports. In some use cases, such as some telecommunications applications, the administrator might trust the projects and therefore let them create and attach their own policies to ports. This can be done by modifying the <code class="literal">policy.json</code> file.
				</p><p>
					From Red Hat OpenStack Platform 12, neutron supports bandwidth-limiting QoS rules for both ingress and egress traffic. This QoS rule is named <code class="literal">QosBandwidthLimitRule</code> and it accepts two non-negative integers measured in kilobits per second:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">max-kbps</code>: bandwidth
						</li><li class="listitem">
							<code class="literal">max-burst-kbps</code>: burst buffer
						</li></ul></div><p>
					The <code class="literal">QoSBandwidthLimitRule</code> has been implemented in the neutron Open vSwitch, Linux bridge and SR-IOV drivers. However, for SR-IOV drivers, the <code class="literal">max-burst-kbps</code> value is not used, and is ignored if set.
				</p><p>
					The QoS rule <code class="literal">QosDscpMarkingRule</code> was added in the Red Hat OpenStack Platform 10 (Newton) release. This rule marks the Differentiated Service Code Point (DSCP) value in the type of service header on IPv4 (RFC 2474) and traffic class header on IPv6 on all traffic leaving a virtual machine, where the rule is applied. This is a 6-bit header with 21 valid values that denote the drop priority of a packet as it crosses networks should it meet congestion. It can also be used by firewalls to match valid or invalid traffic against its access control list.
				</p><section class="section" id="load_balancing"><div class="titlepage"><div><div><h4 class="title">5.5.5.1. Load balancing</h4></div></div></div><p>
						The OpenStack Load-balancing service (Octavia) provides a load balancing-as-a-service (LBaaS) implementation for Red Hat OpenStack platform director installations. To achieve load balancing, Octavia supports enabling multiple provider drivers. The reference provider driver (Amphora provider driver) is an open-source, scalable, and highly available load balancing provider. It accomplishes its delivery of load balancing services by managing a fleet of virtual machines—​collectively known as amphorae—​which it spins up on demand.
					</p><p>
						For more information about the Load-balancing service, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/networking_guide/index#sec-octavia">Load Balancing-as-a-Service (LBaaS) with Octavia</a> in the Networking Guide.
					</p></section></section><section class="section" id="hardening_the_networking_service"><div class="titlepage"><div><div><h3 class="title">5.5.6. Hardening the Networking Service</h3></div></div></div><p>
					This section discusses OpenStack Networking configuration good practices as they apply to project network security within your OpenStack deployment.
				</p><section class="section" id="restrict_bind_address_of_the_api_server_neutron_server"><div class="titlepage"><div><div><h4 class="title">5.5.6.1. Restrict bind address of the API server: neutron-server</h4></div></div></div><p>
						To restrict the interface or IP address on which the OpenStack Networking API service binds a network socket for incoming client connections, specify the <code class="literal">bind_host</code> and <code class="literal">bind_port</code> in the <code class="literal">/var/lib/config-data/puppet-generated/neutron/etc/neutron/neutron.conf</code> file:
					</p><pre class="screen"># Address to bind the API server
bind_host = IP ADDRESS OF SERVER

# Port the bind the API server to
bind_port = 9696</pre></section><section class="section" id="restrict_db_and_rpc_communication_of_the_openstack_networking_services"><div class="titlepage"><div><div><h4 class="title">5.5.6.2. Restrict DB and RPC communication of the OpenStack Networking services</h4></div></div></div><p>
						Various components of the OpenStack Networking services use either the messaging queue or database connections to communicate with other components in OpenStack Networking.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							It is recommended that you follow the guidelines provided in <a class="xref" href="index.html#queue_authentication_and_access_control" title="13.3. Queue authentication and access control">Section 13.3, “Queue authentication and access control”</a> for all components which require RPC communication.
						</p></div></div></section><section class="section" id="project_network_services_workflow"><div class="titlepage"><div><div><h4 class="title">5.5.6.3. Project network services workflow</h4></div></div></div><p>
						OpenStack Networking provides users self-service configuration of network resources. It is important that cloud architects and operators evaluate their design use cases in providing users the ability to create, update, and destroy available network resources.
					</p></section><section class="section" id="networking_resource_policy_engine"><div class="titlepage"><div><div><h4 class="title">5.5.6.4. Networking resource policy engine</h4></div></div></div><p>
						A policy engine and its configuration file (<code class="literal">policy.json</code>) within OpenStack Networking provides a method to provide finer grained authorization of users on project networking methods and objects. The OpenStack Networking policy definitions affect network availability, network security and overall OpenStack security. Cloud architects and operators should carefully evaluate their policy towards user and project access to administration of network resources.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							It is important to review the default networking resource policy, as this policy can be modified to suit your security posture.
						</p></div></div><p>
						If your deployment of OpenStack provides multiple external access points into different security zones it is important that you limit the project’s ability to attach multiple vNICs to multiple external access points — this would bridge these security zones and could lead to unforeseen security compromise. You can help mitigate this risk by using the host aggregates functionality provided by Compute, or by splitting the project instances into multiple projects with different virtual network configurations. For more information on host aggregates, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/instances_and_images_guide/creating-and-managing-host-aggregates">Creating and managing host aggregates</a>.
					</p></section><section class="section" id="security_groups"><div class="titlepage"><div><div><h4 class="title">5.5.6.5. Security groups</h4></div></div></div><p>
						A security group is a collection of security group rules. Security groups and their rules allow administrators and projects the ability to specify the type of traffic and direction (ingress/egress) that is allowed to pass through a virtual interface port. When a virtual interface port is created in OpenStack Networking it is associated with a security group. Rules can be added to the default security group in order to change the behavior on a per-deployment basis.
					</p><p>
						When using the Compute API to modify security groups, the updated security group applies to all virtual interface ports on an instance. This is due to the Compute security group APIs being instance-based rather than port-based, as found in neutron.
					</p></section><section class="section" id="quotas"><div class="titlepage"><div><div><h4 class="title">5.5.6.6. Quotas</h4></div></div></div><p>
						Quotas provide the ability to limit the number of network resources available to projects. You can enforce default quotas for all projects. To review the quota options, see <code class="literal">/var/lib/config-data/puppet-generated/neutron/etc/neutron/neutron.conf</code>.
					</p><p>
						OpenStack Networking also supports per-project quotas limit through a quota extension API. To enable per-project quotas, you must set the <code class="literal">quota_driver</code> option in <code class="literal">/var/lib/config-data/puppet-generated/neutron/etc/neutron/neutron.conf</code>. For example:
					</p><pre class="screen">quota_driver = neutron.db.quota_db.DbQuotaDriver</pre></section><section class="section" id="mitigate_arp_spoofing"><div class="titlepage"><div><div><h4 class="title">5.5.6.7. Mitigate ARP spoofing</h4></div></div></div><p>
						OpenStack Networking has a built-in feature to help mitigate the threat of ARP spoofing for instances. This should not be disabled unless careful consideration is given to the resulting risks.
					</p></section><section class="section" id="set_the_user_group_ownership_of_config_files_to_root_neutron"><div class="titlepage"><div><div><h4 class="title">5.5.6.8. Set the user/group ownership of config files to root/neutron</h4></div></div></div><p>
						Configuration files contain critical parameters and information required for smooth functioning of the component. If an unprivileged user, either intentionally or accidentally modifies or deletes any of the parameters or the file itself then it would cause severe availability issues causing a denial of service to the other end users. Thus user ownership of such critical configuration files must be set to root and group ownership must be set to neutron.
					</p><p>
						Ensure the user and group ownership of the following files is set to <code class="literal">root</code> and <code class="literal">neutron</code> respectively. Note that the exact file path might vary for containerized services:
					</p><pre class="screen">$ stat -L -c "%U %G" /var/lib/config-data/puppet-generated/neutron/etc/neutron/neutron.conf | egrep "root neutron"
$ stat -L -c "%U %G" /var/lib/config-data/puppet-generated/neutron/etc/neutron/api-paste.ini | egrep "root neutron"
$ stat -L -c "%U %G" /var/lib/config-data/puppet-generated/neutron/etc/neutron/policy.json | egrep "root neutron"
$ stat -L -c "%U %G" /var/lib/config-data/puppet-generated/neutron/etc/neutron/rootwrap.conf | egrep "root neutron"</pre></section><section class="section" id="set_strict_permissions_for_configuration_files_2"><div class="titlepage"><div><div><h4 class="title">5.5.6.9. Set Strict Permissions for Configuration Files</h4></div></div></div><p>
						Check that the permissions for the following files are set to <code class="literal">640</code> or stricter. Note that the exact file path might vary for containerized services:
					</p><pre class="screen">$ stat -L -c "%a" /var/lib/config-data/puppet-generated/neutron/etc/neutron/neutron.conf
$ stat -L -c "%a" /var/lib/config-data/puppet-generated/neutron/etc/neutron/api-paste.ini
$ stat -L -c "%a" /var/lib/config-data/puppet-generated/neutron/etc/neutron/policy.json
$ stat -L -c "%a" /var/lib/config-data/puppet-generated/neutron/etc/neutron/rootwrap.conf</pre></section><section class="section" id="use_keystone_for_authentication_2"><div class="titlepage"><div><div><h4 class="title">5.5.6.10. Use Keystone for Authentication</h4></div></div></div><p>
						In <code class="literal">/var/lib/config-data/puppet-generated/neutron/etc/neutron/neutron.conf</code> check that the value of <code class="literal">auth_strategy</code> under the <code class="literal">[DEFAULT]</code> section is set to <code class="literal">keystone</code> and not <code class="literal">noauth</code> or <code class="literal">noauth2</code>.
					</p><section class="section" id="use_a_secure_protocol_for_authentication"><div class="titlepage"><div><div><h5 class="title">5.5.6.10.1. Use a Secure Protocol for Authentication</h5></div></div></div><p>
							In <code class="literal">/var/lib/config-data/puppet-generated/neutron/etc/neutron/neutron.conf</code> check that the value of <code class="literal">auth_uri</code> under the <code class="literal">[keystone_authtoken]</code> section is set to an Identity API endpoint that starts with <code class="literal">https://</code>, and the value of the parameter <code class="literal">insecure</code> also under <code class="literal">[keystone_authtoken]</code> is set to <code class="literal">False</code>.
						</p></section><section class="section" id="enable_tls_on_neutron_api_server"><div class="titlepage"><div><div><h5 class="title">5.5.6.10.2. Enable TLS on Neutron API Server</h5></div></div></div><p>
							In <code class="literal">/var/lib/config-data/puppet-generated/neutron/etc/neutron/neutron.conf</code>, ensure the parameter <code class="literal">use_ssl</code> under the <code class="literal">[DEFAULT]</code> section is set to <code class="literal">True</code>.
						</p></section></section></section></section></section><section class="chapter" id="using_director_to_configure_security_hardening"><div class="titlepage"><div><div><h1 class="title">Chapter 6. Using director to configure security hardening</h1></div></div></div><p>
			This chapter describes how director can apply security hardening values as part of the deployment process.
		</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				When running <code class="literal">openstack overcloud deploy</code>, remember that you will always need to include all necessary environment files needed to deploy the overcloud, in addition to any changes you want to make.
			</p></div></div><section class="section" id="use_ssh_banner_text"><div class="titlepage"><div><div><h2 class="title">6.1. Use SSH banner text</h2></div></div></div><p>
				You can set a banner that displays a console message to all users that connect over SSH. You can add banner text to <code class="literal">/etc/issue</code> using the following parameters in an environment file. Consider customizing this sample text to suit your requirements.
			</p><pre class="screen">    resource_registry:
      OS::TripleO::Services::Sshd: ../puppet/services/sshd.yaml

    parameter_defaults:
      BannerText: |
        ******************************************************************
        * This system is for the use of authorized users only. Usage of  *
        * this system may be monitored and recorded by system personnel. *
        * Anyone using this system expressly consents to such monitoring *
        * and is advised that if such monitoring reveals possible        *
        * evidence of criminal activity, system personnel may provide    *
        * the evidence from such monitoring to law enforcement officials.*
        ******************************************************************</pre><p>
				To apply this change to your deployment, save the settings as a file called <code class="literal">ssh_banner.yaml</code>, and then pass it to the <code class="literal">overcloud deploy</code> command as follows. The <code class="literal">&lt;full environment&gt;</code> indicates that you must still include all of your original deployment parameters. For example:
			</p><pre class="screen">    openstack overcloud deploy --templates \
      -e &lt;full environment&gt; -e  ssh_banner.yaml</pre></section><section class="section" id="audit_for_system_events"><div class="titlepage"><div><div><h2 class="title">6.2. Audit for system events</h2></div></div></div><p>
				Maintaining a record of all audit events helps you establish a system baseline, perform troubleshooting, or analyze the sequence of events that led to a certain outcome. The audit system is capable of logging many types of events, such as changes to the system time, changes to Mandatory/Discretionary Access Control, and creating/deleting users or groups.
			</p><p>
				Rules can be created using an environment file, which are then injected by director into <code class="literal">/etc/audit/audit.rules</code>. For example:
			</p><pre class="screen">    resource_registry:
      OS::Tripleo::Services::AuditD: /usr/share/openstack-tripleo-heat-templates/deployment/auditd/auditd-baremetal-puppet.yaml
    parameter_defaults:
      AuditdRules:
        'Record Events that Modify User/Group Information':
          content: '-w /etc/group -p wa -k audit_rules_usergroup_modification'
          order  : 1
        'Collects System Administrator Actions':
          content: '-w /etc/sudoers -p wa -k actions'
          order  : 2
        'Record Events that Modify the Systems Mandatory Access Controls':
          content: '-w /etc/selinux/ -p wa -k MAC-policy'
          order  : 3</pre></section><section class="section" id="manage_firewall_rules"><div class="titlepage"><div><div><h2 class="title">6.3. Manage firewall rules</h2></div></div></div><p>
				Firewall rules are automatically applied on overcloud nodes during deployment, and are intended to only expose the ports required to get OpenStack working. You can specify additional firewall rules as needed. For example, to add rules for a Zabbix monitoring system:
			</p><pre class="screen">    parameter_defaults:
      ControllerExtraConfig:
        tripleo::firewall::firewall_rules:
          '301 allow zabbix':
            dport: 10050
            proto: tcp
            source: 10.0.0.8
            action: accept</pre><p>
				You can also add rules that restrict access. The number used during rule definition will determine the rule’s precedence. For example, RabbitMQ’s rule number is <code class="literal">109</code> by default. If you want to restrain it, you switch it to use a lower value:
			</p><pre class="screen">    parameter_defaults:
      ControllerExtraConfig:
        tripleo::firewall::firewall_rules:
          '098 allow rabbit from internalapi network':
            dport: [4369,5672,25672]
            proto: tcp
            source: 10.0.0.0/24
            action: accept
          '099 drop other rabbit access':
            dport: [4369,5672,25672]
            proto: tcp
            action: drop</pre><p>
				In this example, <code class="literal">098</code> and <code class="literal">099</code> are arbitrarily chosen numbers that are lower than RabbitMQ’s rule number <code class="literal">109</code>. To determine a rule’s number, you can inspect the iptables rule on the appropriate node; for RabbitMQ, you would check the controller:
			</p><pre class="screen">iptables-save
[...]
-A INPUT -p tcp -m multiport --dports 4369,5672,25672 -m comment --comment "109 rabbitmq" -m state --state NEW -j ACCEPT</pre><p>
				Alternatively, you can extract the port requirements from the puppet definition. For example, RabbitMQ’s rules are stored in <code class="literal">puppet/services/rabbitmq.yaml</code>:
			</p><pre class="screen">    tripleo.rabbitmq.firewall_rules:
      '109 rabbitmq':
        dport:
          - 4369
          - 5672
          - 25672</pre><p>
				The following parameters can be set for a rule:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">port</code>: The port associated to the rule. Deprecated by <code class="literal">puppetlabs-firewall</code>.
					</li><li class="listitem">
						<code class="literal">dport</code>: The destination port associated to the rule.
					</li><li class="listitem">
						<code class="literal">sport</code>: The source port associated to the rule.
					</li><li class="listitem">
						<code class="literal">proto</code>: The protocol associated to the rule. Defaults to <span class="emphasis"><em>tcp</em></span>
					</li><li class="listitem">
						<code class="literal">action</code>: The action policy associated to the rule. Defaults to <span class="emphasis"><em>accept</em></span>
					</li><li class="listitem">
						<code class="literal">jump</code>: The chain to jump to.
					</li><li class="listitem">
						<code class="literal">state</code>: Array of states associated to the rule. Default to [<span class="emphasis"><em>NEW</em></span>]
					</li><li class="listitem">
						<code class="literal">source</code>: The source IP address associated to the rule.
					</li><li class="listitem">
						<code class="literal">iniface</code>: The network interface associated to the rule.
					</li><li class="listitem">
						<code class="literal">chain</code>: The chain associated to the rule. Default to <span class="emphasis"><em>INPUT</em></span>
					</li><li class="listitem">
						<code class="literal">destination</code>: The destination cidr associated to the rule.
					</li><li class="listitem">
						<code class="literal">extras</code>: Hash of any additional parameters supported by the <code class="literal">puppetlabs-firewall</code> module.
					</li></ul></div></section><section class="section" id="intrusion_detection_with_aide"><div class="titlepage"><div><div><h2 class="title">6.4. Intrusion detection with AIDE</h2></div></div></div><p>
				AIDE (Advanced Intrusion Detection Environment) is a file and directory integrity checker. It is used to detect incidents of unauthorized file tampering or changes. For example, AIDE can alert you if system password files are changed.
			</p><p>
				AIDE works by analyzing system files and then compiling an integrity database of file hashes. The database then serves as a comparison point to verify the integrity of the files and directories and detect changes.
			</p><p>
				The director includes the AIDE service, allowing you to add entries into an AIDE configuration, which is then used by the AIDE service to create an integrity database. For example:
			</p><pre class="screen">  resource_registry:
    OS::TripleO::Services::Aide: ../puppet/services/aide.yaml

  parameter_defaults:
    AideRules:
      'TripleORules':
        content: 'TripleORules = p+sha256'
        order: 1
      'etc':
        content: '/etc/ TripleORules'
        order: 2
      'boot':
        content: '/boot/ TripleORules'
        order: 3
      'sbin':
        content: '/sbin/ TripleORules'
        order: 4
      'var':
        content: '/var/ TripleORules'
        order: 5
      'not var/log':
        content: '!/var/log.*'
        order: 6
      'not var/spool':
        content: '!/var/spool.*'
        order: 7
      'not nova instances':
        content: '!/var/lib/nova/instances.*'
        order: 8</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The above example is not actively maintained or benchmarked, so you should select the AIDE values that suit your requirements.
				</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						An alias named <code class="literal">TripleORules</code> is declared to avoid having to repeatedly out the same attributes each time.
					</li><li class="listitem">
						The alias receives the attributes of <code class="literal">p+sha256</code>. In AIDE terms, this reads as the following instruction: monitor all file permissions <code class="literal">p</code> with an integrity checksum of <code class="literal">sha256</code>.
					</li></ol></div><p>
				For a complete list of attributes available for AIDE’s config files, see the AIDE MAN page at <a class="link" href="https://aide.github.io/">https://aide.github.io/</a>.
			</p><p>
				To apply this change to your deployment, save the settings as a file called <code class="literal">aide.yaml</code>, and then pass it to the <code class="literal">overcloud deploy</code> command as follows. The <code class="literal">&lt;full environment&gt;</code> indicates that you must still include all of your original deployment parameters. For example:
			</p><pre class="screen">openstack overcloud deploy --templates -e &lt;full environment&gt; /usr/share/openstack-tripleo-heat-templates/environments/aide.yaml</pre><section class="section" id="using_complex_aide_rules"><div class="titlepage"><div><div><h3 class="title">6.4.1. Using complex AIDE rules</h3></div></div></div><p>
					Complex rules can be created using the format described previously. For example:
				</p><pre class="screen">    MyAlias = p+i+n+u+g+s+b+m+c+sha512</pre><p>
					The above would translate as the following instruction: monitor permissions, inodes, number of links, user, group, size, block count, mtime, ctime, using sha256 for checksum generation.
				</p><p>
					Note, the alias should always have an order position of <code class="literal">1</code>, which means that it is positioned at the top of the AIDE rules and is applied recursively to all values below.
				</p><p>
					Following after the alias are the directories to monitor. Note that regular expressions can be used. For example we set monitoring for the <code class="literal">var</code> directory, but overwrite with a not clause using <code class="literal">!</code> with <code class="literal">'!/var/log.*'</code> and <code class="literal">'!/var/spool.*'</code>.
				</p></section><section class="section" id="additional_aide_values"><div class="titlepage"><div><div><h3 class="title">6.4.2. Additional AIDE values</h3></div></div></div><p>
					The following AIDE values are also available:
				</p><p>
					<code class="literal">AideConfPath</code>: The full POSIX path to the aide configuration file, this defaults to <code class="literal">/etc/aide.conf</code>. If no requirement is in place to change the file location, it is recommended to stick with the default path.
				</p><p>
					<code class="literal">AideDBPath</code>: The full POSIX path to the AIDE integrity database. This value is configurable to allow operators to declare their own full path, as often AIDE database files are stored off node perhaps on a read only file mount.
				</p><p>
					<code class="literal">AideDBTempPath</code>: The full POSIX path to the AIDE integrity temporary database. This temporary files is created when AIDE initializes a new database.
				</p><p>
					<code class="literal">AideHour</code>: This value is to set the hour attribute as part of AIDE cron configuration.
				</p><p>
					<code class="literal">AideMinute</code>: This value is to set the minute attribute as part of AIDE cron configuration.
				</p><p>
					<code class="literal">AideCronUser</code>: This value is to set the linux user as part of AIDE cron configuration.
				</p><p>
					<code class="literal">AideEmail</code>: This value sets the email address that receives AIDE reports each time a cron run is made.
				</p><p>
					<code class="literal">AideMuaPath</code>: This value sets the path to the Mail User Agent that is used to send AIDE reports to the email address set within <code class="literal">AideEmail</code>.
				</p></section><section class="section" id="cron_configuration_for_aide"><div class="titlepage"><div><div><h3 class="title">6.4.3. Cron configuration for AIDE</h3></div></div></div><p>
					The AIDE director service allows you to configure a cron job. By default, it will send reports to <code class="literal">/var/log/audit/</code>; if you want to use email alerts, then enable the <code class="literal">AideEmail</code> parameter to send the alerts to the configured email address. Note that a reliance on email for critical alerts can be vulnerable to system outages and unintentional message filtering.
				</p></section><section class="section" id="considering_the_effect_of_system_upgrades"><div class="titlepage"><div><div><h3 class="title">6.4.4. Considering the effect of system upgrades</h3></div></div></div><p>
					When an upgrade is performed, the AIDE service will automatically regenerate a new integrity database to ensure all upgraded files are correctly recomputed to possess an updated checksum.
				</p><p>
					If <code class="literal">openstack overcloud deploy</code> is called as a subsequent run to an initial deployment, and the AIDE configuration rules are changed, the director AIDE service will rebuild the database to ensure the new config attributes are encapsulated in the integrity database.
				</p></section></section><section class="section" id="review_securetty"><div class="titlepage"><div><div><h2 class="title">6.5. Review SecureTTY</h2></div></div></div><p>
				SecureTTY allows you to disable root access for any console device (tty). This behavior is managed by entries in the <code class="literal">/etc/securetty</code> file. For example:
			</p><pre class="screen">  resource_registry:
    OS::TripleO::Services::Securetty: ../puppet/services/securetty.yaml

  parameter_defaults:
    TtyValues:
      - console
      - tty1
      - tty2
      - tty3
      - tty4
      - tty5
      - tty6</pre></section><section class="section" id="cadf_auditing_for_identity_service"><div class="titlepage"><div><div><h2 class="title">6.6. CADF auditing for Identity Service</h2></div></div></div><p>
				A thorough auditing process can help you review the ongoing security posture of your OpenStack deployment. This is especially important for keystone, due to its role in the security model.
			</p><p>
				Red Hat OpenStack Platform has adopted Cloud Auditing Data Federation (CADF) as the data format for audit events, with the keystone service generating CADF events for Identity and Token operations. You can enable CADF auditing for keystone using <code class="literal">KeystoneNotificationFormat</code>:
			</p><pre class="screen">  parameter_defaults:
    KeystoneNotificationFormat: cadf</pre></section><section class="section" id="review_the_login_defs_values"><div class="titlepage"><div><div><h2 class="title">6.7. Review the login.defs values</h2></div></div></div><p>
				To enforce password requirements for new system users (non-keystone), director can add entries to <code class="literal">/etc/login.defs</code> by following these example parameters:
			</p><pre class="screen">  resource_registry:
    OS::TripleO::Services::LoginDefs: ../puppet/services/login-defs.yaml

  parameter_defaults:
    PasswordMaxDays: 60
    PasswordMinDays: 1
    PasswordMinLen: 5
    PasswordWarnAge: 7
    FailDelay: 4</pre></section></section><section class="chapter" id="hardening_the_dashboard_service"><div class="titlepage"><div><div><h1 class="title">Chapter 7. Hardening the Dashboard service</h1></div></div></div><p>
			This chapter describes security hardening considerations for Red Hat OpenStack Platform deployments that use the OpenStack Dashboard (horizon).
		</p><p>
			The Dashboard gives users a self-service portal for provisioning their own resources (within the limits set by administrators). For example, you can use the Dashboard to define instance flavors, upload virtual machine (VM) images, manage virtual networks, create security groups, start instances, and remotely access the instances through a management console.
		</p><p>
			The Dashboard should be treated with the same sensitivity as the OpenStack APIs, given both have the ability to grant access to cloud resources and configuration.
		</p><section class="section" id="planning_dashboard_deployment"><div class="titlepage"><div><div><h2 class="title">7.1. Planning Dashboard deployment</h2></div></div></div><p>
				This section describes security aspects to consider prior to deploying the Dashboard (horizon) service.
			</p><section class="section" id="selecting_a_domain_name"><div class="titlepage"><div><div><h3 class="title">7.1.1. Selecting a domain name</h3></div></div></div><p>
					It is recommended that you deploy dashboard to a second-level domain, such as <code class="literal">https://example.com</code>, rather than deploying dashboard on a shared subdomain (at any level), for example <code class="literal">https://openstack.example.org</code> or <code class="literal">https://horizon.openstack.example.org</code>. It is also suggested that you avoid deploying the Dashboard to bare internal domains, such as <code class="literal">https://horizon/</code>. These recommendations are based on the limitations of browser <code class="literal">same-origin-policy</code>.
				</p><p>
					This approach helps you isolate cookies and security tokens from other domains, where you might not have complete control of the content. When deployed on a subdomain, the dashboard’s security is equivalent to the least secure application deployed on the same second-level domain.
				</p><p>
					You can further mitigate this risk by avoiding a cookie-backed session store, and configuring HTTP Strict Transport Security (HSTS) (described in this guide).
				</p></section><section class="section" id="configure_allowed_hosts"><div class="titlepage"><div><div><h3 class="title">7.1.2. Configure ALLOWED_HOSTS</h3></div></div></div><p>
					Web services can be vulnerable to threats associated with fake HTTP Host headers. To help mitigate this, consider configuring the <code class="literal">ALLOWED_HOSTS</code> setting to use the FQDN served by the OpenStack dashboard.
				</p><p>
					Once configured, if the value in the <code class="literal">Host:</code> header of an incoming HTTP request does not match any of the values in this list, an error will be raised and the requestor will not be able to proceed.
				</p><p>
					Horizon is built on the python Django web framework, which requires <code class="literal">ALLOWED_HOSTS</code> be set to protect against potentially malicious manipulation of the <code class="literal">HTTP Host:</code> header. Set this value to the FQDN the dashboard should be accessible from. For director, this setting is managed by <code class="literal">HorizonAllowedHosts</code>.
				</p></section></section><section class="section" id="understanding_common_web_server_vulnerabilities"><div class="titlepage"><div><div><h2 class="title">7.2. Understanding common web server vulnerabilities</h2></div></div></div><p>
				This chapter describes how you can help mitigate some common web server vulnerabilities.
			</p><section class="section" id="cross_site_scripting_xss"><div class="titlepage"><div><div><h3 class="title">7.2.1. Cross Site Scripting (XSS)</h3></div></div></div><p>
					The OpenStack Dashboard is customizable, and allows the entire Unicode character set in most fields; this extensibility could allow the introduction of cross-site scripting (XSS) vulnerabilities. Horizon includes tools to help developers avoid inadvertently creating XSS vulnerabilities, but they only work if developers use them correctly. It is recommended that you audit any custom dashboards, and pay particular attention to the following capabilities:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							The <code class="literal">mark_safe</code> function.
						</li><li class="listitem">
							<code class="literal">is_safe</code> - when used with custom template tags.
						</li><li class="listitem">
							The <code class="literal">safe</code> template tag.
						</li><li class="listitem">
							Anywhere auto escape is turned off, and any JavaScript which might evaluate improperly escaped data.
						</li></ul></div></section><section class="section" id="cross_site_request_forgery_csrf"><div class="titlepage"><div><div><h3 class="title">7.2.2. Cross Site Request Forgery (CSRF)</h3></div></div></div><p>
					The OpenStack dashboard is designed to discourage developers from introducing cross-site scripting vulnerabilities with custom dashboards, as there is potential for threats to be introduced. Dashboards that use multiple JavaScript instances should be audited for vulnerabilities, such as inappropriate use of the <code class="literal">@csrf_exempt</code> decorator. Any dashboard that does not follow these recommended security settings should be carefully evaluated before CORS (Cross Origin Resource Sharing) restrictions are relaxed.
				</p><p>
					You should configure your web server to send a restrictive CORS header with each response, allowing only the dashboard domain and protocol. For example:<code class="literal">Access-Control-Allow-Origin: https://example.com/</code>. You should never allow the wild card origin.
				</p></section><section class="section" id="cross_frame_scripting_xfs"><div class="titlepage"><div><div><h3 class="title">7.2.3. Cross-Frame Scripting (XFS)</h3></div></div></div><p>
					The <code class="literal">disallow_iframe_embed</code> setting disallows Dashboard from being embedded within an iframe. Legacy browsers can still be vulnerable to Cross-Frame Scripting (XFS) vulnerabilities, so this option adds extra security hardening for deployments that do not require iframes.
				</p><p>
					You can allow iframe embedding using the following parameter:
				</p><pre class="screen">    parameter_defaults:
      ControllerExtraConfig:
        horizon::disallow_iframe_embed: false</pre></section><section class="section" id="using_https_encryption_for_dashboard_traffic"><div class="titlepage"><div><div><h3 class="title">7.2.4. Using HTTPS encryption for Dashboard traffic</h3></div></div></div><p>
					It is recommended you use HTTPS to encrypt Dashboard traffic. You can do this by configuring it to use a valid, trusted certificate from a recognized certificate authority (CA). Private organization-issued certificates are only appropriate when the root of trust is pre-installed in all user browsers.
				</p><p>
					Configure HTTP requests to the dashboard domain to redirect to the fully qualified HTTPS URL.
				</p><p>
					For director-based deployments, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/advanced_overcloud_customization/sect-enabling_ssltls_on_the_overcloud">https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/advanced_overcloud_customization/sect-enabling_ssltls_on_the_overcloud</a>.
				</p></section><section class="section" id="http_strict_transport_security_hsts"><div class="titlepage"><div><div><h3 class="title">7.2.5. HTTP Strict Transport Security (HSTS)</h3></div></div></div><p>
					HTTP Strict Transport Security (HSTS) prevents browsers from making subsequent insecure connections after they have initially made a secure connection. If you have deployed your HTTP services on a public or an untrusted zone, HSTS is especially important.
				</p><p>
					For director-based deployments, this setting is enabled by default:
				</p><pre class="screen">enable_secure_proxy_ssl_header: true</pre></section></section><section class="section" id="caching_the_dashboard_content"><div class="titlepage"><div><div><h2 class="title">7.3. Caching the Dashboard content</h2></div></div></div><section class="section" id="front_end_caching"><div class="titlepage"><div><div><h3 class="title">7.3.1. Front-end caching</h3></div></div></div><p>
					It is not recommended to use front-end caching tools with the Dashboard, as it renders dynamic content resulting directly from OpenStack API requests. As a result, front-end caching layers such as <code class="literal">varnish</code> can prevent the correct content from being displayed. The Dashboard uses Django, which serves static media directly served from the web service and already benefits from web host caching.
				</p></section><section class="section" id="session_backend"><div class="titlepage"><div><div><h3 class="title">7.3.2. Session backend</h3></div></div></div><p>
					For director-based deployments, the default session backend for horizon is <code class="literal">django.contrib.sessions.backends.cache</code>, which is combined with memcached. This approach is preferred to local-memory cache for performance reasons, is safer for highly-available and load balanced installs, and has the ability to share cache over multiple servers, while still treating it as a single cache.
				</p><p>
					You can review these settings in director’s <code class="literal">horizon.yaml</code> file:
				</p><pre class="screen">          horizon::cache_backend: django.core.cache.backends.memcached.MemcachedCache
          horizon::django_session_engine: 'django.contrib.sessions.backends.cache'</pre></section></section><section class="section" id="reviewing_the_secret_key"><div class="titlepage"><div><div><h2 class="title">7.4. Reviewing the secret key</h2></div></div></div><p>
				The Dashboard depends on a shared <code class="literal">SECRET_KEY</code> setting for some security functions. The secret key should be a randomly generated string at least 64 characters long, which must be shared across all active dashboard instances. Compromise of this key might allow a remote attacker to execute arbitrary code. Rotating this key invalidates existing user sessions and caching. Do not commit this key to public repositories.
			</p><p>
				For director deployments, this setting is managed as the <code class="literal">HorizonSecret</code> value.
			</p></section><section class="section" id="configuring_session_cookies"><div class="titlepage"><div><div><h2 class="title">7.5. Configuring session cookies</h2></div></div></div><p>
				The Dashboard session cookies can be open to interaction by browser technologies, such as JavaScript. For director deployments with TLS everywhere, you can harden this behavior using the <code class="literal">HorizonSecureCookies</code> setting.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Never configure CSRF or session cookies to use a wildcard domain with a leading dot.
				</p></div></div></section><section class="section" id="static_media"><div class="titlepage"><div><div><h2 class="title">7.6. Static media</h2></div></div></div><p>
				The dashboard’s static media should be deployed to a subdomain of the dashboard domain and served by the web server. The use of an external content delivery network (CDN) is also acceptable. This subdomain should not set cookies or serve user-provided content. The media should also be served with HTTPS.
			</p><p>
				Dashboard’s default configuration uses <code class="literal">django_compressor</code> to compress and minify CSS and JavaScript content before serving it. This process should be statically done before deploying the dashboard, rather than using the default in-request dynamic compression and copying the resulting files along with deployed code or to the CDN server. Compression should be done in a non-production build environment. If this is not practical, consider disabling resource compression entirely. Online compression dependencies (less, Node.js) should not be installed on production machines.
			</p></section><section class="section" id="validating_password_complexity"><div class="titlepage"><div><div><h2 class="title">7.7. Validating password complexity</h2></div></div></div><p>
				The OpenStack Dashboard (horizon) can use a password validation check to enforce password complexity.
			</p><p>
				You can specify a regular expression for password validation, as well as help text to be displayed for failed tests. The following example requires users to create a password of between 8 to 18 characters in length:
			</p><pre class="screen">    parameter_defaults:
      HorizonPasswordValidator: '^.{8,18}$'
      HorizonPasswordValidatorHelp: 'Password must be between 8 and 18 characters.'</pre><p>
				To apply this change to your deployment, save the settings as a file called <code class="literal">horizon_password.yaml</code>, and then pass it to the <code class="literal">overcloud deploy</code> command as follows. The <code class="literal">&lt;full environment&gt;</code> indicates that you must still include all of your original deployment parameters. For example:
			</p><pre class="screen">    openstack overcloud deploy --templates \
      -e &lt;full environment&gt; -e  horizon_password.yaml</pre></section><section class="section" id="enforce_the_administrator_password_check"><div class="titlepage"><div><div><h2 class="title">7.8. Enforce the administrator password check</h2></div></div></div><p>
				The following setting is set to <code class="literal">True</code> by default, however it can be disabled using an environment file, if needed.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					These settings should only be set to <code class="literal">False</code> once the potential security impacts are fully understood.
				</p></div></div><p>
				The <code class="literal">ENFORCE_PASSWORD_CHECK</code> setting in Dashboard’s <code class="literal">local_settings.py</code> file displays an <span class="emphasis"><em>Admin Password</em></span> field on the <span class="emphasis"><em>Change Password</em></span> form, which helps verify that an administrator is initiating the password change.
			</p><p>
				You can disable <code class="literal">ENFORCE_PASSWORD_CHECK</code> using an environment file:
			</p><pre class="screen">    parameter_defaults:
      ControllerExtraConfig:
        horizon::enforce_password_check: false</pre></section><section class="section" id="disallow_iframe_embedding"><div class="titlepage"><div><div><h2 class="title">7.9. Disallow iframe embedding</h2></div></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					These settings should only be set to <code class="literal">False</code> once the potential security impacts are fully understood.
				</p></div></div><p>
				The <code class="literal">DISALLOW_IFRAME_EMBED</code> setting disallows Dashboard from being embedded within an iframe. Legacy browsers can still be vulnerable to Cross-Frame Scripting (XFS) vulnerabilities, so this option adds extra security hardening for deployments that do not require iframes. The setting is set to <code class="literal">True</code> by default, however it can be disabled using an environment file, if needed. For example, you can allow iframe embedding using the following parameter:
			</p><pre class="screen">    parameter_defaults:
      ControllerExtraConfig:
        horizon::disallow_iframe_embed: false</pre></section><section class="section" id="disable_password_reveal"><div class="titlepage"><div><div><h2 class="title">7.10. Disable password reveal</h2></div></div></div><p>
				The following setting is set to <code class="literal">True</code> by default, however it can be disabled using an environment file, if needed.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					These settings should only be set to <code class="literal">False</code> once the potential security impacts are fully understood.
				</p></div></div><p>
				The password reveal button allows a user at the Dashboard to view the password they are about to enter. This option can be toggled using the <code class="literal">DISABLE_PASSWORD_REVEAL</code> parameter:
			</p><pre class="screen">    parameter_defaults:
      ControllerExtraConfig:
        horizon::disable_password_reveal: false</pre></section><section class="section" id="displaying_a_login_banner_for_the_dashboard"><div class="titlepage"><div><div><h2 class="title">7.11. Displaying a login banner for the Dashboard</h2></div></div></div><p>
				Many regulated industries, such as HIPAA, PCI-DSS, and the U.S. Government, require you to display a user logon banner. The Dashboard service runs within a container, so you will need to customize the Dashboard container image to apply the banner. For more information on customizing the Dashboard container, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/introduction_to_the_openstack_dashboard/index#dashboard-customization">https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/introduction_to_the_openstack_dashboard/index#dashboard-customization</a>.
			</p><section class="section" id="customizing_the_theme"><div class="titlepage"><div><div><h3 class="title">7.11.1. Customizing the theme</h3></div></div></div><p>
					Within the custom Dashboard container, you can create a logon banner by manually editing the <code class="literal">/usr/share/openstack-dashboard/openstack_dashboard/themes/rcue/templates/auth/login.html</code> file:
				</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
							Enter the required logon banner immediately before the <code class="literal">{% include 'auth/_login.html' %}</code> section. Note that HTML tags are allowed. For example:
						</p><pre class="screen">&lt;snip&gt;
&lt;div class="container"&gt;
  &lt;div class="row-fluid"&gt;
    &lt;div class="span12"&gt;
      &lt;div id="brand"&gt;
        &lt;img src="../../static/themes/rcue/images/RHOSP-Login-Logo.svg"&gt;
      &lt;/div&gt;&lt;!--/#brand--&gt;
    &lt;/div&gt;&lt;!--/.span*--&gt;

    &lt;!-- Start of Logon Banner --&gt;
    &lt;p&gt;Authentication to this information system reflects acceptance of user monitoring agreement.&lt;/p&gt;
    &lt;!-- End of Logon Banner --&gt;

    {% include 'auth/_login.html' %}
  &lt;/div&gt;&lt;!--/.row-fluid→
&lt;/div&gt;&lt;!--/.container--&gt;

{% block js %}
  {% include "horizon/_scripts.html" %}
{% endblock %}

  &lt;/body&gt;
&lt;/html&gt;</pre></li></ol></div><p>
					The updated dashboard will look similar to the following:
				</p><p>
					<span class="inlinemediaobject"><img src="logonbanner.png" alt="logonbanner"/></span>

				</p></section></section><section class="section" id="limiting_the_size_of_file_uploads"><div class="titlepage"><div><div><h2 class="title">7.12. Limiting the size of file uploads</h2></div></div></div><p>
				You can optionally configure the dashboard to limit the size of file uploads; this setting might be a requirement for various security hardening policies.
			</p><p>
				<code class="literal">LimitRequestBody</code> - This value (in bytes) limits the maximum size of a file that you can transfer using the Dashboard, such as images and other large files.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					This setting has not been formally tested by Red Hat. It is recommended that you thoroughly test the effect of this setting before deploying it to your production environment.
				</p></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					File uploads will fail if the value is too small.
				</p></div></div><p>
				For example, this setting limits each file upload to a maximum size of 10 GB (<code class="literal">10737418240</code>). You will need to adjust this value to suit your deployment.
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<code class="literal">/var/lib/config-data/puppet-generated/horizon/etc/httpd/conf/httpd.conf</code>
					</p><pre class="screen">&lt;Directory /&gt;
  LimitRequestBody 10737418240
&lt;/Directory&gt;</pre></li><li class="listitem"><p class="simpara">
						<code class="literal">/var/lib/config-data/puppet-generated/horizon/etc/httpd/conf.d/10-horizon_vhost.conf</code>
					</p><pre class="screen">&lt;Directory "/var/www"&gt;
  LimitRequestBody 10737418240
&lt;/Directory&gt;</pre></li><li class="listitem"><p class="simpara">
						<code class="literal">/var/lib/config-data/puppet-generated/horizon/etc/httpd/conf.d/15-horizon_ssl_vhost.conf</code>
					</p><pre class="screen">&lt;Directory "/var/www"&gt;
  LimitRequestBody 10737418240
&lt;/Directory&gt;</pre></li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					These configuration files are managed by Puppet, so any unmanaged changes are overwritten whenever you run the <code class="literal">openstack overcloud deploy</code> process.
				</p></div></div></section><section class="section" id="debugging_the_dashboard_service"><div class="titlepage"><div><div><h2 class="title">7.13. Debugging the Dashboard service</h2></div></div></div><p>
				It is recommend that you keep the <code class="literal">DEBUG</code> setting set to <code class="literal">False</code> in production environments. If set to <code class="literal">True</code>, Django might output stack traces to browser users that contain sensitive web server state information. In addition, <code class="literal">DEBUG</code> mode has the effect of disabling <code class="literal">ALLOWED_HOSTS</code>, which could be an undesirable result, depending on your requirements.
			</p></section></section><section class="chapter" id="hardening_the_shared_file_system_manila"><div class="titlepage"><div><div><h1 class="title">Chapter 8. Hardening the Shared File System (Manila)</h1></div></div></div><p>
			The Shared File Systems service (manila) provides a set of services for managing shared file systems in a multi-project cloud environment. It is similar to how OpenStack provides block-based storage management through the Block Storage service (cinder) project. With manila, you can create a shared file system and manage its properties, such as visibility, accessibility, and usage quotas.
		</p><p>
			For more information on manila, see the Storage Guide: <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/storage_guide/">https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/storage_guide/</a>
		</p><section class="section" id="security_considerations_for_manila"><div class="titlepage"><div><div><h2 class="title">8.1. Security considerations for manila</h2></div></div></div><p>
				Manila is registered with keystone, allowing you to the locate the API using the <code class="literal">manila endpoints</code> command. For example:
			</p><pre class="screen"> $ manila endpoints
 +-------------+-----------------------------------------+
 | manila      | Value                                   |
 +-------------+-----------------------------------------+
 | adminURL    | http://172.18.198.55:8786/v1/20787a7b...|
 | region      | RegionOne                               |
 | publicURL   | http://172.18.198.55:8786/v1/20787a7b...|
 | internalURL | http://172.18.198.55:8786/v1/20787a7b...|
 | id          | 82cc5535aa444632b64585f138cb9b61        |
 +-------------+-----------------------------------------+

 +-------------+-----------------------------------------+
 | manilav2    | Value                                   |
 +-------------+-----------------------------------------+
 | adminURL    | http://172.18.198.55:8786/v2/20787a7b...|
 | region      | RegionOne                               |
 | publicURL   | http://172.18.198.55:8786/v2/20787a7b...|
 | internalURL | http://172.18.198.55:8786/v2/20787a7b...|
 | id          | 2e8591bfcac4405fa7e5dc3fd61a2b85        |
 +-------------+-----------------------------------------+</pre><p>
				By default, the manila API service only listens on port <code class="literal">8786</code> with <code class="literal">tcp6</code>, which supports both IPv4 and IPv6.
			</p><p>
				Manila uses multiple configurations files; these are stored in <code class="literal">/var/lib/config-data/puppet-generated/manila/</code>:
			</p><pre class="screen"> api-paste.ini
 manila.conf
 policy.json
 rootwrap.conf
 rootwrap.d

 ./rootwrap.d:
 share.filters</pre><p>
				It is recommended that you configure manila to run under a non-root service account, and change file permissions so that only the system administrator can modify them. Manila expects that only administrators can write to configuration files, and services can only read them through their group membership in the <code class="literal">manila</code> group. Other users must not be able to read these files, as they contain service account passwords.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Only the root user should own be able to write to the configuration for <code class="literal">manila-rootwrap</code> in <code class="literal">rootwrap.conf</code>, and the <code class="literal">manila-rootwrap</code> command filters for share nodes in <code class="literal">rootwrap.d/share.filters</code>.
				</p></div></div></section><section class="section" id="network_and_security_models_for_manila"><div class="titlepage"><div><div><h2 class="title">8.2. Network and security models for manila</h2></div></div></div><p>
				A share driver in manila is a Python class that can be set for the back end to manage share operations, some of which are vendor-specific. The back end is an instance of the <code class="literal">manila-share</code> service. Manila has share drivers for many different storage systems, supporting both commercial vendors and open source solutions. Each share driver supports one or more back end modes: <code class="literal">share servers</code> and <code class="literal">no share servers</code>. An administrator selects a mode by specifying it in <code class="literal">manila.conf</code>, using <code class="literal">driver_handles_share_servers</code>.
			</p><p>
				A share server is a logical Network Attached Storage (NAS) server that exports shared file systems. Back-end storage systems today are sophisticated and can isolate data paths and network paths between different OpenStack projects.
			</p><p>
				A share server provisioned by a manila share driver would be created on an isolated network that belongs to the project user creating it. The <code class="literal">share servers</code> mode can be configured with either a flat network, or a segmented network, depending on the network provider.
			</p><p>
				It is possible to have separate drivers for different modes use the same hardware. Depending on the chosen mode, you might need to provide more configuration details through the configuration file.
			</p></section><section class="section" id="share_backend_modes"><div class="titlepage"><div><div><h2 class="title">8.3. Share backend modes</h2></div></div></div><p>
				Each share driver supports at least one of the available driver modes:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Share servers - <code class="literal">driver_handles_share_servers = True</code> - The share driver creates share servers and manages the share server life cycle.
					</li><li class="listitem">
						No share servers - <code class="literal">driver_handles_share_servers = False</code> - An administrator (rather than a share driver) manages the bare metal storage with a network interface, instead of relying on the presence of the share servers.
					</li></ul></div><p>
				<code class="literal">No share servers mode</code> - In this mode, drivers will not set up share servers, and consequently will not need to set up any new network interfaces. It is assumed that storage controller being managed by the driver has all of the network interfaces it is going to need. Drivers create shares directly without previously creating a share server. To create shares using drivers operating in this mode, manila does not require users to create any private share networks either.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					In <code class="literal">no share servers mode</code>, manila will assume that the network interfaces through which any shares are exported are already reachable by all projects.
				</p></div></div><p>
				In the <code class="literal">no share servers</code> mode a share driver does not handle share server life cycle. An administrator is expected to handle the storage, networking, and other host-side configuration that might be necessary to provide project isolation. In this mode an administrator can set storage as a host which exports shares. All projects within the OpenStack cloud share a common network pipe. Lack of isolation can impact security and quality of service. When using share drivers that do not handle share servers, cloud users cannot be sure that their shares cannot be accessed by untrusted users by a tree walk over the top directory of their file systems. In public clouds it is possible that all network bandwidth is used by one client, so an administrator should care for this not to happen. Network balancing can be done by any means, and not necessarily just with OpenStack tools.
			</p><p>
				<code class="literal">Share servers mode</code> - In this mode, a driver is able to create share servers and plug them to existing OpenStack networks. Manila determines if a new share server is required, and provides all the networking information necessary for the share drivers to create the requisite share server.
			</p><p>
				When creating shares in the driver mode that handles share servers, users must provide a share network that they expect their shares to be exported upon. Manila uses this network to create network ports for the share server on this network.
			</p><p>
				Users can configure <code class="literal">security services</code> in both <code class="literal">share servers</code> and <code class="literal">no share servers</code> back end modes. But with the <code class="literal">no share servers</code> back end mode, an administrator must set the required authentication services manually on the host. And in <code class="literal">share servers</code> mode manila can configure security services identified by the users on the share servers it spawns.
			</p></section><section class="section" id="networking_requirements_for_manila"><div class="titlepage"><div><div><h2 class="title">8.4. Networking requirements for manila</h2></div></div></div><p>
				Manila can integrate with different network types: <code class="literal">flat</code>, <code class="literal">GRE</code>, <code class="literal">VLAN</code>, <code class="literal">VXLAN</code>.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Manila is only storing the network information in the database, with the real networks being supplied by the network provider. Manila supports using the OpenStack Networking service (neutron) and also "standalone" pre-configured networking.
				</p></div></div><p>
				In the <code class="literal">share servers</code> back end mode, a share driver creates and manages a share server for each share network. This mode can be divided in two variations:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Flat network in <code class="literal">share servers</code> backend mode
					</li><li class="listitem">
						Segmented network in <code class="literal">share servers</code> backend mode
					</li></ul></div><p>
				Users can use a network and subnet from the OpenStack Networking (neutron) service to create share networks. If the administrator decides to use the <code class="literal">StandAloneNetworkPlugin</code>, users need not provide any networking information since the administrator pre-configures this in the configuration file.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Share servers spawned by some share drivers are Compute servers created with the Compute service. A few of these drivers do not support network plugins.
				</p></div></div><p>
				After a share network is created, manila retrieves network information determined by a network provider: network type, segmentation identifier (if the network uses segmentation) and the IP block in CIDR notation from which to allocate the network.
			</p><p>
				Users can create security services that specify security requirements such as AD or LDAP domains or a Kerberos realm. Manila assumes that any hosts referred to in security service are reachable from a subnet where a share server is created, which limits the number of cases where this mode could be used.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Some share drivers might not support all types of segmentation, for more details see the specification for the driver you are using.
				</p></div></div></section><section class="section" id="security_services_with_manila"><div class="titlepage"><div><div><h2 class="title">8.5. Security services with manila</h2></div></div></div><p>
				Manila can restrict access to file shares by integrating with network authentication protocols. Each project can have its own authentication domain that functions separately from the cloud’s keystone authentication domain. This project domain can be used to provide authorization (AuthZ) services to applications that run within the OpenStack cloud, including manila. Available authentication protocols include LDAP, Kerberos, and Microsoft Active Directory authentication service.
			</p><section class="section" id="introduction_to_security_services"><div class="titlepage"><div><div><h3 class="title">8.5.1. Introduction to security services</h3></div></div></div><p>
					After creating a share and getting its export location, users have no permissions to mount it and operate with files. Users need to explicitly grant access to the new share.
				</p><p>
					The client authentication and authorization (authN/authZ) can be performed in conjunction with security services. Manila can use LDAP, Kerberos, or Microsoft Active directory if they are supported by the share drivers and back ends.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						In some cases, it is required to explicitly specify one of the security services, for example, NetApp, EMC and Windows drivers require Active Directory for the creation of shares with the CIFS protocol.
					</p></div></div></section><section class="section" id="security_services_management"><div class="titlepage"><div><div><h3 class="title">8.5.2. Security services management</h3></div></div></div><p>
					A <span class="emphasis"><em>security service</em></span> is a manila entity that abstracts a set of options that define a security zone for a particular shared file system protocol, such as an Active Directory domain or a Kerberos domain. The security service contains all of the information necessary for manila to create a server that joins a given domain.
				</p><p>
					Using the API, users can create, update, view, and delete a security service. Security Services are designed on the following assumptions:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Projects provide details for the security service.
						</li><li class="listitem">
							Administrators care about security services: they configure the server side of such security services.
						</li><li class="listitem">
							Inside the manila API, a <code class="literal">security_service</code> is associated with the <code class="literal">share_networks</code>.
						</li><li class="listitem">
							Share drivers use data in the security service to configure newly created share servers.
						</li></ul></div><p>
					When creating a security service, you can select one of these authentication services:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<span class="strong strong"><strong>LDAP</strong></span> - The Lightweight Directory Access Protocol. An application protocol for accessing and maintaining distributed directory information services over an IP network.
						</li><li class="listitem">
							<span class="strong strong"><strong>Kerberos</strong></span> - The network authentication protocol which works on the basis of tickets to allow nodes communicating over a non-secure network to prove their identity to one another in a secure manner.
						</li><li class="listitem">
							<span class="strong strong"><strong>Active Directory</strong></span> - A directory service that Microsoft developed for Windows domain networks. Uses LDAP, Microsoft’s version of Kerberos, and DNS.
						</li></ul></div><p>
					Manila allows you to configure a security service with these options:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							A DNS IP address that is used inside the project network.
						</li><li class="listitem">
							An IP address or hostname of a security service.
						</li><li class="listitem">
							A domain of a security service.
						</li><li class="listitem">
							A user or group name that is used by a project.
						</li><li class="listitem">
							A password for a user, if you specify a username.
						</li></ul></div><p>
					An existing security service entity can be associated with share network entities that inform manila about security and network configuration for a group of shares. You can also see the list of all security services for a specified share network and disassociate them from a share network.
				</p><p>
					An administrator and users as share owners can manage access to the shares by creating access rules with authentication through an IP address, user, group, or TLS certificates. Authentication methods depend on which share driver and security service you configure and use. You can then configure a back end to use a specific authentication service, which can operate with clients without manila and keystone.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Different authentication services are supported by different share drivers. For details of supporting of features by different drivers, see <a class="link" href="https://docs.openstack.org/manila/latest/admin/share_back_ends_feature_support_mapping.html">https://docs.openstack.org/manila/latest/admin/share_back_ends_feature_support_mapping.html</a>
					</p></div></div><p>
					Support for a specific authentication service by a driver does not mean that it can be configured with any shared file system protocol. Supported shared file systems protocols are NFS, CEPHFS, CIFS, GlusterFS, and HDFS. See the driver vendor’s documentation for information on a specific driver and its configuration for security services.
				</p><p>
					Some drivers support security services and other drivers do not support any of the security services mentioned above. For example, Generic Driver with the NFS or the CIFS shared file system protocol supports only authentication method through the IP address.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						In most cases, drivers that support the CIFS shared file system protocol can be configured to use Active Directory and manage access through the user authentication.
					</p></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Drivers that support the GlusterFS protocol can be used with authentication using TLS certificates.
						</li><li class="listitem">
							With drivers that support NFS protocol authentication using an IP address is the only supported option.
						</li><li class="listitem">
							Since the HDFS shared file system protocol uses NFS access it also can be configured to authenticate using an IP address.
						</li></ul></div><p>
					The recommended configuration for production manila deployments is to create a share with the CIFS share protocol and add to it the Microsoft Active Directory directory service. With this configuration you will get the centralized database and the service that integrates the Kerberos and LDAP approaches.
				</p></section></section><section class="section" id="share_access_control"><div class="titlepage"><div><div><h2 class="title">8.6. Share access control</h2></div></div></div><p>
				Users can specify which specific clients have access to the shares they create. Due to the keystone service, shares created by individual users are only visible to themselves and other users within the same project. Manila allows users to create shares that are "publicly" visible. These shares are visible in dashboards of users that belong to other OpenStack projects if the owners grant them access, they might even be able to mount these shares if they are made accessible on the network.
			</p><p>
				While creating a share, use key <code class="literal">--public</code> to make your share public for other projects to see it in a list of shares and see its detailed information.
			</p><p>
				According to the <code class="literal">policy.json</code> file, an administrator and the users as share owners can manage access to shares by means of creating access rules. Using the <code class="literal">manila access-allow</code>, <code class="literal">manila access-deny</code>, and <code class="literal">manila access-list</code> commands, you can grant, deny and list access to a specified share correspondingly.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Manila does not provide end-to-end management of the storage system. You will still need to separately protect the backend system from unauthorized access. As a result, the protection offered by the manila API can still be circumvented if someone compromises the backend storage device, thereby gaining out of band access.
				</p></div></div><p>
				When a share is just created there are no default access rules associated with it and permission to mount it. This could be seen in mounting config for export protocol in use. For example, there is an NFS command <code class="literal">exportfs</code> or <code class="literal">/etc/exports</code> file on the storage which controls each remote share and defines hosts that can access it. It is empty if nobody can mount a share. For a remote CIFS server there is <code class="literal">net conf list</code> command which shows the configuration. The <code class="literal">hosts deny</code> parameter should be set by the share driver to <code class="literal">0.0.0.0/0</code> which means that any host is denied to mount the share.
			</p><p>
				Using manila, you can grant or deny access to a share by specifying one of these supported share access levels:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">rw</code> - Read and write (RW) access. This is the default value.
					</li><li class="listitem">
						<code class="literal">ro</code>- Read-only (RO) access.
					</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The RO access level can be helpful in public shares when the administrator gives read and write (RW) access for some certain editors or contributors and gives read-only (RO) access for the rest of users (viewers).
				</p></div></div><p>
				You must also specify one of these supported authentication methods:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">ip</code> - Uses an IP address to authenticate an instance. IP access can be provided to clients addressable by well-formed IPv4 or IPv6 addresses or subnets denoted in CIDR notation.
					</li><li class="listitem">
						<code class="literal">cert</code> - Uses a TLS certificate to authenticate an instance. Specify the TLS identity as the <code class="literal">IDENTKEY</code>. A valid value is any string up to 64 characters long in the common name (CN) of the certificate.
					</li><li class="listitem">
						<code class="literal">user</code> - Authenticates by a specified user or group name. A valid value is an alphanumeric string that can contain some special characters and is from 4 to 32 characters long.
					</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Supported authentication methods depend on which share driver, security service and shared file system protocol you use. Supported shared file system protocols are MapRFS, CEPHFS, NFS, CIFS, GlusterFS, and HDFS. Supported security services are LDAP, Kerberos protocols, or Microsoft Active Directory service.
				</p></div></div><p>
				To verify that access rules (ACL) were configured correctly for a share, you can list its permissions.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When selecting a security service for your share, you will need to consider whether the share driver is able to create access rules using the available authentication methods. Supported security services are LDAP, Kerberos, and Microsoft Active Directory.
				</p></div></div></section><section class="section" id="share_type_access_control"><div class="titlepage"><div><div><h2 class="title">8.7. Share type access control</h2></div></div></div><p>
				A share type is an administrator-defined <span class="emphasis"><em>type of service</em></span>, comprised of a project visible description, and a list of non-project-visible key-value pairs called <span class="emphasis"><em>extra specifications</em></span>. The <code class="literal">manila-scheduler</code> uses extra specifications to make scheduling decisions, and drivers control the share creation.
			</p><p>
				An administrator can create and delete share types, and can also manage extra specifications that give them meaning inside manila. Projects can list the share types and can use them to create new shares. Share types can be created as <code class="literal">public</code> and <code class="literal">private</code>. This is the level of visibility for the share type that defines whether other projects can or cannot see it in a share types list and use it to create a new share.
			</p><p>
				By default, share types are created as public. While creating a share type, use <code class="literal">--is_public</code> parameter set to <code class="literal">False</code> to make your share type private which will prevent other projects from seeing it in a list of share types and creating new shares with it. On the other hand, <code class="literal">public</code> share types are available to every project in a cloud.
			</p><p>
				Manila allows an administrator to grant or deny access to the <code class="literal">private</code> share types for projects. You can also get information about the access for a specified private share type.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Since share types due to their extra specifications help to filter or choose back ends before users create a share, using access to the share types you can limit clients in choice of specific back ends.
				</p></div></div><p>
				For example, an administrator user in the <code class="literal">admin</code> project can create a private share type named <code class="literal">my_type</code> and see it in the list. In the console examples below, the logging in and out is omitted, and environment variables are provided to show the currently logged in user.
			</p><pre class="screen"> $ env | grep OS_
 ...
 OS_USERNAME=admin
 OS_TENANT_NAME=admin
 ...
 $ manila type-list --all
 +----+--------+-----------+-----------+-----------------------------------+-----------------------+
 | ID | Name   | Visibility| is_default| required_extra_specs              | optional_extra_specs  |
 +----+--------+-----------+-----------+-----------------------------------+-----------------------+
 | 4..| my_type| private   | -         | driver_handles_share_servers:False| snapshot_support:True |
 | 5..| default| public    | YES       | driver_handles_share_servers:True | snapshot_support:True |
 +----+--------+-----------+-----------+-----------------------------------+-----------------------+</pre><p>
				The <code class="literal">demo</code> user in the <code class="literal">demo</code> project can list the types and the private share type named <code class="literal">my_type</code> is not visible for him.
			</p><pre class="screen"> $ env | grep OS_
 ...
 OS_USERNAME=demo
 OS_TENANT_NAME=demo
 ...
 $ manila type-list --all
 +----+--------+-----------+-----------+----------------------------------+----------------------+
 | ID | Name   | Visibility| is_default| required_extra_specs             | optional_extra_specs |
 +----+--------+-----------+-----------+----------------------------------+----------------------+
 | 5..| default| public    | YES       | driver_handles_share_servers:True| snapshot_support:True|
 +----+--------+-----------+-----------+----------------------------------+----------------------+</pre><p>
				The administrator can grant access to the private share type for the demo project with the project ID equal to <code class="literal">df29a37db5ae48d19b349fe947fada46</code>:
			</p><pre class="screen"> $ env | grep OS_
 ...
 OS_USERNAME=admin
 OS_TENANT_NAME=admin
 ...
 $ openstack project list
 +----------------------------------+--------------------+
 | ID                               | Name               |
 +----------------------------------+--------------------+
 | ...                              | ...                |
 | df29a37db5ae48d19b349fe947fada46 | demo               |
 +----------------------------------+--------------------+
 $ manila type-access-add my_type df29a37db5ae48d19b349fe947fada46</pre><p>
				As a result, users in the <code class="literal">demo</code> project can see the private share type and use it in the share creation:
			</p><pre class="screen"> $ env | grep OS_
 ...
 OS_USERNAME=demo
 OS_TENANT_NAME=demo
 ...
 $ manila type-list --all
 +----+--------+-----------+-----------+-----------------------------------+-----------------------+
 | ID | Name   | Visibility| is_default| required_extra_specs              | optional_extra_specs  |
 +----+--------+-----------+-----------+-----------------------------------+-----------------------+
 | 4..| my_type| private   | -         | driver_handles_share_servers:False| snapshot_support:True |
 | 5..| default| public    | YES       | driver_handles_share_servers:True | snapshot_support:True |
 +----+--------+-----------+-----------+-----------------------------------+-----------------------+</pre><p>
				To deny access for a specified project, use <code class="literal">manila type-access-remove &lt;share_type&gt; &lt;project_id&gt;</code>.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					For an example that demonstrates the purpose of the share types, consider a situation where you have two back ends: LVM as a public storage and Ceph as a private storage. In this case you can grant access to certain projects and control access with <code class="literal">user/group</code> authentication method.
				</p></div></div></section><section class="section" id="policies_2"><div class="titlepage"><div><div><h2 class="title">8.8. Policies</h2></div></div></div><p>
				The Shared File Systems service API is gated with role-based access control policies. These policies determine which user can access certain APIs in a certain way, and are defined in the service’s <code class="literal">policy.json</code> file.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The configuration file <code class="literal">policy.json</code> may be placed anywhere. The path <code class="literal">/var/lib/config-data/puppet-generated/manila/etc/manila/policy.json</code> is expected by default.
				</p></div></div><p>
				Whenever an API call is made to manila, the policy engine uses the appropriate policy definitions to determine if the call can be accepted. A policy rule determines under which circumstances the API call is permitted. The <code class="literal">/var/lib/config-data/puppet-generated/manila/etc/manila/policy.json</code> file has rules where an action is always permitted, when the rule is an empty string: <code class="literal">""</code>; the rules based on the user role or rules; rules with boolean expressions. Below is a snippet of the <code class="literal">policy.json</code> file for manila. It can be expected to change between OpenStack releases.
			</p><pre class="screen">   {
       "context_is_admin": "role:admin",
       "admin_or_owner": "is_admin:True or project_id:%(project_id)s",
       "default": "rule:admin_or_owner",
       "share_extension:quotas:show": "",
       "share_extension:quotas:update": "rule:admin_api",
       "share_extension:quotas:delete": "rule:admin_api",
       "share_extension:quota_classes": "",
   }</pre><p>
				Users must be assigned to groups and roles that you refer to in your policies. This is done automatically by the service when user management commands are used.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Any changes to <code class="literal">/var/lib/config-data/puppet-generated/manila/etc/manila/policy.json</code> are effective immediately, which allows new policies to be implemented while manila is running. Manual modification of the policy can have unexpected side effects and is not encouraged. Manila does not provide a default policy file; all the default policies are within the code base. You can generate the default policies from the manila code by executing: <code class="literal">oslopolicy-sample-generator --config-file=var/lib/config-data/puppet-generated/manila/etc/manila/manila-policy-generator.conf</code>
				</p></div></div></section></section><section class="chapter" id="object_storage"><div class="titlepage"><div><div><h1 class="title">Chapter 9. Object Storage</h1></div></div></div><p>
			The Object Storage (swift) service stores and retrieves data over HTTP. Objects (blobs of data) are stored in an organizational hierarchy that can be configured to offer anonymous read-only access, ACL defined access, or even temporary access. Swift supports multiple token-based authentication mechanisms implemented through middleware.
		</p><p>
			Applications store and retrieve data in Object Storage using an industry-standard HTTP RESTful API. The back end swift components follow the same RESTful model, although some APIs (such as those managing durability) are kept private to the cluster.
		</p><p>
			The components of swift fall into the following primary groups:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Proxy services
				</li><li class="listitem">
					Auth services
				</li><li class="listitem"><p class="simpara">
					Storage services
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Account service
						</li><li class="listitem">
							Container service
						</li><li class="listitem">
							Object service
						</li></ul></div></li></ul></div><div class="informalfigure"><div class="mediaobject"><img src="swift_network_diagram-1.png" alt="swift network diagram 1"/></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				An Object Storage installation does not have to be internet-facing and could also be a private cloud with the public switch a part of the organization’s internal network infrastructure.
			</p></div></div><section class="section" id="network_security"><div class="titlepage"><div><div><h2 class="title">9.1. Network security</h2></div></div></div><p>
				Security hardening for swift begins with securing the networking component. See the networking chapter for more information.
			</p><p>
				For high availability, the rsync protocol is used to replicate data between storage service nodes. In addition, the proxy service communicates with the storage service when relaying data between the client end-point and the cloud environment.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Swift does not use encryption or authentication with inter-node communications. This is because swift uses the native rsync protocol for performance reasons, and does not use SSH for rsync communications.This is why you see a private switch or private network ([V]LAN) in the architecture diagrams. This data zone should be separate from other OpenStack data networks as well.
				</p></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Use a private (V)LAN network segment for your storage nodes in the data zone.
				</p></div></div><p>
				This requires that the proxy nodes have dual interfaces (physical or virtual):
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						One interface as a public interface for consumers to reach.
					</li><li class="listitem">
						Another interface as a private interface with access to the storage nodes.
					</li></ul></div><p>
				The following figure demonstrates one possible network architecture, using the Object Storage network architecture with a management node (OSAM):
			</p><div class="informalfigure"><div class="mediaobject"><img src="swift_network_diagram-2.png" alt="swift network diagram 2"/></div></div></section><section class="section" id="general_service_security"><div class="titlepage"><div><div><h2 class="title">9.2. General service security</h2></div></div></div><section class="section" id="run_services_as_non_root_user"><div class="titlepage"><div><div><h3 class="title">9.2.1. Run services as non-root user</h3></div></div></div><p>
					It is recommend that you configure swift to run under a non-root (<code class="literal">UID 0</code>) service account. One recommendation is the username <code class="literal">swift</code> with the primary group <code class="literal">swift</code>, as deployed by director. Object Storage services include, for example, <code class="literal">proxy-server</code>, <code class="literal">container-server</code>, <code class="literal">account-server</code>.
				</p></section><section class="section" id="file_permissions"><div class="titlepage"><div><div><h3 class="title">9.2.2. File permissions</h3></div></div></div><p>
					The <code class="literal">/var/lib/config-data/puppet-generated/swift/etc/swift/</code> directory contains information about the ring topology and environment configuration. The following permissions are recommended:
				</p><pre class="screen">chown -R root:swift /var/lib/config-data/puppet-generated/swift/etc/swift/*
find /var/lib/config-data/puppet-generated/swift/etc/swift/ -type f -exec chmod 640 {} \;
find /var/lib/config-data/puppet-generated/swift/etc/swift/ -type d -exec chmod 750 {} \;</pre><p>
					This restriction only allows root to modify configuration files, while still allowing the services to read them, due to their membership in the <code class="literal">swift</code> group.
				</p></section></section><section class="section" id="securing_storage_services"><div class="titlepage"><div><div><h2 class="title">9.3. Securing storage services</h2></div></div></div><p>
				The following are the default listening ports for the various storage services:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Account service - <code class="literal">TCP/6002</code>
					</li><li class="listitem">
						Container service - <code class="literal">TCP/6001</code>
					</li><li class="listitem">
						Object Service - <code class="literal">TCP/6000</code>
					</li><li class="listitem">
						Rsync - <code class="literal">TCP/873</code>
					</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If ssync is used instead of rsync, the object service port is used for maintaining durability.
				</p></div></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Authentication does not occur at the storage nodes. If you are able to connect to a storage node on one of these ports, you can access or modify data without authentication. To help mitigate this issue, you should follow the recommendations given previously about using a private storage network.
				</p></div></div><section class="section" id="object_storage_account_terminology"><div class="titlepage"><div><div><h3 class="title">9.3.1. Object Storage account terminology</h3></div></div></div><p>
					A swift account is not a user account or credential. The following distinctions exist:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Swift account - A collection of containers (not user accounts or authentication). The authentication system you use will determine which users are associated with the account and how they might access it.
						</li><li class="listitem">
							Swift containers - A collection of objects. Metadata on the container is available for ACLs. The usage of ACLs is dependent on the authentication system used.
						</li><li class="listitem">
							Swift objects - The actual data objects. ACLs at the object level are also available with metadata, and are dependent on the authentication system used.
						</li></ul></div><p>
					At each level, you have ACLs that control user access; ACLs are interpreted based on the authentication system in use. The most common type of authentication provider is the Identity Service (keystone); custom authentication providers are also available.
				</p></section></section><section class="section" id="securing_proxy_services"><div class="titlepage"><div><div><h2 class="title">9.4. Securing proxy services</h2></div></div></div><p>
				A proxy node should have at least two interfaces (physical or virtual): one public and one private. You can use firewalls or service binding to help protect the public interface. The public-facing service is an HTTP web server that processes end-point client requests, authenticates them, and performs the appropriate action. The private interface does not require any listening services, but is instead used to establish outgoing connections to storage nodes on the private storage network.
			</p><section class="section" id="http_listening_port"><div class="titlepage"><div><div><h3 class="title">9.4.1. HTTP listening port</h3></div></div></div><p>
					Director configures the web services to run under a non-root (no UID 0) user. Using port numbers higher than <code class="literal">1024</code> help avoid running any part of the web container as root. Normally, clients that use the HTTP REST API (and perform automatic authentication) will retrieve the full REST API URL they require from the authentication response. The OpenStack REST API allows a client to authenticate to one URL and then be redirected to use a completely different URL for the actual service. For example, a client can authenticate to <code class="literal">https://identity.cloud.example.org:55443/v1/auth</code> and get a response with their authentication key and storage URL (the URL of the proxy nodes or load balancer) of <code class="literal">https://swift.cloud.example.org:44443/v1/AUTH_8980</code>.
				</p></section><section class="section" id="load_balancer"><div class="titlepage"><div><div><h3 class="title">9.4.2. Load balancer</h3></div></div></div><p>
					If the option of using Apache is not feasible, or for performance you wish to offload your TLS work, you might employ a dedicated network device load balancer. This is a common way to provide redundancy and load balancing when using multiple proxy nodes.
				</p><p>
					If you choose to offload your TLS, ensure that the network link between the load balancer and your proxy nodes are on a private (V)LAN segment such that other nodes on the network (possibly compromised) cannot wiretap (sniff) the unencrypted traffic. If such a breach was to occur, the attacker could gain access to endpoint client or cloud administrator credentials and access the cloud data.
				</p><p>
					The authentication service you use will determine how you configure a different URL in the responses to endpoint clients, allowing them to use your load balancer instead of an individual proxy node.
				</p></section></section><section class="section" id="object_storage_authentication"><div class="titlepage"><div><div><h2 class="title">9.5. Object Storage authentication</h2></div></div></div><p>
				Object Storage (swift) uses a WSGI model to provide for a middleware capability that not only provides general extensibility, but is also used for authentication of endpoint clients. The authentication provider defines what roles and user types exist. Some use traditional username and password credentials, while others might leverage API key tokens or even client-side x.509 certificates. Custom providers can be integrated using custom middleware.
			</p><p>
				Object Storage comes with two authentication middleware modules by default, either of which can be used as sample code for developing a custom authentication middleware.
			</p><section class="section" id="keystone"><div class="titlepage"><div><div><h3 class="title">9.5.1. Keystone</h3></div></div></div><p>
					Keystone is the commonly used Identity provider in OpenStack. It may also be used for authentication in Object Storage.
				</p></section></section><section class="section" id="encrypt_at_rest_swift_objects"><div class="titlepage"><div><div><h2 class="title">9.6. Encrypt at-rest swift objects</h2></div></div></div><p>
				Swift can integrate with Barbican to transparently encrypt and decrypt your stored (at-rest) objects. At-rest encryption is distinct from in-transit encryption, and refers to the objects being encrypted while being stored on disk.
			</p><p>
				Swift performs these encryption tasks transparently, with the objects being automatically encrypted when uploaded to swift, then automatically decrypted when served to a user. This encryption and decryption is done using the same (symmetric) key, which is stored in Barbican.
			</p><p>
				For more information, see the Barbican integration guide: <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/manage_secrets_with_openstack_key_manager/">https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/manage_secrets_with_openstack_key_manager/</a>
			</p></section><section class="section" id="additional_items"><div class="titlepage"><div><div><h2 class="title">9.7. Additional items</h2></div></div></div><p>
				In <code class="literal">/var/lib/config-data/puppet-generated/swift/etc/swift/swift.conf</code> on every node, there is a <code class="literal">swift_hash_path_prefix</code> setting and a <code class="literal">swift_hash_path_suffix</code> setting. These are provided to reduce the chance of hash collisions for objects being stored and avert one user overwriting the data of another user.
			</p><p>
				This value should be initially set with a cryptographically secure random number generator and consistent across all nodes. Ensure that it is protected with proper ACLs and that you have a backup copy to avoid data loss.
			</p></section></section><section class="chapter" id="monitoring_and_logging"><div class="titlepage"><div><div><h1 class="title">Chapter 10. Monitoring and Logging</h1></div></div></div><p>
			Log management is an important component of monitoring the security status of your OpenStack deployment. Logs provide insight into the BAU actions of administrators, projects, and instances, in addition to the component activities that comprise your OpenStack deployment.
		</p><p>
			Logs are not only valuable for proactive security and continuous compliance activities, but they are also a valuable information source for investigation and incident response. For example, analyzing the keystone access logs could alert you to failed logins, their frequency, origin IP, and whether the events are restricted to select accounts, among other pertinent information.
		</p><p>
			The director includes intrusion detection capabilities using AIDE, and CADF auditing for keystone. For more information, see the director hardening chapter.
		</p><section class="section" id="harden_the_monitoring_infrastructure"><div class="titlepage"><div><div><h2 class="title">10.1. Harden the monitoring infrastructure</h2></div></div></div><p>
				Centralized logging systems are a high value target for intruders, as a successful breach could allow them to erase or tamper with the record of events. It is recommended you harden the monitoring platform with this in mind. In addition, consider making regular backups of these systems, with failover planning in the event of an outage or DoS.
			</p></section><section class="section" id="example_events_to_monitor"><div class="titlepage"><div><div><h2 class="title">10.2. Example events to monitor</h2></div></div></div><p>
				Event monitoring is a more proactive approach to securing an environment, providing real-time detection and response. Multiple tools exist which can aid in monitoring. For an OpenStack deployment, you will need to monitor the hardware, the OpenStack services, and the cloud resource usage.
			</p><p>
				This section describes some example events you might need to be aware of.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					This list is not exhaustive. You will need to consider additional use cases that might apply to your specific network, and that you might consider anomalous behavior.
				</p></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Detecting the absence of log generation is an event of high value. Such a gap might indicate a service failure, or even an intruder who has temporarily switched off logging or modified the log level to hide their tracks.
					</li><li class="listitem">
						Application events, such as start or stop events, that were unscheduled might have possible security implications.
					</li><li class="listitem">
						Operating system events on the OpenStack nodes, such as user logins or restarts. These can provide valuable insight into distinguishing between proper and improper usage of systems.
					</li><li class="listitem">
						Networking bridges going down. This would be an actionable event due to the risk of service outage.
					</li><li class="listitem">
						IPtables flushing events on Compute nodes, and the resulting loss of access to instances.
					</li></ul></div><p>
				To reduce security risks from orphaned instances on a user, tenant, or domain deletion in the Identity service there is discussion to generate notifications in the system and have OpenStack components respond to these events as appropriate such as terminating instances, disconnecting attached volumes, reclaiming CPU and storage resources and so on.
			</p><p>
				Security monitoring controls such as intrusion detection software, antivirus software, and spyware detection and removal utilities can generate logs that show when and how an attack or intrusion took place. These tools can provide a layer of protection when deployed on the OpenStack nodes. Project users might also want to run such tools on their instances.
			</p></section></section><section class="chapter" id="data_privacy_for_projects"><div class="titlepage"><div><div><h1 class="title">Chapter 11. Data privacy for Projects</h1></div></div></div><p>
			OpenStack is designed to support multi-tenancy between projects with different data requirements. A cloud operator will need to consider their applicable data privacy concerns and regulations. This chapter addresses aspects of data residency and disposal for OpenStack deployments.
		</p><section class="section" id="data_privacy_concerns"><div class="titlepage"><div><div><h2 class="title">11.1. Data privacy concerns</h2></div></div></div><p>
				This section describes some concerns that can arise for data privacy in OpenStack deployments.
			</p><section class="section" id="data_residency"><div class="titlepage"><div><div><h3 class="title">11.1.1. Data residency</h3></div></div></div><p>
					The privacy and isolation of data has consistently been cited as the primary barrier to cloud adoption over the past few years. Concerns over who owns data in the cloud and whether the cloud operator can be ultimately trusted as a custodian of this data have been significant issues in the past.
				</p><p>
					Certain OpenStack services have access to data and metadata belonging to projects or reference project information. For example, project data stored in an OpenStack cloud might include the following items:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Object Storage objects.
						</li><li class="listitem">
							Compute instance ephemeral filesystem storage.
						</li><li class="listitem">
							Compute instance memory.
						</li><li class="listitem">
							Block Storage volume data.
						</li><li class="listitem">
							Public keys for Compute access.
						</li><li class="listitem">
							Virtual machine images in the Image service.
						</li><li class="listitem">
							Instance snapshots.
						</li><li class="listitem">
							Data passed to Compute’s configuration-drive extension.
						</li></ul></div><p>
					Metadata stored by an OpenStack cloud includes the following items (this list is non-exhaustive):
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Organization name.
						</li><li class="listitem">
							User’s “Real Name”.
						</li><li class="listitem">
							Number or size of running instances, buckets, objects, volumes, and other quota-related items.
						</li><li class="listitem">
							Number of hours running instances or storing data.
						</li><li class="listitem">
							IP addresses of users.
						</li><li class="listitem">
							Internally generated private keys for compute image bundling.
						</li></ul></div></section><section class="section" id="data_disposal"><div class="titlepage"><div><div><h3 class="title">11.1.2. Data disposal</h3></div></div></div><p>
					Good practices suggest that the operator must sanitize cloud system media (digital and non-digital) prior to disposal, prior to release out of organization control, or prior to release for reuse. Sanitization methods should implement an appropriate level of strength and integrity given the specific security domain and sensitivity of the information.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The NIST Special Publication 800-53 Revision 4 takes a particular view on this topic:
					</p></div></div><pre class="screen">The sanitization process removes information from the media such that the information cannot be retrieved or reconstructed. Sanitization techniques, including clearing, purging, cryptographic erase, and destruction, prevent the disclosure of information to unauthorized individuals when such media is reused or released for disposal.</pre><p>
					Cloud operators should consider the following when developing general data disposal and sanitization guidelines (as per the NIST recommended security controls):
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Track, document and verify media sanitization and disposal actions.
						</li><li class="listitem">
							Test sanitation equipment and procedures to verify proper performance.
						</li><li class="listitem">
							Sanitize portable, removable storage devices prior to connecting such devices to the cloud infrastructure.
						</li><li class="listitem">
							Destroy cloud system media that cannot be sanitized.
						</li></ul></div><p>
					As a result, an OpenStack deployment will need to address the following practices (among others):
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Secure data erasure
						</li><li class="listitem">
							Instance memory scrubbing
						</li><li class="listitem">
							Block Storage volume data
						</li><li class="listitem">
							Compute instance ephemeral storage
						</li><li class="listitem">
							Bare metal server sanitization
						</li></ul></div></section><section class="section" id="data_not_securely_erased"><div class="titlepage"><div><div><h3 class="title">11.1.3. Data not securely erased</h3></div></div></div><p>
					Within OpenStack some data might be deleted, but not securely erased in the context of the NIST standards outlined above. This is generally applicable to most or all of the above-defined metadata and information stored in the database. This might be remediated with database and/or system configuration for auto vacuuming and periodic free-space wiping.
				</p></section><section class="section" id="instance_memory_scrubbing"><div class="titlepage"><div><div><h3 class="title">11.1.4. Instance memory scrubbing</h3></div></div></div><p>
					Specific to various hypervisors is the treatment of instance memory. This behavior is not defined in Compute, although it is generally expected of hypervisors that they will make a best effort to scrub memory either upon deletion of an instance, upon creation of an instance, or both.
				</p></section><section class="section" id="encrypting_cinder_volume_data"><div class="titlepage"><div><div><h3 class="title">11.1.5. Encrypting cinder volume data</h3></div></div></div><p>
					Use of the OpenStack volume encryption feature is highly encouraged. This is discussed below in the Data Encryption section under Volume Encryption. When this feature is used, destruction of data is accomplished by securely deleting the encryption key. The end user can select this feature while creating a volume, but note that an admin must perform a one-time set up of the volume encryption feature first.
				</p><p>
					If the OpenStack volume encryption feature is not used, then other approaches generally would be more difficult to enable. If a back-end plug-in is being used, there might be independent ways of doing encryption or non-standard overwrite solutions. Plug-ins to OpenStack Block Storage will store data in a variety of ways. Many plug-ins are specific to a vendor or technology, whereas others are more DIY solutions around filesystems (such as LVM or ZFS). Methods for securely destroying data will vary between plug-ins, vendors, and filesystems.
				</p><p>
					Some back ends (such as ZFS) will support copy-on-write to prevent data exposure. In these cases, reads from unwritten blocks will always return zero. Other back ends (such as LVM) might not natively support this, so the cinder plug-in takes the responsibility to override previously written blocks before handing them to users. It is important to review what assurances your chosen volume back-end provides and to see what remediation might be available for those assurances not provided.
				</p></section><section class="section" id="image_service_delay_delete_features"><div class="titlepage"><div><div><h3 class="title">11.1.6. Image service delay delete features</h3></div></div></div><p>
					Image Service has a delayed delete feature, which will pend the deletion of an image for a defined time period. Consider disabling this feature if this behavior is a security concern; you can do this by editing <code class="literal">glance-api.conf</code> file and setting the <code class="literal">delayed_delete</code> option to <code class="literal">False</code>.
				</p></section><section class="section" id="compute_soft_delete_features"><div class="titlepage"><div><div><h3 class="title">11.1.7. Compute soft delete features</h3></div></div></div><p>
					Compute has a soft-delete feature, which enables an instance that is deleted to be in a soft-delete state for a defined time period. The instance can be restored during this time period. To disable the soft-delete feature, edit the <code class="literal">/var/lib/config-data/puppet-generated/nova_libvirt/etc/nova/nova.conf</code> file and leave the <code class="literal">reclaim_instance_interval</code> option empty.
				</p></section><section class="section" id="ephemeral_storage_for_compute_instances"><div class="titlepage"><div><div><h3 class="title">11.1.8. Ephemeral storage for Compute instances</h3></div></div></div><p>
					Note that the OpenStack Ephemeral disk encryption feature provides a means of improving ephemeral storage privacy and isolation, during both active use as well as when the data is to be destroyed. As in the case of encrypted block storage, one can simply delete the encryption key to effectively destroy the data.
				</p><p>
					Alternate measures to provide data privacy, in the creation and destruction of ephemeral storage, will be somewhat dependent on the chosen hypervisor and the Compute plug-in.
				</p><p>
					The libvirt driver for compute might maintain ephemeral storage directly on a filesystem, or in LVM. Filesystem storage generally will not overwrite data when it is removed, although there is a guarantee that dirty extents are not provisioned to users.
				</p><p>
					When using LVM backed ephemeral storage, which is block-based, it is necessary that the Compute software securely erases blocks to prevent information disclosure. There have previously been information disclosure vulnerabilities related to improperly erased ephemeral block storage devices.
				</p><p>
					Filesystem storage is a more secure solution for ephemeral block storage devices than LVM as dirty extents cannot be provisioned to users. However, it is important to be mindful that user data is not destroyed, so it is suggested to encrypt the backing filesystem.
				</p></section></section><section class="section" id="security_hardening_for_bare_metal_provisioning"><div class="titlepage"><div><div><h2 class="title">11.2. Security hardening for bare metal provisioning</h2></div></div></div><p>
				For your bare metal provisioning infrastructure, you should consider security hardening the baseboard management controllers (BMC) in general, and IPMI in particular. For example, you might isolate these systems within a provisioning network, configure non-default and strong passwords, and disable unwanted management functions. For more information, you can refer to the vendor’s guidance on security hardening these components.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If possible, consider evaluating Redfish-based BMCs over legacy ones.
				</p></div></div><section class="section" id="hardware_identification"><div class="titlepage"><div><div><h3 class="title">11.2.1. Hardware identification</h3></div></div></div><p>
					When deploying a server, there might not always have a reliable way to distinguish it from an attacker’s server. This capability might be dependent on the hardware/BMC to some extent, but generally it seems that there is no verifiable means of identification built into servers.
				</p></section></section><section class="section" id="data_encryption"><div class="titlepage"><div><div><h2 class="title">11.3. Data encryption</h2></div></div></div><p>
				The option exists for implementers to encrypt project data wherever it is stored on disk or transported over a network, such as the OpenStack volume encryption feature described below. This is above and beyond the general recommendation that users encrypt their own data before sending it to their provider.
			</p><p>
				The importance of encrypting data on behalf of projects is largely related to the risk assumed by a provider that an attacker could access project data. There might be requirements here in government, as well as requirements per-policy, in private contract, or even in case law in regard to private contracts for public cloud providers. Consider getting a risk assessment and legal advice before choosing project encryption policies.
			</p><p>
				Per-instance or per-object encryption is preferable over, in descending order, per-project, per-host, and per-cloud aggregations. This recommendation is inverse to the complexity and difficulty of implementation. Presently, in some projects it is difficult or impossible to implement encryption as loosely granular as even per-project. Implementers should give serious consideration to encrypting project data.
			</p><p>
				Often, data encryption relates positively to the ability to reliably destroy project and per-instance data, simply by throwing away the keys. It should be noted that in doing so, it becomes of great importance to destroy those keys in a reliable and secure manner.
			</p><p>
				Opportunities to encrypt data for users are present:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Object Storage objects
					</li><li class="listitem">
						Network data
					</li></ul></div><section class="section" id="volume_encryption"><div class="titlepage"><div><div><h3 class="title">11.3.1. Volume encryption</h3></div></div></div><p>
					A volume encryption feature in OpenStack supports privacy on a per-project basis. The following features are supported:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Creation and usage of encrypted volume types, initiated through the dashboard or a command line interface
						</li><li class="listitem">
							Enable encryption and select parameters such as encryption algorithm and key size
						</li><li class="listitem">
							Volume data contained within iSCSI packets is encrypted
						</li><li class="listitem">
							Supports encrypted backups if the original volume is encrypted
						</li><li class="listitem">
							Dashboard indication of volume encryption status. Includes indication that a volume is encrypted, and includes the encryption parameters such as algorithm and key size
						</li><li class="listitem">
							Interface with the Key management service
						</li></ul></div></section><section class="section" id="object_storage_objects"><div class="titlepage"><div><div><h3 class="title">11.3.2. Object Storage objects</h3></div></div></div><p>
					Object Storage (swift) supports the optional encryption of object data at rest on storage nodes. The encryption of object data is intended to mitigate the risk of user’s` data being read if an unauthorized party were to gain physical access to a disk.
				</p><p>
					Encryption of data at rest is implemented by middleware that may be included in the proxy server WSGI pipeline. The feature is internal to a swift cluster and not exposed through the API. Clients are unaware that data is encrypted by this feature internally to the swift service; internally encrypted data should never be returned to clients through the swift API.
				</p><p>
					The following data are encrypted while at rest in swift:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Object content, for example, the content of an object <code class="literal">PUT</code> request’s body.
						</li><li class="listitem">
							The entity tag (<code class="literal">ETag</code>) of objects that have non-zero content.
						</li><li class="listitem">
							All custom user object metadata values. For example, metadata sent using <code class="literal">X-Object-Meta-</code> prefixed headers with <code class="literal">PUT</code> or <code class="literal">POST</code> requests.
						</li></ul></div><p>
					Any data or metadata not included in the list above is not encrypted, including:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Account, container, and object names
						</li><li class="listitem">
							Account and container custom user metadata values
						</li><li class="listitem">
							All custom user metadata names
						</li><li class="listitem">
							Object Content-Type values
						</li><li class="listitem">
							Object size
						</li><li class="listitem">
							System metadata
						</li></ul></div></section><section class="section" id="block_storage_performance_and_back_ends"><div class="titlepage"><div><div><h3 class="title">11.3.3. Block Storage performance and back ends</h3></div></div></div><p>
					When enabling the operating system, OpenStack Volume Encryption performance can be enhanced by using the hardware acceleration features currently available in both Intel and AMD processors. Both the OpenStack Volume Encryption feature and the OpenStack Ephemeral Disk Encryption feature use <code class="literal">dm-crypt</code> to secure volume data. <code class="literal">dm-crypt</code> is a transparent disk encryption capability in Linux kernel versions 2.6 and later. When using hardware acceleration, the performance impact of both of the encryption features is minimized.
				</p></section><section class="section" id="network_data"><div class="titlepage"><div><div><h3 class="title">11.3.4. Network data</h3></div></div></div><p>
					Project data for Compute nodes could be encrypted over IPsec or other tunnels. This practice is not common or standard in OpenStack, but is an option available to motivated and interested implementers. Likewise, encrypted data remains encrypted as it is transferred over the network.
				</p></section></section><section class="section" id="key_management"><div class="titlepage"><div><div><h2 class="title">11.4. Key management</h2></div></div></div><p>
				To address the often mentioned concern of project data privacy, there is significant interest within the OpenStack community to make data encryption more ubiquitous. It is relatively easy for an end-user to encrypt their data prior to saving it to the cloud, and this is a viable path for project objects such as media files, database archives among others. In some instances, client-side encryption is used to encrypt data held by the virtualization technologies which requires client interaction, such as presenting keys, to decrypt data for future use.
			</p><p>
				Barbican can help projects more seamlessly encrypt the data and have it accessible without burdening the user with key management. Providing encryption and key management services as part of OpenStack eases data-at-rest security adoption and can help address customer concerns about privacy or misuse of data.
			</p><p>
				The volume encryption and ephemeral disk encryption features rely on a key management service (for example, barbican) for the creation and security-hardened storage of keys.
			</p></section></section><section class="chapter" id="managing_instance_security"><div class="titlepage"><div><div><h1 class="title">Chapter 12. Managing instance security</h1></div></div></div><p>
			One of the benefits of running instances in a virtualized environment is the new opportunities for security controls that are not typically available when deploying onto bare metal. Certain technologies can be applied to the virtualization stack that bring improved information assurance for OpenStack deployments. Operators with strong security requirements might want to consider deploying these technologies, however, not all are applicable in every situation. In some cases, technologies might be ruled out for use in a cloud because of prescriptive business requirements. Similarly some technologies inspect instance data such as run state which might be undesirable to the users of the system.
		</p><p>
			This chapter describes these technologies and the situations where they can be used to help improve security for instances or the underlying nodes. Possible privacy concerns are also highlighted, which can include data passthrough, introspection, or entropy sources.
		</p><section class="section" id="supplying_entropy_to_instances"><div class="titlepage"><div><div><h2 class="title">12.1. Supplying entropy to instances</h2></div></div></div><p>
				This chapter uses the term <span class="emphasis"><em>entropy</em></span> to refer to the quality and source of random data that is available to an instance. Cryptographic technologies typically rely heavily on randomness, which requires drawing from a high quality pool of entropy. It is typically difficult for an instance to get enough entropy to support these operations; this is referred to as entropy starvation. This condition can manifest in instances as something seemingly unrelated. For example, slow boot time might be caused by the instance waiting for SSH key generation. This condition can also risk motivating users to use poor quality entropy sources from within the instance, making applications running in the cloud less secure overall.
			</p><p>
				Fortunately, you can help address these issues by providing a high quality source of entropy to the instances. This can be done by having enough hardware random number generators (HRNG) in the cloud to support the instances. In this case, enough is somewhat domain-specific. For everyday operations, a modern HRNG is likely to produce enough entropy to support 50-100 compute nodes. High bandwidth HRNGs, such as the RdRand instruction available with Intel Ivy Bridge and newer processors could potentially handle more nodes. For a given cloud, an architect needs to understand the application requirements to ensure that sufficient entropy is available.
			</p><p>
				The Virtio RNG is a random number generator that uses <code class="literal">/dev/random</code> as the source of entropy by default. It can also can be configured to use a hardware RNG, or a tool such as the entropy gathering daemon (EGD) to provide a way to fairly distribute entropy through a deployment. You can enable Virtio RNG at instance creation time using the <code class="literal">hw_rng</code> metadata property.
			</p></section><section class="section" id="scheduling_instances_to_nodes"><div class="titlepage"><div><div><h2 class="title">12.2. Scheduling instances to nodes</h2></div></div></div><p>
				Before an instance is created, a host for the image instantiation must be selected. This selection is performed by the <code class="literal">nova-scheduler</code> which determines how to dispatch compute and volume requests.
			</p><p>
				The <code class="literal">FilterScheduler</code> is the default scheduler for Compute, although other schedulers exist. This capability works in collaboration with <span class="emphasis"><em>filter hints</em></span> to determine where an instance should be started. This process of host selection allows administrators to fulfill many different security and compliance requirements. If data isolation is a primary concern, you could choose to have project instances reside on the same hosts whenever possible. Conversely, you could attempt to have instances reside on as many different hosts as possible for availability or fault tolerance reasons.
			</p><p>
				Filter schedulers fall under the following main categories:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<span class="emphasis"><em>Resource based filters</em></span> - Determines the placement of an instance, based on the system resource usage of the hypervisor host sets, and can trigger on free or used properties such as RAM, IO, or CPU utilization.
					</li><li class="listitem">
						<span class="emphasis"><em>Image based filters</em></span> - Delegates instance creation based on the image metadata used, such as the operating system of the VM or type of image used.
					</li><li class="listitem">
						<span class="emphasis"><em>Environment based filters</em></span> - Determines the placement of an instance based on external details, such as within a specific IP range, across availability zones, or on the same host as another instance.
					</li><li class="listitem">
						<span class="emphasis"><em>Custom criteria</em></span> - Delegates instance creation based on user or administrator-provided criteria such as trusts or metadata parsing.
					</li></ul></div><p>
				Multiple filters can be applied at once. For example, the <code class="literal">ServerGroupAffinity</code> filter checks that an instance is created on a member of a specific set of hosts, and the <code class="literal">ServerGroupAntiAffinity</code> filter checks that same instance is not created on another specific set of hosts. Note that these two filters would usually be both enabled at the same time, and can never conflict with each other as they each check for the value of a given property, and cannot both be true at the same time.
			</p><p>
				<span class="inlinemediaobject"><img src="filteringWorkflow1.png" alt="filteringWorkflow1"/></span>

			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The <code class="literal">DiskFilter</code> filter is capable of oversubscribing disk space. While not normally an issue, this can be a concern on thinly provisioned storage devices. This filter should be used with well-tested quotas applied. This feature has been deprecated and should not be used after Red Hat OpenStack Platform 12.
				</p></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					Consider disabling filters that parse objects that are provided by users, or could be manipulated (such as metadata).
				</p></div></div></section><section class="section" id="using_trusted_images"><div class="titlepage"><div><div><h2 class="title">12.3. Using trusted images</h2></div></div></div><p>
				In a cloud environment, users work with either pre-installed images or images they upload themselves. In both cases, users should be able to ensure the image they are using has not been tampered with. The ability to verify images is a fundamental imperative for security. A chain of trust is needed from the source of the image to the destination where it is used. This can be accomplished by signing images obtained from trusted sources and by verifying the signature prior to use. Various ways to obtain and create verified images will be discussed below, followed by a description of the image signature verification feature.
			</p><section class="section" id="creating_images"><div class="titlepage"><div><div><h3 class="title">12.3.1. Creating images</h3></div></div></div><p>
					The OpenStack documentation provides guidance on how to create and upload an image to the Image service. In addition, it is assumed that you have a process for installing and hardening the guest operating systems. The following items will provide additional guidance on how transferring your images into OpenStack. There are a variety of options for obtaining images. Each has specific steps that help validate the image’s provenance.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<span class="strong strong"><strong>Option 1</strong></span>: Obtain boot media from a trusted source. For example, you can download images from official Red Hat sources and then perform additional checksum validation.
						</li><li class="listitem">
							<span class="strong strong"><strong>Option 2</strong></span>: Use the OpenStack Virtual Machine Image Guide. In this case, you will want to follow your organizations OS hardening guidelines.
						</li><li class="listitem">
							<span class="strong strong"><strong>Option 3</strong></span>: Use an automated image builder. The following example uses the Oz image builder. The OpenStack community has recently created a newer tool called <code class="literal">disk-image-builder</code>, which has not yet undergone a security evaluation.
						</li></ul></div><p>
					In this example, <code class="literal">RHEL 6 CCE-26976-1</code> helps implement NIST 800-53 Section AC-19(d) within Oz.
				</p><pre class="screen">&lt;template&gt;
&lt;name&gt;centos64&lt;/name&gt;
&lt;os&gt;
  &lt;name&gt;RHEL-6&lt;/name&gt;
  &lt;version&gt;4&lt;/version&gt;
  &lt;arch&gt;x86_64&lt;/arch&gt;
  &lt;install type='iso'&gt;
  &lt;iso&gt;http://trusted_local_iso_mirror/isos/x86_64/RHEL-6.4-x86_64-bin-DVD1.iso&lt;/iso&gt;
  &lt;/install&gt;
  &lt;rootpw&gt;CHANGE THIS TO YOUR ROOT PASSWORD&lt;/rootpw&gt;
&lt;/os&gt;
&lt;description&gt;RHEL 6.4 x86_64&lt;/description&gt;
&lt;repositories&gt;
  &lt;repository name='epel-6'&gt;
  &lt;url&gt;http://download.fedoraproject.org/pub/epel/6/$basearch&lt;/url&gt;
  &lt;signed&gt;no&lt;/signed&gt;
  &lt;/repository&gt;
&lt;/repositories&gt;
&lt;packages&gt;
  &lt;package name='epel-release'/&gt;
  &lt;package name='cloud-utils'/&gt;
  &lt;package name='cloud-init'/&gt;
&lt;/packages&gt;
&lt;commands&gt;
  &lt;command name='update'&gt;
  yum update
  yum clean all
  sed -i '/^HWADDR/d' /etc/sysconfig/network-scripts/ifcfg-eth0
  echo -n &gt; /etc/udev/rules.d/70-persistent-net.rules
  echo -n &gt; /lib/udev/rules.d/75-persistent-net-generator.rules
  chkconfig --level 0123456 autofs off
  service autofs stop
  &lt;/command&gt;
&lt;/commands&gt;
&lt;/template&gt;</pre><p>
					Consider avoiding the manual image building process as it is complex and prone to error. In addition, using an automated system like Oz for image building, or a configuration management utility (like Chef or Puppet) for post-boot image hardening, gives you the ability to produce a consistent image as well as track compliance of your base image to its respective hardening guidelines over time.
				</p><p>
					If subscribing to a public cloud service, you should check with the cloud provider for an outline of the process used to produce their default images. If the provider allows you to upload your own images, you will want to ensure that you are able to verify that your image was not modified before using it to create an instance. To do this, refer to the following section on _ Verifying image signatures_, or the following paragraph if signatures cannot be used.
				</p><p>
					The Image Service (glance) is used to upload the image to the Compute service on a node. This transfer should be further hardened over TLS. Once the image is on the node, it is checked with a basic checksum and then its disk is expanded based on the size of the instance being launched. If, at a later time, the same image is launched with the same instance size on this node, it is launched from the same expanded image. Since this expanded image is not re-verified by default before launching, there is a risk that it has undergone tampering. The user would not be aware of tampering, unless a manual inspection of the files is performed in the resulting image. To help mitigate this, see the following section on the topic of verifying image signatures.
				</p></section><section class="section" id="verifying_image_signatures"><div class="titlepage"><div><div><h3 class="title">12.3.2. Verifying image signatures</h3></div></div></div><p>
					Certain features related to image signing are now available in OpenStack. As of Red Hat OpenStack Platform 13, the Image Service can verify these signed images, and, to provide a full chain of trust, the Compute service has the option to perform image signature verification prior to image boot. Successful signature validation before image boot ensures the signed image hasn’t changed. With this feature enabled, unauthorized modification of images (for example, modifying the image to include malware or rootkits) can be detected.
				</p><p>
					You can enable instance signature verification by setting the <code class="literal">verify_glance_signatures</code> flag to <code class="literal">True</code> in the <code class="literal">/var/lib/config-data/puppet-generated/nova_libvirt/etc/nova/nova.conf</code> file. When enabled, the Compute service automatically validates the signed instance when it is retrieved from glance. If this verification fails, the boot process will not start.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						When this feature is enabled, images that do not have a signature (unsigned images) will also fail verification, and the boot process will not start.
					</p></div></div></section></section><section class="section" id="migrating_instances"><div class="titlepage"><div><div><h2 class="title">12.4. Migrating instances</h2></div></div></div><p>
				OpenStack and the underlying virtualization layers provide for the live migration of images between OpenStack nodes, allowing you to seamlessly perform rolling upgrades of your Compute nodes without instance downtime. However, live migrations also carry significant risk. To understand the risks involved, the following are the high-level steps performed during a live migration:
			</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
						Start instance on destination host
					</li><li class="listitem">
						Transfer memory
					</li><li class="listitem">
						Stop the guest and sync disks
					</li><li class="listitem">
						Transfer the state
					</li><li class="listitem">
						Start the guest
					</li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Certain operations, such as cold migration, resize, and shelve can all result in some amount of transferring the instance’s data to other services, across the network, among others.
				</p></div></div><section class="section" id="live_migration_risks"><div class="titlepage"><div><div><h3 class="title">12.4.1. Live migration risks</h3></div></div></div><p>
					At various stages of the live migration process, the contents of an instance’s run time memory and disk are transmitted over the network in plain text. Consequently there are multiple risks that need to be addressed when using live migration. The following non-exhaustive list details some of these risks:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Denial of Service (DoS): If something fails during the migration process, the instance could be lost.
						</li><li class="listitem">
							Data exposure: Memory or disk transfers must be handled securely.
						</li><li class="listitem">
							Data manipulation: If memory or disk transfers are not handled securely, then an attacker could manipulate user data during the migration.
						</li><li class="listitem">
							Code injection: If memory or disk transfers are not handled securely, then an attacker could manipulate executables, either on disk or in memory, during the migration.
						</li></ul></div></section><section class="section" id="live_migration_mitigations"><div class="titlepage"><div><div><h3 class="title">12.4.2. Live migration mitigations</h3></div></div></div><p>
					There are multiple methods available to help mitigate some of the risk associated with live migrations. These are described in the following sections:
				</p><section class="section" id="disable_live_migration"><div class="titlepage"><div><div><h4 class="title">12.4.2.1. Disable live migration</h4></div></div></div><p>
						Currently, live migration is enabled in OpenStack by default. Live migrations are admin-only tasks by default, so a user cannot initiate this operation, only administrators (which are presumably trusted). Live migrations can be disabled by adding the following lines to the nova <code class="literal">policy.json</code> file:
					</p><pre class="screen">"compute_extension:admin_actions:migrate": "!",
"compute_extension:admin_actions:migrateLive": "!",</pre><p>
						Alternatively, live migration can be expected to fail when blocking TCP ports <code class="literal">49152</code> through <code class="literal">49261</code>, or ensuring that the nova user does not have passwordless SSH access between compute hosts.
					</p><p>
						Note that SSH configuration for live migration is significantly locked down: A new user is created (nova_migration) and the SSH keys are restricted to that user, and only for use on the whitelisted networks. A wrapper script then restricts the commands that can be run (for example, netcat on the libvirt socket).
					</p></section><section class="section" id="migration_network"><div class="titlepage"><div><div><h4 class="title">12.4.2.2. Migration network</h4></div></div></div><p>
						Live migration traffic transfers the contents of disk and memory of a running instance in plain text, and is currently hosted on the Internal API network by default.
					</p></section><section class="section" id="encrypted_live_migration"><div class="titlepage"><div><div><h4 class="title">12.4.2.3. Encrypted live migration</h4></div></div></div><p>
						If there is a sufficient requirement (such as upgrades) for keeping live migration enabled, then libvirtd can provide encrypted tunnels for the live migrations. However, this feature is not exposed in either the OpenStack Dashboard or nova-client commands, and can only be accessed through manual configuration of libvirtd. The live migration process then changes to the following high-level steps:
					</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
								Instance data is copied from the hypervisor to libvirtd.
							</li><li class="listitem">
								An encrypted tunnel is created between libvirtd processes on both source and destination hosts.
							</li><li class="listitem">
								The destination libvirtd host copies the instances back to an underlying hypervisor.
							</li></ol></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							For Red Hat OpenStack Platform 13, the recommended approach is to use tunnelled migration, which is enabled by default when using Ceph as the back end. For more information, see <a class="link" href="https://docs.openstack.org/nova/queens/configuration/config.html#libvirt.live_migration_tunnelled">https://docs.openstack.org/nova/queens/configuration/config.html#libvirt.live_migration_tunnelled</a>.
						</p></div></div></section></section></section><section class="section" id="monitoring_alerting_and_reporting"><div class="titlepage"><div><div><h2 class="title">12.5. Monitoring, alerting, and reporting</h2></div></div></div><p>
				Instances are a server image capable of being replicated across hosts. Consequently, it would be a good practice to apply logging similarly between physical and virtual hosts. Operating system and application events should be logged, including access events to hosts and data, user additions and removals, privilege changes, and others as dictated by your requirements. Consider exporting the results to a log aggregator that collects log events, correlates them for analysis, and stores them for reference or further action. One common tool to do this is an ELK stack, or Elasticsearch, Logstash, and Kibana.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					These logs should be reviewed regularly, or even monitored within a live view performed by a network operations center (NOC).
				</p></div></div><p>
				You will need to further determine which events will trigger an alert that is subsequently sent to a responder for action.
			</p><p>
				For more information, see the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/monitoring_tools_configuration_guide/index">Monitoring Tools Configuration Guide</a>
			</p><section class="section" id="updates_and_patches"><div class="titlepage"><div><div><h3 class="title">12.5.1. Updates and patches</h3></div></div></div><p>
					A hypervisor runs independent virtual machines. This hypervisor can run in an operating system or directly on the hardware (called bare metal). Updates to the hypervisor are not propagated down to the virtual machines. For example, if a deployment is using KVM and has a set of CentOS virtual machines, an update to KVM will not update anything running on the CentOS virtual machines.
				</p><p>
					Consider assigning clear ownership of virtual machines to owners, who are then responsible for the hardening, deployment, and continued functionality of the virtual machines. You should also have a plan to regularly deploy updates, while first testing them in an environment that resembles production.
				</p></section><section class="section" id="firewalls_and_instance_profiles"><div class="titlepage"><div><div><h3 class="title">12.5.2. Firewalls and instance profiles</h3></div></div></div><p>
					Most common operating systems include host-based firewalls for an additional layer of security. While instances should run as few applications as possible (to the point of being single-purpose instances, if possible), all applications running on an instance should be profiled to determine which system resources the application needs access to, the lowest level of privilege required for it to run, and what the expected network traffic is that will be going into and coming from the virtual machine. This expected traffic should be added to the host-based firewall as allowed traffic (or whitelisted), along with any necessary logging and management communication such as SSH or RDP. All other traffic should be explicitly denied in the firewall configuration.
				</p><p>
					On Linux instances, the application profile above can be used in conjunction with a tool like <code class="literal">audit2allow</code> to build an SELinux policy that will further protect sensitive system information on most Linux distributions. SELinux uses a combination of users, policies and security contexts to compartmentalize the resources needed for an application to run, and segmenting it from other system resources that are not needed.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Red Hat OpenStack Platform has SELinux enabled by default, with policies that are customized for OpenStack services. Consider reviewing these polices regularly, as required.
					</p></div></div><section class="section" id="security_groups_2"><div class="titlepage"><div><div><h4 class="title">12.5.2.1. Security Groups</h4></div></div></div><p>
						OpenStack provides security groups for both hosts and the network to add defense-in-depth to the instances in a given project. These are similar to host-based firewalls as they allow or deny incoming traffic based on port, protocol, and address. However, security group rules are applied to incoming traffic only, while host-based firewall rules can be applied to both incoming and outgoing traffic. It is also possible for host and network security group rules to conflict and deny legitimate traffic. Consider checking that security groups are configured correctly for the networking being used. See Security groups in this guide for more detail.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							You should keep security groups and port security enabled unless you specifically need them to be disabled. To build on the defense-in-depth approach, it is recommended that you apply granular rules to instances.
						</p></div></div></section></section><section class="section" id="accessing_the_instance_console"><div class="titlepage"><div><div><h3 class="title">12.5.3. Accessing the instance console</h3></div></div></div><p>
					By default, an instance’s console is remotely accessible through a virtual console. This can be useful for troubleshooting purposes. Red Hat OpenStack Platform uses VNC for remote console access.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Consider locking down the VNC port using firewall rules. By default, <code class="literal">nova_vnc_proxy</code> uses <code class="literal">6080</code> and <code class="literal">13080</code>.
						</li><li class="listitem">
							Confirm that the VNC traffic is encrypted by TLS. For director-based deployments, start with <code class="literal">UseTLSTransportForVnc</code>.
						</li></ul></div></section><section class="section" id="certificate_injection"><div class="titlepage"><div><div><h3 class="title">12.5.4. Certificate injection</h3></div></div></div><p>
					If you need to SSH into your instances, you can configure Compute to automatically inject the required SSH key into the instance upon creation.
				</p><p>
					For more information, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/instances_and_images_guide/#section-create-images">https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/instances_and_images_guide/#section-create-images</a>
				</p></section></section></section><section class="chapter" id="message_queuing"><div class="titlepage"><div><div><h1 class="title">Chapter 13. Message queuing</h1></div></div></div><p>
			Message queuing services facilitate inter-process communication in OpenStack. This is done using these message queuing service back ends:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					RabbitMQ - Red Hat OpenStack Platform uses RabbitMQ by default.
				</li><li class="listitem">
					Qpid
				</li></ul></div><p>
			Both RabbitMQ and Qpid are Advanced Message Queuing Protocol (AMQP) frameworks, which provide message queues for peer-to-peer communication. Queue implementations are typically deployed as a centralized or decentralized pool of queue servers.
		</p><p>
			Message queues effectively facilitate command and control functions across OpenStack deployments. Once access to the queue is permitted, no further authorization checks are performed. Services accessible through the queue do validate the contexts and tokens within the actual message payload. However, you must note the expiration date of the token because tokens are potentially re-playable and can authorize other services in the infrastructure.
		</p><p>
			OpenStack does not support message-level confidence, such as message signing. Consequently, you must secure and authenticate the message transport itself. For high-availability (HA) configurations, you must perform queue-to-queue authentication and encryption.
		</p><section class="section" id="messaging_security"><div class="titlepage"><div><div><h2 class="title">13.1. Messaging security</h2></div></div></div><p>
				This section discusses security hardening approaches for the three most common message queuing solutions used in OpenStack: RabbitMQ and Qpid.
			</p></section><section class="section" id="messaging_transport_security"><div class="titlepage"><div><div><h2 class="title">13.2. Messaging transport security</h2></div></div></div><p>
				AMQP based solutions (Qpid and RabbitMQ) support transport-level security using TLS.
			</p><p>
				Consider enabling transport-level cryptography for your message queue. Using TLS for the messaging client connections provides protection of the communications from tampering and eavesdropping in-transit to the messaging server. Guidance is included below on how TLS is typically configured for the two popular messaging servers: Qpid and RabbitMQ. When configuring the trusted certificate authority (CA) bundle that your messaging server uses to verify client connections, it is recommended that this be limited to only the CA used for your nodes, preferably an internally managed CA. The bundle of trusted CAs will determine which client certificates will be authorized and pass the client-server verification step of the setting up the TLS connection.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					When installing the certificate and key files, ensure that the file permissions are restricted, for example using <code class="literal">chmod 0600</code>, and the ownership is restricted to the messaging server daemon user to prevent unauthorized access by other processes and users on the messaging server.
				</p></div></div><section class="section" id="rabbitmq_server_ssl_configuration"><div class="titlepage"><div><div><h3 class="title">13.2.1. RabbitMQ server SSL configuration</h3></div></div></div><p>
					The following lines should be added to the system-wide RabbitMQ configuration file, typically <code class="literal">/etc/rabbitmq/rabbitmq.config</code>:
				</p><pre class="screen">[
  {rabbit, [
     {tcp_listeners, [] },
     {ssl_listeners, [{"&lt;IP address or hostname of management network interface&gt;", 5671}] },
     {ssl_options, [{cacertfile,"/etc/ssl/cacert.pem"},
                    {certfile,"/etc/ssl/rabbit-server-cert.pem"},
                    {keyfile,"/etc/ssl/rabbit-server-key.pem"},
                    {verify,verify_peer},
                    {fail_if_no_peer_cert,true}]}
   ]}
].</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The <code class="literal">tcp_listeners</code> option is set to <code class="literal">[]</code> to prevent it from listening on a non-SSL port. The <code class="literal">ssl_listeners</code> option should be restricted to only listen on the management network for the services.
					</p></div></div></section></section><section class="section" id="queue_authentication_and_access_control"><div class="titlepage"><div><div><h2 class="title">13.3. Queue authentication and access control</h2></div></div></div><p>
				RabbitMQ and Qpid offer authentication and access control mechanisms for controlling access to queues.
			</p><p>
				Simple Authentication and Security Layer (SASL) is a framework for authentication and data security in Internet protocols. Both RabbitMQ and Qpid offer SASL and other pluggable authentication mechanisms beyond simple usernames and passwords that allow for increased authentication security. While RabbitMQ supports SASL, support in OpenStack does not currently allow for requesting a specific SASL authentication mechanism. RabbitMQ support in OpenStack allows for either username and password authentication over an unencrypted connection or user name and password in conjunction with X.509 client certificates to establish the secure TLS connection.
			</p><p>
				Consider configuring X.509 client certificates on all the OpenStack service nodes for client connections to the messaging queue and where possible (currently only Qpid) perform authentication with X.509 client certificates. When using usernames and passwords, accounts should be created per-service and node for finer grained auditability of access to the queue.
			</p><p>
				Before deployment, consider the TLS libraries that the queuing servers use. Qpid uses Mozilla’s NSS library, whereas RabbitMQ uses Erlang’s TLS module which uses OpenSSL.
			</p><section class="section" id="openstack_service_configuration_for_rabbitmq"><div class="titlepage"><div><div><h3 class="title">13.3.1. OpenStack service configuration for RabbitMQ</h3></div></div></div><p>
					This section describes the typical RabbitMQ configuration for OpenStack services:
				</p><pre class="screen">[DEFAULT]
rpc_backend = nova.openstack.common.rpc.impl_kombu
rabbit_use_ssl = True
rabbit_host = RABBIT_HOST
rabbit_port = 5671
rabbit_user = compute01
rabbit_password = RABBIT_PASS
kombu_ssl_keyfile = /etc/ssl/node-key.pem
kombu_ssl_certfile = /etc/ssl/node-cert.pem
kombu_ssl_ca_certs = /etc/ssl/cacert.pem</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Replace <code class="literal">RABBIT_PASS</code> with a suitable password.
					</p></div></div></section><section class="section" id="openstack_service_configuration_for_qpid"><div class="titlepage"><div><div><h3 class="title">13.3.2. OpenStack service configuration for Qpid</h3></div></div></div><p>
					This section describes the typical Qpid configuration for OpenStack services:
				</p><pre class="screen">[DEFAULT]
rpc_backend = nova.openstack.common.rpc.impl_qpid
qpid_protocol = ssl
qpid_hostname = &lt;IP or hostname of management network interface of messaging server&gt;
qpid_port = 5671
qpid_username = compute01
qpid_password = QPID_PASS</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Replace <code class="literal">QPID_PASS</code> with a suitable password.
					</p></div></div><p>
					Optionally, if using SASL with Qpid specify the SASL mechanisms in use by adding:
				</p><pre class="screen">qpid_sasl_mechanisms = &lt;space separated list of SASL mechanisms to use for auth&gt;</pre></section></section><section class="section" id="message_queue_process_isolation_and_policy"><div class="titlepage"><div><div><h2 class="title">13.4. Message queue process isolation and policy</h2></div></div></div><p>
				Each project provides a number of services which send and consume messages. Each binary which sends a message is expected to consume messages, if only replies, from the queue.
			</p><p>
				Message queue service processes should be isolated from each other and other processes on a machine.
			</p><section class="section" id="namespaces"><div class="titlepage"><div><div><h3 class="title">13.4.1. Namespaces</h3></div></div></div><p>
					Neutron and Open vSwitch (OVS) networking run within namespaces, however certain OVS host services do not, including vswitchd, libvirtd, and QEMU. When running a containerised control plane, all control plane services run within network namespaces by default. Network namespaces are highly recommended for all services running on Compute hypervisors (as they run the AMQP services). This approach can help prevent against the bridging of network traffic between instances and the management network.
				</p></section></section></section><section class="chapter" id="hardening_api_endpoints"><div class="titlepage"><div><div><h1 class="title">Chapter 14. Hardening API endpoints</h1></div></div></div><p>
			The process of engaging with an OpenStack cloud begins by querying an API endpoint. While there are different challenges for public and private endpoints, these are high value assets that can pose a significant risk if compromised.
		</p><p>
			This chapter recommends security enhancements for both public and private-facing API endpoints.
		</p><section class="section" id="api_endpoint_configuration_recommendations"><div class="titlepage"><div><div><h2 class="title">14.1. API endpoint configuration recommendations</h2></div></div></div><p>
				This section describes recommendations for hardening your API endpoints.
			</p><section class="section" id="internal_api_communications"><div class="titlepage"><div><div><h3 class="title">14.1.1. Internal API communications</h3></div></div></div><p>
					OpenStack provides both public-facing, internal admin, and private API endpoints. By default, OpenStack components use the publicly defined endpoints. The recommendation is to configure these components to use the API endpoint within the proper security domain. The internal admin endpoint allows further elevated access to keystone, so it might be desirable to further isolate this.
				</p><p>
					Services select their respective API endpoints based on the OpenStack service catalog. These services might not obey the listed public or internal API endpoint values. This can lead to internal management traffic being routed to external API endpoints.
				</p></section><section class="section" id="configure_internal_urls_in_the_identity_service_catalog"><div class="titlepage"><div><div><h3 class="title">14.1.2. Configure internal URLs in the Identity service catalog</h3></div></div></div><p>
					The Identity service catalog should be aware of your internal URLs. While this feature is not used by default, it may be available through configuration. In addition, it should be forward-compatible with expectant changes once this behavior becomes the default.
				</p><p>
					Consider isolating the configured endpoints from a network level, given that they have different levels of access. The Admin endpoint is intended for access by cloud administrators, as it provides elevated access to keystone operations not available on the internal or public endpoints. The internal endpoints are intended for uses internal to the cloud (for example, by OpenStack services), and usually would not be accessible outside of the deployment network. The public endpoints should be TLS-enabled, and the only API endpoints accessible outside of the deployment for cloud users to operate on.
				</p><p>
					Registration of an internal URL for an endpoint is automated by director. For more information, see <a class="link" href="https://github.com/openstack/tripleo-heat-templates/blob/a7857d6dfcc875eb2bc611dd9334104c18fe8ac6/network/endpoints/build_endpoint_map.py">https://github.com/openstack/tripleo-heat-templates/blob/a7857d6dfcc875eb2bc611dd9334104c18fe8ac6/network/endpoints/build_endpoint_map.py</a>.
				</p></section><section class="section" id="configure_applications_for_internal_urls"><div class="titlepage"><div><div><h3 class="title">14.1.3. Configure applications for internal URLs</h3></div></div></div><p>
					You can force some services to use specific API endpoints. As a result, it is recommended that any OpenStack service that contacts the API of another service must be explicitly configured to access the proper internal API endpoint.
				</p><p>
					Each project might present an inconsistent way of defining target API endpoints. Future releases of OpenStack seek to resolve these inconsistencies through consistent use of the Identity service catalog.
				</p></section><section class="section" id="paste_and_middleware"><div class="titlepage"><div><div><h3 class="title">14.1.4. Paste and middleware</h3></div></div></div><p>
					Most API endpoints and other HTTP services in OpenStack use the Python Paste Deploy library. From a security perspective, this library enables manipulation of the request filter pipeline through the application’s configuration. Each element in this chain is referred to as middleware. Changing the order of filters in the pipeline or adding additional middleware might have unpredictable security impact.
				</p><p>
					Commonly, implementers add middleware to extend OpenStack’s base functionality. Consider giving careful consideration to the potential exposure introduced by the addition of non-standard software components to the HTTP request pipeline.
				</p></section><section class="section" id="api_endpoint_process_isolation_and_policy"><div class="titlepage"><div><div><h3 class="title">14.1.5. API endpoint process isolation and policy</h3></div></div></div><p>
					You should isolate API endpoint processes, especially those that reside within the public security domain should be isolated as much as possible. Where deployments allow, API endpoints should be deployed on separate hosts for increased isolation.
				</p></section><section class="section" id="namespaces_2"><div class="titlepage"><div><div><h3 class="title">14.1.6. Namespaces</h3></div></div></div><p>
					Linux uses namespaces to assign processes into independent domains. Other parts of this guide cover system compartmentalization in more detail.
				</p></section><section class="section" id="network_policy"><div class="titlepage"><div><div><h3 class="title">14.1.7. Network policy</h3></div></div></div><p>
					API endpoints will typically span multiple security zones, so you must pay particular attention to the separation of the API processes. For example, at the network design level, you can consider restricting access to specified systems only. See the guidance on security zones for more information.
				</p><p>
					With careful modeling, you can use network ACLs and IDS technologies to enforce explicit point-to-point communication between network services. As a critical cross domain service, this type of explicit enforcement works well for OpenStack’s message queue service.
				</p><p>
					To enforce policies, you can configure services, host-based firewalls (such as iptables), local policy (SELinux), and optionally global network policy.
				</p></section><section class="section" id="mandatory_access_controls"><div class="titlepage"><div><div><h3 class="title">14.1.8. Mandatory access controls</h3></div></div></div><p>
					You should isolate API endpoint processes from each other and other processes on a machine. The configuration for those processes should be restricted to those processes by Discretionary Access Controls (DAC) and Mandatory Access Controls (MAC). The goal of these enhanced access controls is to aid in the containment of API endpoint security breaches.
				</p></section><section class="section" id="api_endpoint_rate_limiting"><div class="titlepage"><div><div><h3 class="title">14.1.9. API endpoint rate-limiting</h3></div></div></div><p>
					Rate Limiting is a means to control the frequency of events received by a network based application. When robust rate limiting is not present, it can result in an application being susceptible to various denial of service attacks. This is especially true for APIs, which by their nature are designed to accept a high frequency of similar request types and operations.
				</p><p>
					It is recommended that all endpoints (especially public) are give an extra layer of protection, for example, using physical network design, a rate-limiting proxy, or web application firewall.
				</p><p>
					It is key that the operator carefully plans and considers the individual performance needs of users and services within their OpenStack cloud when configuring and implementing any rate limiting functionality.
				</p><p>
					NOTE For Red Hat OpenStack Platform deployments, all services are placed behind load balancing proxies.
				</p></section></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm140085722246944"><h1 class="legalnotice">Legal Notice</h1><div class="para">
				Copyright <span class="trademark"><!--Empty--></span>© 2017 Red Hat, Inc.
			</div><div class="para">
				The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
			</div><div class="para">
				Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
			</div><div class="para">
				Portions adopted from the OpenStack Security Guide. See "Security Guide" in <a class="ulink" href="https://access.redhat.com/articles/1493983">Red Hat OpenStack Platform Licenses for Documentation</a>.
			</div><div class="para">
				Red Hat, Red Hat Enterprise Linux, the Shadowman logo, JBoss, MetaMatrix, Fedora, the Infinity Logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
			</div><div class="para">
				<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
			</div><div class="para">
				<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
			</div><div class="para">
				<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
			</div><div class="para">
				<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
			</div><div class="para">
				<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat Software Collections is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
			</div><div class="para">
				The <span class="trademark">OpenStack</span>® Word Mark and OpenStack Logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
			</div><div class="para">
				All other trademarks are the property of their respective owners.
			</div></div></div></div></div>
  
  </div>
  </div>
</div>
<div id="comments-footer" class="book-comments">
  </div>
<meta itemscope="" itemref="md1">

    <!-- Display: Next/Previous Nav -->
          
      </div>
</article>


  

            </div>
        </main>
    </div>
    <!--googleoff: all-->
    <div id="to-top"><a class="btn_slideto" href="index.html#masthead" aria-label="Back to Top"><span class="web-icon-upload"></span></a></div>
    <footer class="footer-main">
        <div class="footer-top">
            <div class="container">

              <div class="brand">
                <a href="https://redhat.com">
                  <svg class="rh-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 613 145">
                    <defs>
                      <style>
                        .rh-logo-hat {
                          fill: #e00;
                        }
                        .rh-logo-type {
                          fill: #fff;
                        }
                      </style>
                    </defs>
                    <title>Red Hat</title>
                    <path
                      class="rh-logo-hat"
                      d="M127.47,83.49c12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42l-7.45-32.36c-1.72-7.12-3.23-10.35-15.73-16.6C124.89,8.69,103.76.5,97.51.5,91.69.5,90,8,83.06,8c-6.68,0-11.64-5.6-17.89-5.6-6,0-9.91,4.09-12.93,12.5,0,0-8.41,23.72-9.49,27.16A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33C22.27,52,.5,55,.5,74.22c0,31.48,74.59,70.28,133.65,70.28,45.28,0,56.7-20.48,56.7-36.65,0-12.72-11-27.16-30.83-35.78"/>
                      <path class="rh-logo-band"
                      d="M160,72.07c1.73,8.19,1.73,9.05,1.73,10.13,0,14-15.74,21.77-36.43,21.77C78.54,104,37.58,76.6,37.58,58.49a18.45,18.45,0,0,1,1.51-7.33l3.66-9.06A6.43,6.43,0,0,0,42.53,44c0,9.22,36.3,39.45,84.94,39.45,12.51,0,30.61-2.58,30.61-17.46a14,14,0,0,0-.31-3.42Z"/>
                      <path
                      class="rh-logo-type"
                      d="M579.74,92.8c0,11.89,7.15,17.67,20.19,17.67a52.11,52.11,0,0,0,11.89-1.68V95a24.84,24.84,0,0,1-7.68,1.16c-5.37,0-7.36-1.68-7.36-6.73V68.3h15.56V54.1H596.78v-18l-17,3.68V54.1H568.49V68.3h11.25Zm-53,.32c0-3.68,3.69-5.47,9.26-5.47a43.12,43.12,0,0,1,10.1,1.26v7.15a21.51,21.51,0,0,1-10.63,2.63c-5.46,0-8.73-2.1-8.73-5.57m5.2,17.56c6,0,10.84-1.26,15.36-4.31v3.37h16.82V74.08c0-13.56-9.14-21-24.39-21-8.52,0-16.94,2-26,6.1l6.1,12.52c6.52-2.74,12-4.42,16.83-4.42,7,0,10.62,2.73,10.62,8.31v2.73a49.53,49.53,0,0,0-12.62-1.58c-14.31,0-22.93,6-22.93,16.73,0,9.78,7.78,17.24,20.19,17.24m-92.44-.94h18.09V80.92h30.29v28.82H506V36.12H487.93V64.41H457.64V36.12H439.55ZM370.62,81.87c0-8,6.31-14.1,14.62-14.1A17.22,17.22,0,0,1,397,72.09V91.54A16.36,16.36,0,0,1,385.24,96c-8.2,0-14.62-6.1-14.62-14.09m26.61,27.87h16.83V32.44l-17,3.68V57.05a28.3,28.3,0,0,0-14.2-3.68c-16.19,0-28.92,12.51-28.92,28.5a28.25,28.25,0,0,0,28.4,28.6,25.12,25.12,0,0,0,14.93-4.83ZM320,67c5.36,0,9.88,3.47,11.67,8.83H308.47C310.15,70.3,314.36,67,320,67M291.33,82c0,16.2,13.25,28.82,30.28,28.82,9.36,0,16.2-2.53,23.25-8.42l-11.26-10c-2.63,2.74-6.52,4.21-11.14,4.21a14.39,14.39,0,0,1-13.68-8.83h39.65V83.55c0-17.67-11.88-30.39-28.08-30.39a28.57,28.57,0,0,0-29,28.81M262,51.58c6,0,9.36,3.78,9.36,8.31S268,68.2,262,68.2H244.11V51.58Zm-36,58.16h18.09V82.92h13.77l13.89,26.82H292l-16.2-29.45a22.27,22.27,0,0,0,13.88-20.72c0-13.25-10.41-23.45-26-23.45H226Z"/>
                  </svg>
                </a>
              </div>

            <div role="navigation">
                <h3>Quick Links</h3>
                <ul>
                    <li><a class="download-software" href="https://access.redhat.com/downloads/">Downloads</a></li>
                    <li><a class="manage-subscriptions" href="https://access.redhat.com/management/subscriptions/#active">Subscriptions</a></li>
                    <li><a class="support-cases" href="https://access.redhat.com/support">Support Cases</a></li>
                    <li><a class="customer-service" href="https://access.redhat.com/support/customer-service">Customer Service</a></li>
                    <li><a class="quick-docs" href="https://access.redhat.com/documentation">Product Documentation</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>Help</h3>
                <ul>
                    <li><a class="contact-us" href="https://access.redhat.com/support/contact/">Contact Us</a></li>
                    <li><a class="cp-faqs" href="https://access.redhat.com/articles/33844">Customer Portal FAQ</a></li>
                    <li><a class="login-problems" href="https://access.redhat.com/help/login_assistance">Log-in Assistance</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>Site Info</h3>
                <ul>
                  <li><a class="trust-red-hat" href="https://www.redhat.com/en/trust">Trust Red Hat</a></li>
                  <li><a class="browser-support-policy" href="https://access.redhat.com/help/browsers/">Browser Support Policy</a></li>
                  <li><a class="accessibility" href="https://access.redhat.com/help/accessibility/">Accessibility</a></li>
                  <li><a class="recognition" href="https://access.redhat.com/recognition/">Awards and Recognition</a></li>
                  <li><a class="colophon" href="https://access.redhat.com/help/colophon/">Colophon</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>Related Sites</h3>
                <ul>
                    <li><a href="https://www.redhat.com/" class="red-hat-com">redhat.com</a></li>
                    <li><a href="https://www.openshift.com" class="openshift-com">openshift.com</a></li>
                    <li><a href="http://developers.redhat.com/" class="red-hat-developers">developers.redhat.com</a></li>
                    <li><a href="https://connect.redhat.com/" class="partner-connect">connect.redhat.com</a></li>
                </ul>
            </div>

            <div role="navigation">
                <h3>About</h3>
                <ul>
                    <li><a href="https://access.redhat.com/subscription-value" class="subscription-value">Red Hat Subscription Value</a></li>
                    <li><a href="https://www.redhat.com/about/" class="about-red-hat">About Red Hat</a></li>
                    <li><a href="http://jobs.redhat.com" class="about-jobs">Red Hat Jobs</a></li>
                </ul>
            </div>

            </div>
        </div>

        <div class="anchor">
            <div class="container">
                <div class="status-legal">
                    <a hidden href="https://status.redhat.com" class="status-page-widget">
                          <span class="status-description"></span>
                          <span class="status-dot shape-circle"></span>
                    </a>
                    <div class="legal-copyright">
                        <div class="copyright">Copyright © 2020 Red Hat, Inc.</div>

                        <div role="navigation" class="legal">
                            <ul>
                                <li><a href="http://www.redhat.com/en/about/privacy-policy" class="privacy-policy">Privacy Statement</a></li>
                                <li><a href="https://access.redhat.com/help/terms/" class="terms-of-use">Customer Portal Terms of Use</a></li>
                                <li><a href="http://www.redhat.com/en/about/all-policies-guidelines" class="all-policies">All Policies and Guidelines</a></li>
                                <li><a id="teconsent"></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="social">
                    <a href="http://www.redhat.com/summit/" class="summit">
                      <img src="rh-summit-red-a.svg" alt="Red Hat Summit" />
                    </a>

                    <div class="social-media">
                        <a href="https://twitter.com/RedHatSupport" class="sm-icon twitter"><span class="nicon-twitter"></span><span class="offscreen">Twitter</span></a>
                        <a href="https://www.facebook.com/RedHatSupport" class="sm-icon facebook"><span class="nicon-facebook"></span><span class="offscreen">Facebook</span></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- TrustArc -->
    <div id="consent_blackbar"></div> 
    <!--googleon: all-->
</div>
  
  <div id="formatHelp" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="formatTitle" aria-hidden="true"><div class="modal-dialog"><div class="modal-content">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
      <h3 id="formatTitle">Formatting Tips</h3>
    </div>
    <div class="modal-body">
      <p>Here are the common uses of Markdown.</p><dl class="formatting-help">
        <dt class="codeblock">Code blocks</dt><dd class="codeblock"><pre><code>~~~
Code surrounded in tildes is easier to read
~~~</code></pre></dd>
        <dt class="urls">Links/URLs</dt><dd class="urls"><code>[Red Hat Customer Portal](https://access.redhat.com)</code></dd>
       </dl>
    </div>
    <div class="modal-footer">
      <a target="_blank" href="https://access.redhat.com/help/markdown" class="btn btn-primary">Learn more</a>
      <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
    </div>
  </div></div></div></body>
</html>
